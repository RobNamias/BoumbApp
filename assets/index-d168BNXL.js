(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function vT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Tf={exports:{}},Ho={};var _v;function _T(){if(_v)return Ho;_v=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:a,type:i,key:u,ref:o!==void 0?o:null,props:l}}return Ho.Fragment=e,Ho.jsx=n,Ho.jsxs=n,Ho}var bv;function bT(){return bv||(bv=1,Tf.exports=_T()),Tf.exports}var T=bT(),Cf={exports:{}},Te={};var Sv;function ST(){if(Sv)return Te;Sv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function w(M,G,ee){this.props=M,this.context=G,this.refs=C,this.updater=ee||v}w.prototype.isReactComponent={},w.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=w.prototype;function k(M,G,ee){this.props=M,this.context=G,this.refs=C,this.updater=ee||v}var B=k.prototype=new O;B.constructor=k,S(B,w.prototype),B.isPureReactComponent=!0;var N=Array.isArray;function j(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function z(M,G,ee){var re=ee.ref;return{$$typeof:a,type:M,key:G,ref:re!==void 0?re:null,props:ee}}function q(M,G){return z(M.type,G,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function P(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return G[ee]})}var J=/\/+/g;function $(M,G){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):G.toString(36)}function se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(j,j):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,G,ee,re,oe){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var _e=!1;if(M===null)_e=!0;else switch(ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(M.$$typeof){case a:case e:_e=!0;break;case y:return _e=M._init,V(_e(M._payload),G,ee,re,oe)}}if(_e)return oe=oe(M),_e=re===""?"."+$(M,0):re,N(oe)?(ee="",_e!=null&&(ee=_e.replace(J,"$&/")+"/"),V(oe,G,ee,"",function(tt){return tt})):oe!=null&&(I(oe)&&(oe=q(oe,ee+(oe.key==null||M&&M.key===oe.key?"":(""+oe.key).replace(J,"$&/")+"/")+_e)),G.push(oe)),1;_e=0;var ue=re===""?".":re+":";if(N(M))for(var ze=0;ze<M.length;ze++)re=M[ze],ce=ue+$(re,ze),_e+=V(re,G,ee,ce,oe);else if(ze=x(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(re=M.next()).done;)re=re.value,ce=ue+$(re,ze++),_e+=V(re,G,ee,ce,oe);else if(ce==="object"){if(typeof M.then=="function")return V(se(M),G,ee,re,oe);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return _e}function F(M,G,ee){if(M==null)return M;var re=[],oe=0;return V(M,re,"","",function(ce){return G.call(ee,ce,oe++)}),re}function Z(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var ie=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ae={map:F,forEach:function(M,G,ee){F(M,function(){G.apply(this,arguments)},ee)},count:function(M){var G=0;return F(M,function(){G++}),G},toArray:function(M){return F(M,function(G){return G})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=g,Te.Children=ae,Te.Component=w,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=k,Te.StrictMode=i,Te.Suspense=d,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,G,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=S({},M.props),oe=M.key;if(G!=null)for(ce in G.key!==void 0&&(oe=""+G.key),G)!R.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(re[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)re.children=ee;else if(1<ce){for(var _e=Array(ce),ue=0;ue<ce;ue++)_e[ue]=arguments[ue+2];re.children=_e}return z(M.type,oe,re)},Te.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Te.createElement=function(M,G,ee){var re,oe={},ce=null;if(G!=null)for(re in G.key!==void 0&&(ce=""+G.key),G)R.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(oe[re]=G[re]);var _e=arguments.length-2;if(_e===1)oe.children=ee;else if(1<_e){for(var ue=Array(_e),ze=0;ze<_e;ze++)ue[ze]=arguments[ze+2];oe.children=ue}if(M&&M.defaultProps)for(re in _e=M.defaultProps,_e)oe[re]===void 0&&(oe[re]=_e[re]);return z(M,ce,oe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:h,render:M}},Te.isValidElement=I,Te.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:Z}},Te.memo=function(M,G){return{$$typeof:f,type:M,compare:G===void 0?null:G}},Te.startTransition=function(M){var G=D.T,ee={};D.T=ee;try{var re=M(),oe=D.S;oe!==null&&oe(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(j,ie)}catch(ce){ie(ce)}finally{G!==null&&ee.types!==null&&(G.types=ee.types),D.T=G}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(M){return D.H.use(M)},Te.useActionState=function(M,G,ee){return D.H.useActionState(M,G,ee)},Te.useCallback=function(M,G){return D.H.useCallback(M,G)},Te.useContext=function(M){return D.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,G){return D.H.useDeferredValue(M,G)},Te.useEffect=function(M,G){return D.H.useEffect(M,G)},Te.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(M,G,ee){return D.H.useImperativeHandle(M,G,ee)},Te.useInsertionEffect=function(M,G){return D.H.useInsertionEffect(M,G)},Te.useLayoutEffect=function(M,G){return D.H.useLayoutEffect(M,G)},Te.useMemo=function(M,G){return D.H.useMemo(M,G)},Te.useOptimistic=function(M,G){return D.H.useOptimistic(M,G)},Te.useReducer=function(M,G,ee){return D.H.useReducer(M,G,ee)},Te.useRef=function(M){return D.H.useRef(M)},Te.useState=function(M){return D.H.useState(M)},Te.useSyncExternalStore=function(M,G,ee){return D.H.useSyncExternalStore(M,G,ee)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.2.0",Te}var xv;function Ru(){return xv||(xv=1,Cf.exports=ST()),Cf.exports}var A=Ru();const gt=vT(A);var wf={exports:{}},Fo={},Ef={exports:{}},Af={};var Tv;function xT(){return Tv||(Tv=1,(function(a){function e(V,F){var Z=V.length;V.push(F);e:for(;0<Z;){var ie=Z-1>>>1,ae=V[ie];if(0<o(ae,F))V[ie]=F,V[Z]=ae,Z=ie;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var F=V[0],Z=V.pop();if(Z!==F){V[0]=Z;e:for(var ie=0,ae=V.length,M=ae>>>1;ie<M;){var G=2*(ie+1)-1,ee=V[G],re=G+1,oe=V[re];if(0>o(ee,Z))re<ae&&0>o(oe,ee)?(V[ie]=oe,V[re]=Z,ie=re):(V[ie]=ee,V[G]=Z,ie=G);else if(re<ae&&0>o(oe,Z))V[ie]=oe,V[re]=Z,ie=re;else break e}}return F}function o(V,F){var Z=V.sortIndex-F.sortIndex;return Z!==0?Z:V.id-F.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();a.unstable_now=function(){return u.now()-h}}var d=[],f=[],y=1,g=null,_=3,x=!1,v=!1,S=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(V){for(var F=n(f);F!==null;){if(F.callback===null)i(f);else if(F.startTime<=V)i(f),F.sortIndex=F.expirationTime,e(d,F);else break;F=n(f)}}function N(V){if(S=!1,B(V),!v)if(n(d)!==null)v=!0,j||(j=!0,P());else{var F=n(f);F!==null&&se(N,F.startTime-V)}}var j=!1,D=-1,R=5,z=-1;function q(){return C?!0:!(a.unstable_now()-z<R)}function I(){if(C=!1,j){var V=a.unstable_now();z=V;var F=!0;try{e:{v=!1,S&&(S=!1,O(D),D=-1),x=!0;var Z=_;try{t:{for(B(V),g=n(d);g!==null&&!(g.expirationTime>V&&q());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,_=g.priorityLevel;var ae=ie(g.expirationTime<=V);if(V=a.unstable_now(),typeof ae=="function"){g.callback=ae,B(V),F=!0;break t}g===n(d)&&i(d),B(V)}else i(d);g=n(d)}if(g!==null)F=!0;else{var M=n(f);M!==null&&se(N,M.startTime-V),F=!1}}break e}finally{g=null,_=Z,x=!1}F=void 0}}finally{F?P():j=!1}}}var P;if(typeof k=="function")P=function(){k(I)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=I,P=function(){$.postMessage(null)}}else P=function(){w(I,0)};function se(V,F){D=w(function(){V(a.unstable_now())},F)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(V){V.callback=null},a.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(V){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var Z=_;_=F;try{return V()}finally{_=Z}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=_;_=V;try{return F()}finally{_=Z}},a.unstable_scheduleCallback=function(V,F,Z){var ie=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ie+Z:ie):Z=ie,V){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,V={id:y++,callback:F,priorityLevel:V,startTime:Z,expirationTime:ae,sortIndex:-1},Z>ie?(V.sortIndex=Z,e(f,V),n(d)===null&&V===n(f)&&(S?(O(D),D=-1):S=!0,se(N,Z-ie))):(V.sortIndex=ae,e(d,V),v||x||(v=!0,j||(j=!0,P()))),V},a.unstable_shouldYield=q,a.unstable_wrapCallback=function(V){var F=_;return function(){var Z=_;_=F;try{return V.apply(this,arguments)}finally{_=Z}}}})(Af)),Af}var Cv;function TT(){return Cv||(Cv=1,Ef.exports=xT()),Ef.exports}var Nf={exports:{}},en={};var wv;function CT(){if(wv)return en;wv=1;var a=Ru();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,f,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:d,containerInfo:f,implementation:y}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(d,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(d,f,null,y)},en.flushSync=function(d){var f=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=f,i.p=y,i.d.f()}},en.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},en.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},en.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var y=f.as,g=h(y,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:x}):y==="script"&&i.d.X(d,{crossOrigin:g,integrity:_,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},en.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=h(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},en.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,g=h(y,f.crossOrigin);i.d.L(d,y,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},en.preloadModule=function(d,f){if(typeof d=="string")if(f){var y=h(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},en.requestFormReset=function(d){i.d.r(d)},en.unstable_batchedUpdates=function(d,f){return d(f)},en.useFormState=function(d,f,y){return u.H.useFormState(d,f,y)},en.useFormStatus=function(){return u.H.useHostTransitionStatus()},en.version="19.2.0",en}var Ev;function K_(){if(Ev)return Nf.exports;Ev=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=CT(),Nf.exports}var Av;function wT(){if(Av)return Fo;Av=1;var a=TT(),e=Ru(),n=K_();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function d(t){if(l(t)!==t)throw Error(i(188))}function f(t){var s=t.alternate;if(!s){if(s=l(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,c=s;;){var p=r.return;if(p===null)break;var m=p.alternate;if(m===null){if(c=p.return,c!==null){r=c;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===r)return d(p),t;if(m===c)return d(p),s;m=m.sibling}throw Error(i(188))}if(r.return!==c.return)r=p,c=m;else{for(var b=!1,E=p.child;E;){if(E===r){b=!0,r=p,c=m;break}if(E===c){b=!0,c=p,r=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===r){b=!0,r=m,c=p;break}if(E===c){b=!0,c=m,r=p;break}E=E.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==c)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function y(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=y(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var J=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===J?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList";case z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case k:return t.displayName||"Context";case O:return(t._context.displayName||"Context")+".Consumer";case B:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return s=t.displayName||null,s!==null?s:$(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return $(t(s))}catch{}}return null}var se=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ie=[],ae=-1;function M(t){return{current:t}}function G(t){0>ae||(t.current=ie[ae],ie[ae]=null,ae--)}function ee(t,s){ae++,ie[ae]=t.current,t.current=s}var re=M(null),oe=M(null),ce=M(null),_e=M(null);function ue(t,s){switch(ee(ce,s),ee(oe,t),ee(re,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?P0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=P0(s),t=H0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(re),ee(re,t)}function ze(){G(re),G(oe),G(ce)}function tt(t){t.memoizedState!==null&&ee(_e,t);var s=re.current,r=H0(s,t.type);s!==r&&(ee(oe,t),ee(re,r))}function ye(t){oe.current===t&&(G(re),G(oe)),_e.current===t&&(G(_e),Bo._currentValue=Z)}var Oe,Mn;function Ht(t){if(Oe===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Oe=s&&s[1]||"",Mn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+t+Mn}var le=!1;function me(t,s){if(!t||le)return"";le=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var W=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){W=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){W=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var L=b.split(`
`),X=E.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===X.length)for(c=L.length-1,p=X.length-1;1<=c&&0<=p&&L[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==X[p]){var K=`
`+L[c].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=c&&0<=p);break}}}finally{le=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ht(r):""}function ut(t,s){switch(t.tag){case 26:case 27:case 5:return Ht(t.type);case 16:return Ht("Lazy");case 13:return t.child!==s&&s!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return me(t.type,!1);case 11:return me(t.type.render,!1);case 1:return me(t.type,!0);case 31:return Ht("Activity");default:return""}}function Fe(t){try{var s="",r=null;do s+=ut(t,r),r=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ae=Object.prototype.hasOwnProperty,je=a.unstable_scheduleCallback,_t=a.unstable_cancelCallback,rn=a.unstable_shouldYield,Cs=a.unstable_requestPaint,Et=a.unstable_now,Zr=a.unstable_getCurrentPriorityLevel,Va=a.unstable_ImmediatePriority,Is=a.unstable_UserBlockingPriority,ls=a.unstable_NormalPriority,na=a.unstable_LowPriority,Kr=a.unstable_IdlePriority,ws=a.log,jl=a.unstable_setDisableYieldValue,sa=null,on=null;function Gn(t){if(typeof ws=="function"&&jl(t),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(sa,t)}catch{}}var Kt=Math.clz32?Math.clz32:dh,hh=Math.log,Ll=Math.LN2;function dh(t){return t>>>=0,t===0?32:31-(hh(t)/Ll|0)|0}var qa=256,Ba=262144,bt=4194304;function St(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vt(t,s,r){var c=t.pendingLanes;if(c===0)return 0;var p=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?p=St(c):(b&=E,b!==0?p=St(b):r||(r=E&~t,r!==0&&(p=St(r))))):(E=c&~m,E!==0?p=St(E):b!==0?p=St(b):r||(r=c&~t,r!==0&&(p=St(r)))),p===0?0:s!==0&&s!==p&&(s&m)===0&&(m=p&-p,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:p}function mn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function gn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jt(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function yn(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function $n(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dt(t,s,r,c,p,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,L=t.expirationTimes,X=t.hiddenUpdates;for(r=b&~r;0<r;){var K=31-Kt(r),ne=1<<K;E[K]=0,L[K]=-1;var W=X[K];if(W!==null)for(X[K]=null,K=0;K<W.length;K++){var Q=W[K];Q!==null&&(Q.lane&=-536870913)}r&=~ne}c!==0&&cs(t,c,0),m!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function cs(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Kt(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|r&261930}function kn(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var c=31-Kt(r),p=1<<c;p&s|t[c]&s&&(t[c]|=s),r&=~p}}function Yn(t,s){var r=s&-s;return r=(r&42)!==0?1:Ps(r),(r&(t.suspendedLanes|s))!==0?0:r}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function us(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:dv(t.type))}function vi(t,s){var r=F.p;try{return F.p=t,s()}finally{F.p=r}}var Xn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Xn,vn="__reactProps$"+Xn,Ua="__reactContainer$"+Xn,fh="__reactEvents$"+Xn,oS="__reactListeners$"+Xn,lS="__reactHandles$"+Xn,Om="__reactResources$"+Xn,Jr="__reactMarker$"+Xn;function ph(t){delete t[Ft],delete t[vn],delete t[fh],delete t[oS],delete t[lS]}function Ia(t){var s=t[Ft];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ua]||r[Ft]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Q0(t);t!==null;){if(r=t[Ft])return r;t=Q0(t)}return s}t=r,r=t.parentNode}return null}function Pa(t){if(t=t[Ft]||t[Ua]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function eo(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ha(t){var s=t[Om];return s||(s=t[Om]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(t){t[Jr]=!0}var Mm=new Set,km={};function ia(t,s){Fa(t,s),Fa(t+"Capture",s)}function Fa(t,s){for(km[t]=s,t=0;t<s.length;t++)Mm.add(s[t])}var cS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dm={},Rm={};function uS(t){return Ae.call(Rm,t)?!0:Ae.call(Dm,t)?!1:cS.test(t)?Rm[t]=!0:(Dm[t]=!0,!1)}function zl(t,s,r){if(uS(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Vl(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Fs(t,s,r,c){if(c===null)t.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+c)}}function Wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hS(t,s,r){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function mh(t){if(!t._valueTracker){var s=jm(t)?"checked":"value";t._valueTracker=hS(t,s,""+t[s])}}function Lm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),c="";return t&&(c=jm(t)?t.checked?"true":"false":t.value),t=c,t!==r?(s.setValue(t),!0):!1}function ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dS=/[\n"\\]/g;function Qn(t){return t.replace(dS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gh(t,s,r,c,p,m,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Wn(s)):t.value!==""+Wn(s)&&(t.value=""+Wn(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?yh(t,b,Wn(s)):r!=null?yh(t,b,Wn(r)):c!=null&&t.removeAttribute("value"),p==null&&m!=null&&(t.defaultChecked=!!m),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Wn(E):t.removeAttribute("name")}function zm(t,s,r,c,p,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){mh(t);return}r=r!=null?""+Wn(r):"",s=s!=null?""+Wn(s):r,E||s===t.value||(t.value=s),t.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=E?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),mh(t)}function yh(t,s,r){s==="number"&&ql(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ga(t,s,r,c){if(t=t.options,s){s={};for(var p=0;p<r.length;p++)s["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=s.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&c&&(t[r].defaultSelected=!0)}else{for(r=""+Wn(r),s=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Vm(t,s,r){if(s!=null&&(s=""+Wn(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+Wn(r):""}function qm(t,s,r,c){if(s==null){if(c!=null){if(r!=null)throw Error(i(92));if(se(c)){if(1<c.length)throw Error(i(93));c=c[0]}r=c}r==null&&(r=""),s=r}r=Wn(s),t.defaultValue=r,c=t.textContent,c===r&&c!==""&&c!==null&&(t.value=c),mh(t)}function $a(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var fS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bm(t,s,r){var c=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,r):typeof r!="number"||r===0||fS.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Um(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&r[p]!==c&&Bm(t,p,c)}else for(var m in s)s.hasOwnProperty(m)&&Bm(t,m,s[m])}function vh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(t){return mS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gs(){}var _h=null;function bh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ya=null,Xa=null;function Im(t){var s=Pa(t);if(s&&(t=s.stateNode)){var r=t[vn]||null;e:switch(t=s.stateNode,s.type){case"input":if(gh(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Qn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var c=r[s];if(c!==t&&c.form===t.form){var p=c[vn]||null;if(!p)throw Error(i(90));gh(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<r.length;s++)c=r[s],c.form===t.form&&Lm(c)}break e;case"textarea":Vm(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Ga(t,!!r.multiple,s,!1)}}}var Sh=!1;function Pm(t,s,r){if(Sh)return t(s,r);Sh=!0;try{var c=t(s);return c}finally{if(Sh=!1,(Ya!==null||Xa!==null)&&(Ec(),Ya&&(s=Ya,t=Xa,Xa=Ya=null,Im(s),t)))for(s=0;s<t.length;s++)Im(t[s])}}function to(t,s){var r=t.stateNode;if(r===null)return null;var c=r[vn]||null;if(c===null)return null;r=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=!1;if($s)try{var no={};Object.defineProperty(no,"passive",{get:function(){xh=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{xh=!1}var _i=null,Th=null,Ul=null;function Hm(){if(Ul)return Ul;var t,s=Th,r=s.length,c,p="value"in _i?_i.value:_i.textContent,m=p.length;for(t=0;t<r&&s[t]===p[t];t++);var b=r-t;for(c=1;c<=b&&s[r-c]===p[m-c];c++);return Ul=p.slice(t,1<c?1-c:void 0)}function Il(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function Fm(){return!1}function _n(t){function s(r,c,p,m,b){this._reactName=r,this._targetInst=p,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Pl:Fm,this.isPropagationStopped=Fm,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),s}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=_n(aa),so=g({},aa,{view:0,detail:0}),gS=_n(so),Ch,wh,io,Fl=g({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==io&&(io&&t.type==="mousemove"?(Ch=t.screenX-io.screenX,wh=t.screenY-io.screenY):wh=Ch=0,io=t),Ch)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),Gm=_n(Fl),yS=g({},Fl,{dataTransfer:0}),vS=_n(yS),_S=g({},so,{relatedTarget:0}),Eh=_n(_S),bS=g({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=_n(bS),xS=g({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TS=_n(xS),CS=g({},aa,{data:0}),$m=_n(CS),wS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=AS[t])?!!s[t]:!1}function Ah(){return NS}var OS=g({},so,{key:function(t){if(t.key){var s=wS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ES[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(t){return t.type==="keypress"?Il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MS=_n(OS),kS=g({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=_n(kS),DS=g({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),RS=_n(DS),jS=g({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=_n(jS),zS=g({},Fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=_n(zS),qS=g({},aa,{newState:0,oldState:0}),BS=_n(qS),US=[9,13,27,32],Nh=$s&&"CompositionEvent"in window,ao=null;$s&&"documentMode"in document&&(ao=document.documentMode);var IS=$s&&"TextEvent"in window&&!ao,Xm=$s&&(!Nh||ao&&8<ao&&11>=ao),Wm=" ",Qm=!1;function Zm(t,s){switch(t){case"keyup":return US.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Km(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function PS(t,s){switch(t){case"compositionend":return Km(s);case"keypress":return s.which!==32?null:(Qm=!0,Wm);case"textInput":return t=s.data,t===Wm&&Qm?null:t;default:return null}}function HS(t,s){if(Wa)return t==="compositionend"||!Nh&&Zm(t,s)?(t=Hm(),Ul=Th=_i=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xm&&s.locale!=="ko"?null:s.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!FS[t.type]:s==="textarea"}function eg(t,s,r,c){Ya?Xa?Xa.push(c):Xa=[c]:Ya=c,s=Rc(s,"onChange"),0<s.length&&(r=new Hl("onChange","change",null,r,c),t.push({event:r,listeners:s}))}var ro=null,oo=null;function GS(t){z0(t,0)}function Gl(t){var s=eo(t);if(Lm(s))return t}function tg(t,s){if(t==="change")return s}var ng=!1;if($s){var Oh;if($s){var Mh="oninput"in document;if(!Mh){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Mh=typeof sg.oninput=="function"}Oh=Mh}else Oh=!1;ng=Oh&&(!document.documentMode||9<document.documentMode)}function ig(){ro&&(ro.detachEvent("onpropertychange",ag),oo=ro=null)}function ag(t){if(t.propertyName==="value"&&Gl(oo)){var s=[];eg(s,oo,t,bh(t)),Pm(GS,s)}}function $S(t,s,r){t==="focusin"?(ig(),ro=s,oo=r,ro.attachEvent("onpropertychange",ag)):t==="focusout"&&ig()}function YS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gl(oo)}function XS(t,s){if(t==="click")return Gl(s)}function WS(t,s){if(t==="input"||t==="change")return Gl(s)}function QS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Dn=typeof Object.is=="function"?Object.is:QS;function lo(t,s){if(Dn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),c=Object.keys(s);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var p=r[c];if(!Ae.call(s,p)||!Dn(t[p],s[p]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,s){var r=rg(t);t=0;for(var c;r;){if(r.nodeType===3){if(c=t+r.textContent.length,t<=s&&c>=s)return{node:r,offset:s-t};t=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rg(r)}}function lg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?lg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ql(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=ql(t.document)}return s}function kh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var ZS=$s&&"documentMode"in document&&11>=document.documentMode,Qa=null,Dh=null,co=null,Rh=!1;function ug(t,s,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||Qa==null||Qa!==ql(c)||(c=Qa,"selectionStart"in c&&kh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),co&&lo(co,c)||(co=c,c=Rc(Dh,"onSelect"),0<c.length&&(s=new Hl("onSelect","select",null,s,r),t.push({event:s,listeners:c}),s.target=Qa)))}function ra(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Za={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},jh={},hg={};$s&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function oa(t){if(jh[t])return jh[t];if(!Za[t])return t;var s=Za[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in hg)return jh[t]=s[r];return t}var dg=oa("animationend"),fg=oa("animationiteration"),pg=oa("animationstart"),KS=oa("transitionrun"),JS=oa("transitionstart"),ex=oa("transitioncancel"),mg=oa("transitionend"),gg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function hs(t,s){gg.set(t,s),ia(s,[t])}var $l=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Ka=0,zh=0;function Yl(){for(var t=Ka,s=zh=Ka=0;s<t;){var r=Zn[s];Zn[s++]=null;var c=Zn[s];Zn[s++]=null;var p=Zn[s];Zn[s++]=null;var m=Zn[s];if(Zn[s++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}m!==0&&yg(r,p,m)}}function Xl(t,s,r,c){Zn[Ka++]=t,Zn[Ka++]=s,Zn[Ka++]=r,Zn[Ka++]=c,zh|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Vh(t,s,r,c){return Xl(t,s,r,c),Wl(t)}function la(t,s){return Xl(t,null,null,s),Wl(t)}function yg(t,s,r){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r);for(var p=!1,m=t.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(p=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,p&&s!==null&&(p=31-Kt(r),t=m.hiddenUpdates,c=t[p],c===null?t[p]=[s]:c.push(s),s.lane=r|536870912),m):null}function Wl(t){if(50<Do)throw Do=0,$d=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ja={};function tx(t,s,r,c){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,s,r,c){return new tx(t,s,r,c)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ys(t,s){var r=t.alternate;return r===null?(r=Rn(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function vg(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ql(t,s,r,c,p,m){var b=0;if(c=t,typeof t=="function")qh(t)&&(b=1);else if(typeof t=="string")b=rT(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case z:return t=Rn(31,r,s,p),t.elementType=z,t.lanes=m,t;case S:return ca(r.children,p,m,s);case C:b=8,p|=24;break;case w:return t=Rn(12,r,s,p|2),t.elementType=w,t.lanes=m,t;case N:return t=Rn(13,r,s,p),t.elementType=N,t.lanes=m,t;case j:return t=Rn(19,r,s,p),t.elementType=j,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:b=10;break e;case O:b=9;break e;case B:b=11;break e;case D:b=14;break e;case R:b=16,c=null;break e}b=29,r=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=Rn(b,r,s,p),s.elementType=t,s.type=c,s.lanes=m,s}function ca(t,s,r,c){return t=Rn(7,t,c,s),t.lanes=r,t}function Bh(t,s,r){return t=Rn(6,t,null,s),t.lanes=r,t}function _g(t){var s=Rn(18,null,null,0);return s.stateNode=t,s}function Uh(t,s,r){return s=Rn(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var bg=new WeakMap;function Kn(t,s){if(typeof t=="object"&&t!==null){var r=bg.get(t);return r!==void 0?r:(s={value:t,source:s,stack:Fe(s)},bg.set(t,s),s)}return{value:t,source:s,stack:Fe(s)}}var er=[],tr=0,Zl=null,uo=0,Jn=[],es=0,bi=null,Es=1,As="";function Xs(t,s){er[tr++]=uo,er[tr++]=Zl,Zl=t,uo=s}function Sg(t,s,r){Jn[es++]=Es,Jn[es++]=As,Jn[es++]=bi,bi=t;var c=Es;t=As;var p=32-Kt(c)-1;c&=~(1<<p),r+=1;var m=32-Kt(s)+p;if(30<m){var b=p-p%5;m=(c&(1<<b)-1).toString(32),c>>=b,p-=b,Es=1<<32-Kt(s)+p|r<<p|c,As=m+t}else Es=1<<m|r<<p|c,As=t}function Ih(t){t.return!==null&&(Xs(t,1),Sg(t,1,0))}function Ph(t){for(;t===Zl;)Zl=er[--tr],er[tr]=null,uo=er[--tr],er[tr]=null;for(;t===bi;)bi=Jn[--es],Jn[es]=null,As=Jn[--es],Jn[es]=null,Es=Jn[--es],Jn[es]=null}function xg(t,s){Jn[es++]=Es,Jn[es++]=As,Jn[es++]=bi,Es=s.id,As=s.overflow,bi=t}var Gt=null,rt=null,Le=!1,Si=null,ts=!1,Hh=Error(i(519));function xi(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(Kn(s,t)),Hh}function Tg(t){var s=t.stateNode,r=t.type,c=t.memoizedProps;switch(s[Ft]=t,s[vn]=c,r){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(r=0;r<jo.length;r++)ke(jo[r],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),zm(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),qm(s,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||c.suppressHydrationWarning===!0||U0(s.textContent,r)?(c.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),c.onScroll!=null&&ke("scroll",s),c.onScrollEnd!=null&&ke("scrollend",s),c.onClick!=null&&(s.onclick=Gs),s=!0):s=!1,s||xi(t,!0)}function Cg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Gt=Gt.return}}function nr(t){if(t!==Gt)return!1;if(!Le)return Cg(t),Le=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||lf(t.type,t.memoizedProps)),r=!r),r&&rt&&xi(t),Cg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=W0(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=W0(t)}else s===27?(s=rt,zi(t.type)?(t=ff,ff=null,rt=t):rt=s):rt=Gt?ss(t.stateNode.nextSibling):null;return!0}function ua(){rt=Gt=null,Le=!1}function Fh(){var t=Si;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Si=null),t}function ho(t){Si===null?Si=[t]:Si.push(t)}var Gh=M(null),ha=null,Ws=null;function Ti(t,s,r){ee(Gh,s._currentValue),s._currentValue=r}function Qs(t){t._currentValue=Gh.current,G(Gh)}function $h(t,s,r){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===r)break;t=t.return}}function Yh(t,s,r,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var m=p.dependencies;if(m!==null){var b=p.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=p;for(var L=0;L<s.length;L++)if(E.context===s[L]){m.lanes|=r,E=m.alternate,E!==null&&(E.lanes|=r),$h(m.return,r,t),c||(b=null);break e}m=E.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),$h(b,r,t),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===t){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function sr(t,s,r,c){t=null;for(var p=s,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=p.type;Dn(p.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(p===_e.current){if(b=p.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Bo):t=[Bo])}p=p.return}t!==null&&Yh(s,t,r,c),s.flags|=262144}function Kl(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){ha=t,Ws=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return wg(ha,t)}function Jl(t,s){return ha===null&&da(t),wg(t,s)}function wg(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Ws===null){if(t===null)throw Error(i(308));Ws=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ws=Ws.next=s;return r}var nx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},sx=a.unstable_scheduleCallback,ix=a.unstable_NormalPriority,At={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new nx,data:new Map,refCount:0}}function fo(t){t.refCount--,t.refCount===0&&sx(ix,function(){t.controller.abort()})}var po=null,Wh=0,ir=0,ar=null;function ax(t,s){if(po===null){var r=po=[];Wh=0,ir=Kd(),ar={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Wh++,s.then(Eg,Eg),s}function Eg(){if(--Wh===0&&po!==null){ar!==null&&(ar.status="fulfilled");var t=po;po=null,ir=0,ar=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function rx(t,s){var r=[],c={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<r.length;p++)(0,r[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),c}var Ag=V.S;V.S=function(t,s){u0=Et(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ax(t,s),Ag!==null&&Ag(t,s)};var fa=M(null);function Qh(){var t=fa.current;return t!==null?t:nt.pooledCache}function ec(t,s){s===null?ee(fa,fa.current):ee(fa,s.pool)}function Ng(){var t=Qh();return t===null?null:{parent:At._currentValue,pool:t}}var rr=Error(i(460)),Zh=Error(i(474)),tc=Error(i(542)),nc={then:function(){}};function Og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mg(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Gs,Gs),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Dg(t),t;default:if(typeof s.status=="string")s.then(Gs,Gs);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Dg(t),t}throw ma=s,rr}}function pa(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ma=r,rr):r}}var ma=null;function kg(){if(ma===null)throw Error(i(459));var t=ma;return ma=null,t}function Dg(t){if(t===rr||t===tc)throw Error(i(483))}var or=null,mo=0;function sc(t){var s=mo;return mo+=1,or===null&&(or=[]),Mg(or,t,s)}function go(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function ic(t,s){throw s.$$typeof===_?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Rg(t){function s(H,U){if(t){var Y=H.deletions;Y===null?(H.deletions=[U],H.flags|=16):Y.push(U)}}function r(H,U){if(!t)return null;for(;U!==null;)s(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function p(H,U){return H=Ys(H,U),H.index=0,H.sibling=null,H}function m(H,U,Y){return H.index=Y,t?(Y=H.alternate,Y!==null?(Y=Y.index,Y<U?(H.flags|=67108866,U):Y):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function b(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function E(H,U,Y,te){return U===null||U.tag!==6?(U=Bh(Y,H.mode,te),U.return=H,U):(U=p(U,Y),U.return=H,U)}function L(H,U,Y,te){var ve=Y.type;return ve===S?K(H,U,Y.props.children,te,Y.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&pa(ve)===U.type)?(U=p(U,Y.props),go(U,Y),U.return=H,U):(U=Ql(Y.type,Y.key,Y.props,null,H.mode,te),go(U,Y),U.return=H,U)}function X(H,U,Y,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Uh(Y,H.mode,te),U.return=H,U):(U=p(U,Y.children||[]),U.return=H,U)}function K(H,U,Y,te,ve){return U===null||U.tag!==7?(U=ca(Y,H.mode,te,ve),U.return=H,U):(U=p(U,Y),U.return=H,U)}function ne(H,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Bh(""+U,H.mode,Y),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return Y=Ql(U.type,U.key,U.props,null,H.mode,Y),go(Y,U),Y.return=H,Y;case v:return U=Uh(U,H.mode,Y),U.return=H,U;case R:return U=pa(U),ne(H,U,Y)}if(se(U)||P(U))return U=ca(U,H.mode,Y,null),U.return=H,U;if(typeof U.then=="function")return ne(H,sc(U),Y);if(U.$$typeof===k)return ne(H,Jl(H,U),Y);ic(H,U)}return null}function W(H,U,Y,te){var ve=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:E(H,U,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===ve?L(H,U,Y,te):null;case v:return Y.key===ve?X(H,U,Y,te):null;case R:return Y=pa(Y),W(H,U,Y,te)}if(se(Y)||P(Y))return ve!==null?null:K(H,U,Y,te,null);if(typeof Y.then=="function")return W(H,U,sc(Y),te);if(Y.$$typeof===k)return W(H,U,Jl(H,Y),te);ic(H,Y)}return null}function Q(H,U,Y,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(Y)||null,E(U,H,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return H=H.get(te.key===null?Y:te.key)||null,L(U,H,te,ve);case v:return H=H.get(te.key===null?Y:te.key)||null,X(U,H,te,ve);case R:return te=pa(te),Q(H,U,Y,te,ve)}if(se(te)||P(te))return H=H.get(Y)||null,K(U,H,te,ve,null);if(typeof te.then=="function")return Q(H,U,Y,sc(te),ve);if(te.$$typeof===k)return Q(H,U,Y,Jl(U,te),ve);ic(U,te)}return null}function he(H,U,Y,te){for(var ve=null,Ue=null,fe=U,we=U=0,Re=null;fe!==null&&we<Y.length;we++){fe.index>we?(Re=fe,fe=null):Re=fe.sibling;var Ie=W(H,fe,Y[we],te);if(Ie===null){fe===null&&(fe=Re);break}t&&fe&&Ie.alternate===null&&s(H,fe),U=m(Ie,U,we),Ue===null?ve=Ie:Ue.sibling=Ie,Ue=Ie,fe=Re}if(we===Y.length)return r(H,fe),Le&&Xs(H,we),ve;if(fe===null){for(;we<Y.length;we++)fe=ne(H,Y[we],te),fe!==null&&(U=m(fe,U,we),Ue===null?ve=fe:Ue.sibling=fe,Ue=fe);return Le&&Xs(H,we),ve}for(fe=c(fe);we<Y.length;we++)Re=Q(fe,H,we,Y[we],te),Re!==null&&(t&&Re.alternate!==null&&fe.delete(Re.key===null?we:Re.key),U=m(Re,U,we),Ue===null?ve=Re:Ue.sibling=Re,Ue=Re);return t&&fe.forEach(function(Ii){return s(H,Ii)}),Le&&Xs(H,we),ve}function be(H,U,Y,te){if(Y==null)throw Error(i(151));for(var ve=null,Ue=null,fe=U,we=U=0,Re=null,Ie=Y.next();fe!==null&&!Ie.done;we++,Ie=Y.next()){fe.index>we?(Re=fe,fe=null):Re=fe.sibling;var Ii=W(H,fe,Ie.value,te);if(Ii===null){fe===null&&(fe=Re);break}t&&fe&&Ii.alternate===null&&s(H,fe),U=m(Ii,U,we),Ue===null?ve=Ii:Ue.sibling=Ii,Ue=Ii,fe=Re}if(Ie.done)return r(H,fe),Le&&Xs(H,we),ve;if(fe===null){for(;!Ie.done;we++,Ie=Y.next())Ie=ne(H,Ie.value,te),Ie!==null&&(U=m(Ie,U,we),Ue===null?ve=Ie:Ue.sibling=Ie,Ue=Ie);return Le&&Xs(H,we),ve}for(fe=c(fe);!Ie.done;we++,Ie=Y.next())Ie=Q(fe,H,we,Ie.value,te),Ie!==null&&(t&&Ie.alternate!==null&&fe.delete(Ie.key===null?we:Ie.key),U=m(Ie,U,we),Ue===null?ve=Ie:Ue.sibling=Ie,Ue=Ie);return t&&fe.forEach(function(yT){return s(H,yT)}),Le&&Xs(H,we),ve}function Qe(H,U,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var ve=Y.key;U!==null;){if(U.key===ve){if(ve=Y.type,ve===S){if(U.tag===7){r(H,U.sibling),te=p(U,Y.props.children),te.return=H,H=te;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&pa(ve)===U.type){r(H,U.sibling),te=p(U,Y.props),go(te,Y),te.return=H,H=te;break e}r(H,U);break}else s(H,U);U=U.sibling}Y.type===S?(te=ca(Y.props.children,H.mode,te,Y.key),te.return=H,H=te):(te=Ql(Y.type,Y.key,Y.props,null,H.mode,te),go(te,Y),te.return=H,H=te)}return b(H);case v:e:{for(ve=Y.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){r(H,U.sibling),te=p(U,Y.children||[]),te.return=H,H=te;break e}else{r(H,U);break}else s(H,U);U=U.sibling}te=Uh(Y,H.mode,te),te.return=H,H=te}return b(H);case R:return Y=pa(Y),Qe(H,U,Y,te)}if(se(Y))return he(H,U,Y,te);if(P(Y)){if(ve=P(Y),typeof ve!="function")throw Error(i(150));return Y=ve.call(Y),be(H,U,Y,te)}if(typeof Y.then=="function")return Qe(H,U,sc(Y),te);if(Y.$$typeof===k)return Qe(H,U,Jl(H,Y),te);ic(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(r(H,U.sibling),te=p(U,Y),te.return=H,H=te):(r(H,U),te=Bh(Y,H.mode,te),te.return=H,H=te),b(H)):r(H,U)}return function(H,U,Y,te){try{mo=0;var ve=Qe(H,U,Y,te);return or=null,ve}catch(fe){if(fe===rr||fe===tc)throw fe;var Ue=Rn(29,fe,null,H.mode);return Ue.lanes=te,Ue.return=H,Ue}finally{}}}var ga=Rg(!0),jg=Rg(!1),Ci=!1;function Kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,s,r){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Wl(t),yg(t,null,r),s}return Xl(t,c,s,r),Wl(t)}function yo(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,r|=c,s.lanes=r,kn(t,r)}}function ed(t,s){var r=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var p=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?p=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?p=m=s:m=m.next=s}else p=m=s;r={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var td=!1;function vo(){if(td){var t=ar;if(t!==null)throw t}}function _o(t,s,r,c){td=!1;var p=t.updateQueue;Ci=!1;var m=p.firstBaseUpdate,b=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var L=E,X=L.next;L.next=null,b===null?m=X:b.next=X,b=L;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==b&&(E===null?K.firstBaseUpdate=X:E.next=X,K.lastBaseUpdate=L))}if(m!==null){var ne=p.baseState;b=0,K=X=L=null,E=m;do{var W=E.lane&-536870913,Q=W!==E.lane;if(Q?(De&W)===W:(c&W)===W){W!==0&&W===ir&&(td=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,be=E;W=s;var Qe=r;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){ne=he.call(Qe,ne,W);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,W=typeof he=="function"?he.call(Qe,ne,W):he,W==null)break e;ne=g({},ne,W);break e;case 2:Ci=!0}}W=E.callback,W!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(X=K=Q,L=ne):K=K.next=Q,b|=W;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);K===null&&(L=ne),p.baseState=L,p.firstBaseUpdate=X,p.lastBaseUpdate=K,m===null&&(p.shared.lanes=0),ki|=b,t.lanes=b,t.memoizedState=ne}}function Lg(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function zg(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Lg(r[t],s)}var lr=M(null),ac=M(0);function Vg(t,s){t=ai,ee(ac,t),ee(lr,s),ai=t|s.baseLanes}function nd(){ee(ac,ai),ee(lr,lr.current)}function sd(){ai=ac.current,G(lr),G(ac)}var jn=M(null),ns=null;function Ai(t){var s=t.alternate;ee(xt,xt.current&1),ee(jn,t),ns===null&&(s===null||lr.current!==null||s.memoizedState!==null)&&(ns=t)}function id(t){ee(xt,xt.current),ee(jn,t),ns===null&&(ns=t)}function qg(t){t.tag===22?(ee(xt,xt.current),ee(jn,t),ns===null&&(ns=t)):Ni()}function Ni(){ee(xt,xt.current),ee(jn,jn.current)}function Ln(t){G(jn),ns===t&&(ns=null),G(xt)}var xt=M(0);function rc(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hf(r)||df(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zs=0,Ce=null,Xe=null,Nt=null,oc=!1,cr=!1,ya=!1,lc=0,bo=0,ur=null,ox=0;function pt(){throw Error(i(321))}function ad(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Dn(t[r],s[r]))return!1;return!0}function rd(t,s,r,c,p,m){return Zs=m,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=t===null||t.memoizedState===null?Sy:Sd,ya=!1,m=r(c,p),ya=!1,cr&&(m=Ug(s,r,c,p)),Bg(t),m}function Bg(t){V.H=To;var s=Xe!==null&&Xe.next!==null;if(Zs=0,Nt=Xe=Ce=null,oc=!1,bo=0,ur=null,s)throw Error(i(300));t===null||Ot||(t=t.dependencies,t!==null&&Kl(t)&&(Ot=!0))}function Ug(t,s,r,c){Ce=t;var p=0;do{if(cr&&(ur=null),bo=0,cr=!1,25<=p)throw Error(i(301));if(p+=1,Nt=Xe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}V.H=xy,m=s(r,c)}while(cr);return m}function lx(){var t=V.H,s=t.useState()[0];return s=typeof s.then=="function"?So(s):s,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ce.flags|=1024),s}function od(){var t=lc!==0;return lc=0,t}function ld(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function cd(t){if(oc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}oc=!1}Zs=0,Nt=Xe=Ce=null,cr=!1,bo=lc=0,ur=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Tt(){if(Xe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var s=Nt===null?Ce.memoizedState:Nt.next;if(s!==null)Nt=s,Xe=t;else{if(t===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(t){var s=bo;return bo+=1,ur===null&&(ur=[]),t=Mg(ur,t,s),s=Ce,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?Sy:Sd),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return So(t);if(t.$$typeof===k)return $t(t)}throw Error(i(438,String(t)))}function ud(t){var s=null,r=Ce.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=cc(),Ce.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),c=0;c<t;c++)r[c]=q;return s.index++,r}function Ks(t,s){return typeof s=="function"?s(t):s}function hc(t){var s=Tt();return hd(s,Xe,t)}function hd(t,s,r){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var p=t.baseQueue,m=c.pending;if(m!==null){if(p!==null){var b=p.next;p.next=m.next,m.next=b}s.baseQueue=p=m,c.pending=null}if(m=t.baseState,p===null)t.memoizedState=m;else{s=p.next;var E=b=null,L=null,X=s,K=!1;do{var ne=X.lane&-536870913;if(ne!==X.lane?(De&ne)===ne:(Zs&ne)===ne){var W=X.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ne===ir&&(K=!0);else if((Zs&W)===W){X=X.next,W===ir&&(K=!0);continue}else ne={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(E=L=ne,b=m):L=L.next=ne,Ce.lanes|=W,ki|=W;ne=X.action,ya&&r(m,ne),m=X.hasEagerState?X.eagerState:r(m,ne)}else W={lane:ne,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(E=L=W,b=m):L=L.next=W,Ce.lanes|=ne,ki|=ne;X=X.next}while(X!==null&&X!==s);if(L===null?b=m:L.next=E,!Dn(m,t.memoizedState)&&(Ot=!0,K&&(r=ar,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=L,c.lastRenderedState=m}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function dd(t){var s=Tt(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var c=r.dispatch,p=r.pending,m=s.memoizedState;if(p!==null){r.pending=null;var b=p=p.next;do m=t(m,b.action),b=b.next;while(b!==p);Dn(m,s.memoizedState)||(Ot=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,c]}function Ig(t,s,r){var c=Ce,p=Tt(),m=Le;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=s();var b=!Dn((Xe||p).memoizedState,r);if(b&&(p.memoizedState=r,Ot=!0),p=p.queue,md(Fg.bind(null,c,p,t),[t]),p.getSnapshot!==s||b||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,hr(9,{destroy:void 0},Hg.bind(null,c,p,r,s),null),nt===null)throw Error(i(349));m||(Zs&127)!==0||Pg(c,s,r)}return r}function Pg(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ce.updateQueue,s===null?(s=cc(),Ce.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Hg(t,s,r,c){s.value=r,s.getSnapshot=c,Gg(s)&&$g(t)}function Fg(t,s,r){return r(function(){Gg(s)&&$g(t)})}function Gg(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Dn(t,r)}catch{return!0}}function $g(t){var s=la(t,2);s!==null&&Cn(s,t,2)}function fd(t){var s=ln();if(typeof t=="function"){var r=t;if(t=r(),ya){Gn(!0);try{r()}finally{Gn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},s}function Yg(t,s,r,c){return t.baseState=r,hd(t,Xe,typeof c=="function"?c:Ks)}function cx(t,s,r,c,p){if(pc(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};V.T!==null?r(!0):m.isTransition=!1,c(m),r=s.pending,r===null?(m.next=s.pending=m,Xg(s,m)):(m.next=r.next,s.pending=r.next=m)}}function Xg(t,s){var r=s.action,c=s.payload,p=t.state;if(s.isTransition){var m=V.T,b={};V.T=b;try{var E=r(p,c),L=V.S;L!==null&&L(b,E),Wg(t,s,E)}catch(X){pd(t,s,X)}finally{m!==null&&b.types!==null&&(m.types=b.types),V.T=m}}else try{m=r(p,c),Wg(t,s,m)}catch(X){pd(t,s,X)}}function Wg(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Qg(t,s,c)},function(c){return pd(t,s,c)}):Qg(t,s,r)}function Qg(t,s,r){s.status="fulfilled",s.value=r,Zg(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Xg(t,r)))}function pd(t,s,r){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=r,Zg(s),s=s.next;while(s!==c)}t.action=null}function Zg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Kg(t,s){return s}function Jg(t,s){if(Le){var r=nt.formState;if(r!==null){e:{var c=Ce;if(Le){if(rt){t:{for(var p=rt,m=ts;p.nodeType!==8;){if(!m){p=null;break t}if(p=ss(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){rt=ss(p.nextSibling),c=p.data==="F!";break e}}xi(c)}c=!1}c&&(s=r[0])}}return r=ln(),r.memoizedState=r.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:s},r.queue=c,r=vy.bind(null,Ce,c),c.dispatch=r,c=fd(!1),m=bd.bind(null,Ce,!1,c.queue),c=ln(),p={state:s,dispatch:null,action:t,pending:null},c.queue=p,r=cx.bind(null,Ce,p,m,r),p.dispatch=r,c.memoizedState=t,[s,r,!1]}function ey(t){var s=Tt();return ty(s,Xe,t)}function ty(t,s,r){if(s=hd(t,s,Kg)[0],t=hc(Ks)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=So(s)}catch(b){throw b===rr?tc:b}else c=s;s=Tt();var p=s.queue,m=p.dispatch;return r!==s.memoizedState&&(Ce.flags|=2048,hr(9,{destroy:void 0},ux.bind(null,p,r),null)),[c,m,t]}function ux(t,s){t.action=s}function ny(t){var s=Tt(),r=Xe;if(r!==null)return ty(s,r,t);Tt(),s=s.memoizedState,r=Tt();var c=r.queue.dispatch;return r.memoizedState=t,[s,c,!1]}function hr(t,s,r,c){return t={tag:t,create:r,deps:c,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=cc(),Ce.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(c=r.next,r.next=t,t.next=c,s.lastEffect=t),t}function sy(){return Tt().memoizedState}function dc(t,s,r,c){var p=ln();Ce.flags|=t,p.memoizedState=hr(1|s,{destroy:void 0},r,c===void 0?null:c)}function fc(t,s,r,c){var p=Tt();c=c===void 0?null:c;var m=p.memoizedState.inst;Xe!==null&&c!==null&&ad(c,Xe.memoizedState.deps)?p.memoizedState=hr(s,m,r,c):(Ce.flags|=t,p.memoizedState=hr(1|s,m,r,c))}function iy(t,s){dc(8390656,8,t,s)}function md(t,s){fc(2048,8,t,s)}function hx(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=cc(),Ce.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function ay(t){var s=Tt().memoizedState;return hx({ref:s,nextImpl:t}),function(){if((Pe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function ry(t,s){return fc(4,2,t,s)}function oy(t,s){return fc(4,4,t,s)}function ly(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function cy(t,s,r){r=r!=null?r.concat([t]):null,fc(4,4,ly.bind(null,s,t),r)}function gd(){}function uy(t,s){var r=Tt();s=s===void 0?null:s;var c=r.memoizedState;return s!==null&&ad(s,c[1])?c[0]:(r.memoizedState=[t,s],t)}function hy(t,s){var r=Tt();s=s===void 0?null:s;var c=r.memoizedState;if(s!==null&&ad(s,c[1]))return c[0];if(c=t(),ya){Gn(!0);try{t()}finally{Gn(!1)}}return r.memoizedState=[c,s],c}function yd(t,s,r){return r===void 0||(Zs&1073741824)!==0&&(De&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=d0(),Ce.lanes|=t,ki|=t,r)}function dy(t,s,r,c){return Dn(r,s)?r:lr.current!==null?(t=yd(t,r,c),Dn(t,s)||(Ot=!0),t):(Zs&42)===0||(Zs&1073741824)!==0&&(De&261930)===0?(Ot=!0,t.memoizedState=r):(t=d0(),Ce.lanes|=t,ki|=t,s)}function fy(t,s,r,c,p){var m=F.p;F.p=m!==0&&8>m?m:8;var b=V.T,E={};V.T=E,bd(t,!1,s,r);try{var L=p(),X=V.S;if(X!==null&&X(E,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=rx(L,c);xo(t,s,K,qn(t))}else xo(t,s,c,qn(t))}catch(ne){xo(t,s,{then:function(){},status:"rejected",reason:ne},qn())}finally{F.p=m,b!==null&&E.types!==null&&(b.types=E.types),V.T=b}}function dx(){}function vd(t,s,r,c){if(t.tag!==5)throw Error(i(476));var p=py(t).queue;fy(t,p,s,Z,r===null?dx:function(){return my(t),r(c)})}function py(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:Z},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function my(t){var s=py(t);s.next===null&&(s=t.alternate.memoizedState),xo(t,s.next.queue,{},qn())}function _d(){return $t(Bo)}function gy(){return Tt().memoizedState}function yy(){return Tt().memoizedState}function fx(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=qn();t=wi(r);var c=Ei(s,t,r);c!==null&&(Cn(c,s,r),yo(c,s,r)),s={cache:Xh()},t.payload=s;return}s=s.return}}function px(t,s,r){var c=qn();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pc(t)?_y(s,r):(r=Vh(t,s,r,c),r!==null&&(Cn(r,t,c),by(r,s,c)))}function vy(t,s,r){var c=qn();xo(t,s,r,c)}function xo(t,s,r,c){var p={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(pc(t))_y(s,p);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,E=m(b,r);if(p.hasEagerState=!0,p.eagerState=E,Dn(E,b))return Xl(t,s,p,0),nt===null&&Yl(),!1}catch{}finally{}if(r=Vh(t,s,p,c),r!==null)return Cn(r,t,c),by(r,s,c),!0}return!1}function bd(t,s,r,c){if(c={lane:2,revertLane:Kd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(s)throw Error(i(479))}else s=Vh(t,r,c,2),s!==null&&Cn(s,t,2)}function pc(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function _y(t,s){cr=oc=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function by(t,s,r){if((r&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,r|=c,s.lanes=r,kn(t,r)}}var To={readContext:$t,use:uc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};To.useEffectEvent=pt;var Sy={readContext:$t,use:uc,useCallback:function(t,s){return ln().memoizedState=[t,s===void 0?null:s],t},useContext:$t,useEffect:iy,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,dc(4194308,4,ly.bind(null,s,t),r)},useLayoutEffect:function(t,s){return dc(4194308,4,t,s)},useInsertionEffect:function(t,s){dc(4,2,t,s)},useMemo:function(t,s){var r=ln();s=s===void 0?null:s;var c=t();if(ya){Gn(!0);try{t()}finally{Gn(!1)}}return r.memoizedState=[c,s],c},useReducer:function(t,s,r){var c=ln();if(r!==void 0){var p=r(s);if(ya){Gn(!0);try{r(s)}finally{Gn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=px.bind(null,Ce,t),[c.memoizedState,t]},useRef:function(t){var s=ln();return t={current:t},s.memoizedState=t},useState:function(t){t=fd(t);var s=t.queue,r=vy.bind(null,Ce,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:gd,useDeferredValue:function(t,s){var r=ln();return yd(r,t,s)},useTransition:function(){var t=fd(!1);return t=fy.bind(null,Ce,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var c=Ce,p=ln();if(Le){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),nt===null)throw Error(i(349));(De&127)!==0||Pg(c,s,r)}p.memoizedState=r;var m={value:r,getSnapshot:s};return p.queue=m,iy(Fg.bind(null,c,m,t),[t]),c.flags|=2048,hr(9,{destroy:void 0},Hg.bind(null,c,m,r,s),null),r},useId:function(){var t=ln(),s=nt.identifierPrefix;if(Le){var r=As,c=Es;r=(c&~(1<<32-Kt(c)-1)).toString(32)+r,s="_"+s+"R_"+r,r=lc++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=ox++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:_d,useFormState:Jg,useActionState:Jg,useOptimistic:function(t){var s=ln();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=bd.bind(null,Ce,!0,r),r.dispatch=s,[t,s]},useMemoCache:ud,useCacheRefresh:function(){return ln().memoizedState=fx.bind(null,Ce)},useEffectEvent:function(t){var s=ln(),r={impl:t};return s.memoizedState=r,function(){if((Pe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Sd={readContext:$t,use:uc,useCallback:uy,useContext:$t,useEffect:md,useImperativeHandle:cy,useInsertionEffect:ry,useLayoutEffect:oy,useMemo:hy,useReducer:hc,useRef:sy,useState:function(){return hc(Ks)},useDebugValue:gd,useDeferredValue:function(t,s){var r=Tt();return dy(r,Xe.memoizedState,t,s)},useTransition:function(){var t=hc(Ks)[0],s=Tt().memoizedState;return[typeof t=="boolean"?t:So(t),s]},useSyncExternalStore:Ig,useId:gy,useHostTransitionStatus:_d,useFormState:ey,useActionState:ey,useOptimistic:function(t,s){var r=Tt();return Yg(r,Xe,t,s)},useMemoCache:ud,useCacheRefresh:yy};Sd.useEffectEvent=ay;var xy={readContext:$t,use:uc,useCallback:uy,useContext:$t,useEffect:md,useImperativeHandle:cy,useInsertionEffect:ry,useLayoutEffect:oy,useMemo:hy,useReducer:dd,useRef:sy,useState:function(){return dd(Ks)},useDebugValue:gd,useDeferredValue:function(t,s){var r=Tt();return Xe===null?yd(r,t,s):dy(r,Xe.memoizedState,t,s)},useTransition:function(){var t=dd(Ks)[0],s=Tt().memoizedState;return[typeof t=="boolean"?t:So(t),s]},useSyncExternalStore:Ig,useId:gy,useHostTransitionStatus:_d,useFormState:ny,useActionState:ny,useOptimistic:function(t,s){var r=Tt();return Xe!==null?Yg(r,Xe,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ud,useCacheRefresh:yy};xy.useEffectEvent=ay;function xd(t,s,r,c){s=t.memoizedState,r=r(c,s),r=r==null?s:g({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Td={enqueueSetState:function(t,s,r){t=t._reactInternals;var c=qn(),p=wi(c);p.payload=s,r!=null&&(p.callback=r),s=Ei(t,p,c),s!==null&&(Cn(s,t,c),yo(s,t,c))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var c=qn(),p=wi(c);p.tag=1,p.payload=s,r!=null&&(p.callback=r),s=Ei(t,p,c),s!==null&&(Cn(s,t,c),yo(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=qn(),c=wi(r);c.tag=2,s!=null&&(c.callback=s),s=Ei(t,c,r),s!==null&&(Cn(s,t,r),yo(s,t,r))}};function Ty(t,s,r,c,p,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!lo(r,c)||!lo(p,m):!0}function Cy(t,s,r,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,c),s.state!==t&&Td.enqueueReplaceState(s,s.state,null)}function va(t,s){var r=s;if("ref"in s){r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}if(t=t.defaultProps){r===s&&(r=g({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function wy(t){$l(t)}function Ey(t){console.error(t)}function Ay(t){$l(t)}function mc(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Ny(t,s,r){try{var c=t.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Cd(t,s,r){return r=wi(r),r.tag=3,r.payload={element:null},r.callback=function(){mc(t,s)},r}function Oy(t){return t=wi(t),t.tag=3,t}function My(t,s,r,c){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var m=c.value;t.payload=function(){return p(m)},t.callback=function(){Ny(s,r,c)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ny(s,r,c),typeof p!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function mx(t,s,r,c,p){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=r.alternate,s!==null&&sr(s,r,p,!0),r=jn.current,r!==null){switch(r.tag){case 31:case 13:return ns===null?Ac():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=p,c===nc?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([c]):s.add(c),Wd(t,c,p)),!1;case 22:return r.flags|=65536,c===nc?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([c]):r.add(c)),Wd(t,c,p)),!1}throw Error(i(435,r.tag))}return Wd(t,c,p),Ac(),!1}if(Le)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Hh&&(t=Error(i(422),{cause:c}),ho(Kn(t,r)))):(c!==Hh&&(s=Error(i(423),{cause:c}),ho(Kn(s,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=Kn(c,r),p=Cd(t.stateNode,c,p),ed(t,p),mt!==4&&(mt=2)),!1;var m=Error(i(520),{cause:c});if(m=Kn(m,r),ko===null?ko=[m]:ko.push(m),mt!==4&&(mt=2),s===null)return!0;c=Kn(c,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=Cd(r.stateNode,c,t),ed(r,t),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Di===null||!Di.has(m))))return r.flags|=65536,p&=-p,r.lanes|=p,p=Oy(p),My(p,t,r,c),ed(r,p),!1}r=r.return}while(r!==null);return!1}var wd=Error(i(461)),Ot=!1;function Yt(t,s,r,c){s.child=t===null?jg(s,null,r,c):ga(s,t.child,r,c)}function ky(t,s,r,c,p){r=r.render;var m=s.ref;if("ref"in c){var b={};for(var E in c)E!=="ref"&&(b[E]=c[E])}else b=c;return da(s),c=rd(t,s,r,b,m,p),E=od(),t!==null&&!Ot?(ld(t,s,p),Js(t,s,p)):(Le&&E&&Ih(s),s.flags|=1,Yt(t,s,c,p),s.child)}function Dy(t,s,r,c,p){if(t===null){var m=r.type;return typeof m=="function"&&!qh(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,Ry(t,s,m,c,p)):(t=Ql(r.type,null,c,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Rd(t,p)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:lo,r(b,c)&&t.ref===s.ref)return Js(t,s,p)}return s.flags|=1,t=Ys(m,c),t.ref=s.ref,t.return=s,s.child=t}function Ry(t,s,r,c,p){if(t!==null){var m=t.memoizedProps;if(lo(m,c)&&t.ref===s.ref)if(Ot=!1,s.pendingProps=c=m,Rd(t,p))(t.flags&131072)!==0&&(Ot=!0);else return s.lanes=t.lanes,Js(t,s,p)}return Ed(t,s,r,c,p)}function jy(t,s,r,c){var p=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(c=s.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~m}else c=0,s.child=null;return Ly(t,s,m,r,c)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(s,m!==null?m.cachePool:null),m!==null?Vg(s,m):nd(),qg(s);else return c=s.lanes=536870912,Ly(t,s,m!==null?m.baseLanes|r:r,r,c)}else m!==null?(ec(s,m.cachePool),Vg(s,m),Ni(),s.memoizedState=null):(t!==null&&ec(s,null),nd(),Ni());return Yt(t,s,p,r),s.child}function Co(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ly(t,s,r,c,p){var m=Qh();return m=m===null?null:{parent:At._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},t!==null&&ec(s,null),nd(),qg(s),t!==null&&sr(t,s,c,!0),s.childLanes=p,null}function gc(t,s){return s=vc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function zy(t,s,r){return ga(s,t.child,null,r),t=gc(s,s.pendingProps),t.flags|=2,Ln(s),s.memoizedState=null,t}function gx(t,s,r){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Le){if(c.mode==="hidden")return t=gc(s,c),s.lanes=536870912,Co(null,t);if(id(s),(t=rt)?(t=X0(t,ts),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:bi!==null?{id:Es,overflow:As}:null,retryLane:536870912,hydrationErrors:null},r=_g(t),r.return=s,s.child=r,Gt=s,rt=null)):t=null,t===null)throw xi(s);return s.lanes=536870912,null}return gc(s,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(id(s),p)if(s.flags&256)s.flags&=-257,s=zy(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ot||sr(t,s,r,!1),p=(r&t.childLanes)!==0,Ot||p){if(c=nt,c!==null&&(b=Yn(c,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,la(t,b),Cn(c,t,b),wd;Ac(),s=zy(t,s,r)}else t=m.treeContext,rt=ss(b.nextSibling),Gt=s,Le=!0,Si=null,ts=!1,t!==null&&xg(s,t),s=gc(s,c),s.flags|=4096;return s}return t=Ys(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function yc(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function Ed(t,s,r,c,p){return da(s),r=rd(t,s,r,c,void 0,p),c=od(),t!==null&&!Ot?(ld(t,s,p),Js(t,s,p)):(Le&&c&&Ih(s),s.flags|=1,Yt(t,s,r,p),s.child)}function Vy(t,s,r,c,p,m){return da(s),s.updateQueue=null,r=Ug(s,c,r,p),Bg(t),c=od(),t!==null&&!Ot?(ld(t,s,m),Js(t,s,m)):(Le&&c&&Ih(s),s.flags|=1,Yt(t,s,r,m),s.child)}function qy(t,s,r,c,p){if(da(s),s.stateNode===null){var m=Ja,b=r.contextType;typeof b=="object"&&b!==null&&(m=$t(b)),m=new r(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Td,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Kh(s),b=r.contextType,m.context=typeof b=="object"&&b!==null?$t(b):Ja,m.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(xd(s,r,b,c),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Td.enqueueReplaceState(m,m.state,null),_o(s,c,m,p),vo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,L=va(r,E);m.props=L;var X=m.context,K=r.contextType;b=Ja,typeof K=="object"&&K!==null&&(b=$t(K));var ne=r.getDerivedStateFromProps;K=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||X!==b)&&Cy(s,m,c,b),Ci=!1;var W=s.memoizedState;m.state=W,_o(s,c,m,p),vo(),X=s.memoizedState,E||W!==X||Ci?(typeof ne=="function"&&(xd(s,r,ne,c),X=s.memoizedState),(L=Ci||Ty(s,r,L,c,W,X,b))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),m.props=c,m.state=X,m.context=b,c=L):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Jh(t,s),b=s.memoizedProps,K=va(r,b),m.props=K,ne=s.pendingProps,W=m.context,X=r.contextType,L=Ja,typeof X=="object"&&X!==null&&(L=$t(X)),E=r.getDerivedStateFromProps,(X=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ne||W!==L)&&Cy(s,m,c,L),Ci=!1,W=s.memoizedState,m.state=W,_o(s,c,m,p),vo();var Q=s.memoizedState;b!==ne||W!==Q||Ci||t!==null&&t.dependencies!==null&&Kl(t.dependencies)?(typeof E=="function"&&(xd(s,r,E,c),Q=s.memoizedState),(K=Ci||Ty(s,r,K,c,W,Q,L)||t!==null&&t.dependencies!==null&&Kl(t.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Q,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Q,L)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),m.props=c,m.state=Q,m.context=L,c=K):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,yc(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=ga(s,t.child,null,p),s.child=ga(s,null,r,p)):Yt(t,s,r,p),s.memoizedState=m.state,t=s.child):t=Js(t,s,p),t}function By(t,s,r,c){return ua(),s.flags|=256,Yt(t,s,r,c),s.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:Ng()}}function Od(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=Vn),t}function Uy(t,s,r){var c=s.pendingProps,p=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(Le){if(p?Ai(s):Ni(),(t=rt)?(t=X0(t,ts),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:bi!==null?{id:Es,overflow:As}:null,retryLane:536870912,hydrationErrors:null},r=_g(t),r.return=s,s.child=r,Gt=s,rt=null)):t=null,t===null)throw xi(s);return df(t)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,p?(Ni(),p=s.mode,E=vc({mode:"hidden",children:E},p),c=ca(c,p,r,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=Nd(r),c.childLanes=Od(t,b,r),s.memoizedState=Ad,Co(null,c)):(Ai(s),Md(s,E))}var L=t.memoizedState;if(L!==null&&(E=L.dehydrated,E!==null)){if(m)s.flags&256?(Ai(s),s.flags&=-257,s=kd(t,s,r)):s.memoizedState!==null?(Ni(),s.child=t.child,s.flags|=128,s=null):(Ni(),E=c.fallback,p=s.mode,c=vc({mode:"visible",children:c.children},p),E=ca(E,p,r,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,ga(s,t.child,null,r),c=s.child,c.memoizedState=Nd(r),c.childLanes=Od(t,b,r),s.memoizedState=Ad,s=Co(null,c));else if(Ai(s),df(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(i(419)),c.stack="",c.digest=b,ho({value:c,source:null,stack:null}),s=kd(t,s,r)}else if(Ot||sr(t,s,r,!1),b=(r&t.childLanes)!==0,Ot||b){if(b=nt,b!==null&&(c=Yn(b,r),c!==0&&c!==L.retryLane))throw L.retryLane=c,la(t,c),Cn(b,t,c),wd;hf(E)||Ac(),s=kd(t,s,r)}else hf(E)?(s.flags|=192,s.child=t.child,s=null):(t=L.treeContext,rt=ss(E.nextSibling),Gt=s,Le=!0,Si=null,ts=!1,t!==null&&xg(s,t),s=Md(s,c.children),s.flags|=4096);return s}return p?(Ni(),E=c.fallback,p=s.mode,L=t.child,X=L.sibling,c=Ys(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?E=Ys(X,E):(E=ca(E,p,r,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,Co(null,c),c=s.child,E=t.child.memoizedState,E===null?E=Nd(r):(p=E.cachePool,p!==null?(L=At._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=Ng(),E={baseLanes:E.baseLanes|r,cachePool:p}),c.memoizedState=E,c.childLanes=Od(t,b,r),s.memoizedState=Ad,Co(t.child,c)):(Ai(s),r=t.child,t=r.sibling,r=Ys(r,{mode:"visible",children:c.children}),r.return=s,r.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=r,s.memoizedState=null,r)}function Md(t,s){return s=vc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function vc(t,s){return t=Rn(22,t,null,s),t.lanes=0,t}function kd(t,s,r){return ga(s,t.child,null,r),t=Md(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Iy(t,s,r){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),$h(t.return,s,r)}function Dd(t,s,r,c,p,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:p,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=r,b.tailMode=p,b.treeForkCount=m)}function Py(t,s,r){var c=s.pendingProps,p=c.revealOrder,m=c.tail;c=c.children;var b=xt.current,E=(b&2)!==0;if(E?(b=b&1|2,s.flags|=128):b&=1,ee(xt,b),Yt(t,s,c,r),c=Le?uo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,r,s);else if(t.tag===19)Iy(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=s.child,p=null;r!==null;)t=r.alternate,t!==null&&rc(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=s.child,s.child=null):(p=r.sibling,r.sibling=null),Dd(s,!1,p,r,m,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&rc(t)===null){s.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}Dd(s,!0,r,null,m,c);break;case"together":Dd(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Js(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),ki|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(sr(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=Ys(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Ys(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Rd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Kl(t)))}function yx(t,s,r){switch(s.tag){case 3:ue(s,s.stateNode.containerInfo),Ti(s,At,t.memoizedState.cache),ua();break;case 27:case 5:tt(s);break;case 4:ue(s,s.stateNode.containerInfo);break;case 10:Ti(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,id(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ai(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Uy(t,s,r):(Ai(s),t=Js(t,s,r),t!==null?t.sibling:null);Ai(s);break;case 19:var p=(t.flags&128)!==0;if(c=(r&s.childLanes)!==0,c||(sr(t,s,r,!1),c=(r&s.childLanes)!==0),p){if(c)return Py(t,s,r);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(xt,xt.current),c)break;return null;case 22:return s.lanes=0,jy(t,s,r,s.pendingProps);case 24:Ti(s,At,t.memoizedState.cache)}return Js(t,s,r)}function Hy(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ot=!0;else{if(!Rd(t,r)&&(s.flags&128)===0)return Ot=!1,yx(t,s,r);Ot=(t.flags&131072)!==0}else Ot=!1,Le&&(s.flags&1048576)!==0&&Sg(s,uo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=pa(s.elementType),s.type=t,typeof t=="function")qh(t)?(c=va(t,c),s.tag=1,s=qy(null,s,t,c,r)):(s.tag=0,s=Ed(null,s,t,c,r));else{if(t!=null){var p=t.$$typeof;if(p===B){s.tag=11,s=ky(null,s,t,c,r);break e}else if(p===D){s.tag=14,s=Dy(null,s,t,c,r);break e}}throw s=$(t)||t,Error(i(306,s,""))}}return s;case 0:return Ed(t,s,s.type,s.pendingProps,r);case 1:return c=s.type,p=va(c,s.pendingProps),qy(t,s,c,p,r);case 3:e:{if(ue(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;p=m.element,Jh(t,s),_o(s,c,null,r);var b=s.memoizedState;if(c=b.cache,Ti(s,At,c),c!==m.cache&&Yh(s,[At],r,!0),vo(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=By(t,s,c,r);break e}else if(c!==p){p=Kn(Error(i(424)),s),ho(p),s=By(t,s,c,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=ss(t.firstChild),Gt=s,Le=!0,Si=null,ts=!0,r=jg(s,null,c,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ua(),c===p){s=Js(t,s,r);break e}Yt(t,s,c,r)}s=s.child}return s;case 26:return yc(t,s),t===null?(r=ev(s.type,null,s.pendingProps,null))?s.memoizedState=r:Le||(r=s.type,t=s.pendingProps,c=jc(ce.current).createElement(r),c[Ft]=s,c[vn]=t,Xt(c,r,t),qt(c),s.stateNode=c):s.memoizedState=ev(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return tt(s),t===null&&Le&&(c=s.stateNode=Z0(s.type,s.pendingProps,ce.current),Gt=s,ts=!0,p=rt,zi(s.type)?(ff=p,rt=ss(c.firstChild)):rt=p),Yt(t,s,s.pendingProps.children,r),yc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Le&&((p=c=rt)&&(c=Yx(c,s.type,s.pendingProps,ts),c!==null?(s.stateNode=c,Gt=s,rt=ss(c.firstChild),ts=!1,p=!0):p=!1),p||xi(s)),tt(s),p=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,lf(p,m)?c=null:b!==null&&lf(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=rd(t,s,lx,null,null,r),Bo._currentValue=p),yc(t,s),Yt(t,s,c,r),s.child;case 6:return t===null&&Le&&((t=r=rt)&&(r=Xx(r,s.pendingProps,ts),r!==null?(s.stateNode=r,Gt=s,rt=null,t=!0):t=!1),t||xi(s)),null;case 13:return Uy(t,s,r);case 4:return ue(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=ga(s,null,c,r):Yt(t,s,c,r),s.child;case 11:return ky(t,s,s.type,s.pendingProps,r);case 7:return Yt(t,s,s.pendingProps,r),s.child;case 8:return Yt(t,s,s.pendingProps.children,r),s.child;case 12:return Yt(t,s,s.pendingProps.children,r),s.child;case 10:return c=s.pendingProps,Ti(s,s.type,c.value),Yt(t,s,c.children,r),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,da(s),p=$t(p),c=c(p),s.flags|=1,Yt(t,s,c,r),s.child;case 14:return Dy(t,s,s.type,s.pendingProps,r);case 15:return Ry(t,s,s.type,s.pendingProps,r);case 19:return Py(t,s,r);case 31:return gx(t,s,r);case 22:return jy(t,s,r,s.pendingProps);case 24:return da(s),c=$t(At),t===null?(p=Qh(),p===null&&(p=nt,m=Xh(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=r),p=m),s.memoizedState={parent:c,cache:p},Kh(s),Ti(s,At,p)):((t.lanes&r)!==0&&(Jh(t,s),_o(s,null,null,r),vo()),p=t.memoizedState,m=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ti(s,At,c)):(c=m.cache,Ti(s,At,c),c!==p.cache&&Yh(s,[At],r,!0))),Yt(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ei(t){t.flags|=4}function jd(t,s,r,c,p){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(g0())t.flags|=8192;else throw ma=nc,Zh}else t.flags&=-16777217}function Fy(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(s))if(g0())t.flags|=8192;else throw ma=nc,Zh}function _c(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Jt():536870912,t.lanes|=s,mr|=s)}function wo(t,s){if(!Le)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ot(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,c=0;if(s)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=r,s}function vx(t,s,r){var c=s.pendingProps;switch(Ph(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return r=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Qs(At),ze(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nr(s)?ei(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fh())),ot(s),null;case 26:var p=s.type,m=s.memoizedState;return t===null?(ei(s),m!==null?(ot(s),Fy(s,m)):(ot(s),jd(s,p,null,c,r))):m?m!==t.memoizedState?(ei(s),ot(s),Fy(s,m)):(ot(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&ei(s),ot(s),jd(s,p,t,c,r)),null;case 27:if(ye(s),r=ce.current,p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&ei(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ot(s),null}t=re.current,nr(s)?Tg(s):(t=Z0(p,c,r),s.stateNode=t,ei(s))}return ot(s),null;case 5:if(ye(s),p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&ei(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ot(s),null}if(m=re.current,nr(s))Tg(s);else{var b=jc(ce.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(p,{is:c.is}):b.createElement(p)}}m[Ft]=s,m[vn]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(Xt(m,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ei(s)}}return ot(s),jd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&ei(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=ce.current,nr(s)){if(t=s.stateNode,r=s.memoizedProps,c=null,p=Gt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Ft]=s,t=!!(t.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||U0(t.nodeValue,r)),t||xi(s,!0)}else t=jc(t).createTextNode(c),t[Ft]=s,s.stateNode=t}return ot(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(c=nr(s),r!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Ft]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),t=!1}else r=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(Ln(s),s):(Ln(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ot(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=nr(s),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ft]=s}else ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),p=!1}else p=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ln(s),s):(Ln(s),null)}return Ln(s),(s.flags&128)!==0?(s.lanes=r,s):(r=c!==null,t=t!==null&&t.memoizedState!==null,r&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),_c(s,s.updateQueue),ot(s),null);case 4:return ze(),t===null&&nf(s.stateNode.containerInfo),ot(s),null;case 10:return Qs(s.type),ot(s),null;case 19:if(G(xt),c=s.memoizedState,c===null)return ot(s),null;if(p=(s.flags&128)!==0,m=c.rendering,m===null)if(p)wo(c,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=rc(t),m!==null){for(s.flags|=128,wo(c,!1),t=m.updateQueue,s.updateQueue=t,_c(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)vg(r,t),r=r.sibling;return ee(xt,xt.current&1|2),Le&&Xs(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&Et()>Cc&&(s.flags|=128,p=!0,wo(c,!1),s.lanes=4194304)}else{if(!p)if(t=rc(m),t!==null){if(s.flags|=128,p=!0,t=t.updateQueue,s.updateQueue=t,_c(s,t),wo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Le)return ot(s),null}else 2*Et()-c.renderingStartTime>Cc&&r!==536870912&&(s.flags|=128,p=!0,wo(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Et(),t.sibling=null,r=xt.current,ee(xt,p?r&1|2:r&1),Le&&Xs(s,c.treeForkCount),t):(ot(s),null);case 22:case 23:return Ln(s),sd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(r&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),r=s.updateQueue,r!==null&&_c(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==r&&(s.flags|=2048),t!==null&&G(fa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Qs(At),ot(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _x(t,s){switch(Ph(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Qs(At),ze(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ye(s),null;case 31:if(s.memoizedState!==null){if(Ln(s),s.alternate===null)throw Error(i(340));ua()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ln(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ua()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return G(xt),null;case 4:return ze(),null;case 10:return Qs(s.type),null;case 22:case 23:return Ln(s),sd(),t!==null&&G(fa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Qs(At),null;case 25:return null;default:return null}}function Gy(t,s){switch(Ph(s),s.tag){case 3:Qs(At),ze();break;case 26:case 27:case 5:ye(s);break;case 4:ze();break;case 31:s.memoizedState!==null&&Ln(s);break;case 13:Ln(s);break;case 19:G(xt);break;case 10:Qs(s.type);break;case 22:case 23:Ln(s),sd(),t!==null&&G(fa);break;case 24:Qs(At)}}function Eo(t,s){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var p=c.next;r=p;do{if((r.tag&t)===t){c=void 0;var m=r.create,b=r.inst;c=m(),b.destroy=c}r=r.next}while(r!==p)}}catch(E){$e(s,s.return,E)}}function Oi(t,s,r){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var m=p.next;c=m;do{if((c.tag&t)===t){var b=c.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,p=s;var L=r,X=E;try{X()}catch(K){$e(p,L,K)}}}c=c.next}while(c!==m)}}catch(K){$e(s,s.return,K)}}function $y(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{zg(s,r)}catch(c){$e(t,t.return,c)}}}function Yy(t,s,r){r.props=va(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(c){$e(t,s,c)}}function Ao(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(p){$e(t,s,p)}}function Ns(t,s){var r=t.ref,c=t.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(p){$e(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){$e(t,s,p)}else r.current=null}function Xy(t){var s=t.type,r=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(p){$e(t,t.return,p)}}function Ld(t,s,r){try{var c=t.stateNode;Ix(c,t.type,r,s),c[vn]=s}catch(p){$e(t,t.return,p)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zi(t.type)||t.tag===4}function zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,s,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Gs));else if(c!==4&&(c===27&&zi(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Vd(t,s,r),t=t.sibling;t!==null;)Vd(t,s,r),t=t.sibling}function bc(t,s,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(c!==4&&(c===27&&zi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(bc(t,s,r),t=t.sibling;t!==null;)bc(t,s,r),t=t.sibling}function Qy(t){var s=t.stateNode,r=t.memoizedProps;try{for(var c=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Xt(s,c,r),s[Ft]=t,s[vn]=r}catch(m){$e(t,t.return,m)}}var ti=!1,Mt=!1,qd=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function bx(t,s){if(t=t.containerInfo,rf=Ic,t=cg(t),kh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var p=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,E=-1,L=-1,X=0,K=0,ne=t,W=null;t:for(;;){for(var Q;ne!==r||p!==0&&ne.nodeType!==3||(E=b+p),ne!==m||c!==0&&ne.nodeType!==3||(L=b+c),ne.nodeType===3&&(b+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)W=ne,ne=Q;for(;;){if(ne===t)break t;if(W===r&&++X===p&&(E=b),W===m&&++K===c&&(L=b),(Q=ne.nextSibling)!==null)break;ne=W,W=ne.parentNode}ne=Q}r=E===-1||L===-1?null:{start:E,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(of={focusedElem:t,selectionRange:r},Ic=!1,Bt=s;Bt!==null;)if(s=Bt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Bt=t;else for(;Bt!==null;){switch(s=Bt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=s,p=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var he=va(r.type,p);t=c.getSnapshotBeforeUpdate(he,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(be){$e(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)uf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Bt=t;break}Bt=s.return}}function Ky(t,s,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:si(t,r),c&4&&Eo(5,r);break;case 1:if(si(t,r),c&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(b){$e(r,r.return,b)}else{var p=va(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){$e(r,r.return,b)}}c&64&&$y(r),c&512&&Ao(r,r.return);break;case 3:if(si(t,r),c&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{zg(t,s)}catch(b){$e(r,r.return,b)}}break;case 27:s===null&&c&4&&Qy(r);case 26:case 5:si(t,r),s===null&&c&4&&Xy(r),c&512&&Ao(r,r.return);break;case 12:si(t,r);break;case 31:si(t,r),c&4&&t0(t,r);break;case 13:si(t,r),c&4&&n0(t,r),c&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Ox.bind(null,r),Wx(t,r))));break;case 22:if(c=r.memoizedState!==null||ti,!c){s=s!==null&&s.memoizedState!==null||Mt,p=ti;var m=Mt;ti=c,(Mt=s)&&!m?ii(t,r,(r.subtreeFlags&8772)!==0):si(t,r),ti=p,Mt=m}break;case 30:break;default:si(t,r)}}function Jy(t){var s=t.alternate;s!==null&&(t.alternate=null,Jy(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ph(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,bn=!1;function ni(t,s,r){for(r=r.child;r!==null;)e0(t,s,r),r=r.sibling}function e0(t,s,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(sa,r)}catch{}switch(r.tag){case 26:Mt||Ns(r,s),ni(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Mt||Ns(r,s);var c=ht,p=bn;zi(r.type)&&(ht=r.stateNode,bn=!1),ni(t,s,r),zo(r.stateNode),ht=c,bn=p;break;case 5:Mt||Ns(r,s);case 6:if(c=ht,p=bn,ht=null,ni(t,s,r),ht=c,bn=p,ht!==null)if(bn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(r.stateNode)}catch(m){$e(r,s,m)}else try{ht.removeChild(r.stateNode)}catch(m){$e(r,s,m)}break;case 18:ht!==null&&(bn?(t=ht,$0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Tr(t)):$0(ht,r.stateNode));break;case 4:c=ht,p=bn,ht=r.stateNode.containerInfo,bn=!0,ni(t,s,r),ht=c,bn=p;break;case 0:case 11:case 14:case 15:Oi(2,r,s),Mt||Oi(4,r,s),ni(t,s,r);break;case 1:Mt||(Ns(r,s),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Yy(r,s,c)),ni(t,s,r);break;case 21:ni(t,s,r);break;case 22:Mt=(c=Mt)||r.memoizedState!==null,ni(t,s,r),Mt=c;break;default:ni(t,s,r)}}function t0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(r){$e(s,s.return,r)}}}function n0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(r){$e(s,s.return,r)}}function Sx(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Zy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Zy),s;default:throw Error(i(435,t.tag))}}function Sc(t,s){var r=Sx(t);s.forEach(function(c){if(!r.has(c)){r.add(c);var p=Mx.bind(null,t,c);c.then(p,p)}})}function Sn(t,s){var r=s.deletions;if(r!==null)for(var c=0;c<r.length;c++){var p=r[c],m=t,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(zi(E.type)){ht=E.stateNode,bn=!1;break e}break;case 5:ht=E.stateNode,bn=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(ht===null)throw Error(i(160));e0(m,b,p),ht=null,bn=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)s0(s,t),s=s.sibling}var ds=null;function s0(t,s){var r=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(s,t),xn(t),c&4&&(Oi(3,t,t.return),Eo(3,t),Oi(5,t,t.return));break;case 1:Sn(s,t),xn(t),c&512&&(Mt||r===null||Ns(r,r.return)),c&64&&ti&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var p=ds;if(Sn(s,t),xn(t),c&512&&(Mt||r===null||Ns(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=t.memoizedState,r===null)if(c===null)if(t.stateNode===null){e:{c=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Jr]||m[Ft]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(c),p.head.insertBefore(m,p.querySelector("head > title"))),Xt(m,c,r),m[Ft]=t,qt(m),c=m;break e;case"link":var b=sv("link","href",p).get(c+(r.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(E,1);break t}}m=p.createElement(c),Xt(m,c,r),p.head.appendChild(m);break;case"meta":if(b=sv("meta","content",p).get(c+(r.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(E,1);break t}}m=p.createElement(c),Xt(m,c,r),p.head.appendChild(m);break;default:throw Error(i(468,c))}m[Ft]=t,qt(m),c=m}t.stateNode=c}else iv(p,t.type,t.stateNode);else t.stateNode=nv(p,c,t.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?iv(p,t.type,t.stateNode):nv(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Ld(t,t.memoizedProps,r.memoizedProps)}break;case 27:Sn(s,t),xn(t),c&512&&(Mt||r===null||Ns(r,r.return)),r!==null&&c&4&&Ld(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Sn(s,t),xn(t),c&512&&(Mt||r===null||Ns(r,r.return)),t.flags&32){p=t.stateNode;try{$a(p,"")}catch(he){$e(t,t.return,he)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,Ld(t,p,r!==null?r.memoizedProps:p)),c&1024&&(qd=!0);break;case 6:if(Sn(s,t),xn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,r=t.stateNode;try{r.nodeValue=c}catch(he){$e(t,t.return,he)}}break;case 3:if(Vc=null,p=ds,ds=Lc(s.containerInfo),Sn(s,t),ds=p,xn(t),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Tr(s.containerInfo)}catch(he){$e(t,t.return,he)}qd&&(qd=!1,i0(t));break;case 4:c=ds,ds=Lc(t.stateNode.containerInfo),Sn(s,t),xn(t),ds=c;break;case 12:Sn(s,t),xn(t);break;case 31:Sn(s,t),xn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Sc(t,c)));break;case 13:Sn(s,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tc=Et()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Sc(t,c)));break;case 22:p=t.memoizedState!==null;var L=r!==null&&r.memoizedState!==null,X=ti,K=Mt;if(ti=X||p,Mt=K||L,Sn(s,t),Mt=K,ti=X,xn(t),c&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(r===null||L||ti||Mt||_a(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){L=r=s;try{if(m=L.stateNode,p)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=L.stateNode;var ne=L.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(he){$e(L,L.return,he)}}}else if(s.tag===6){if(r===null){L=s;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(he){$e(L,L.return,he)}}}else if(s.tag===18){if(r===null){L=s;try{var Q=L.stateNode;p?Y0(Q,!0):Y0(L.stateNode,!1)}catch(he){$e(L,L.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Sc(t,r))));break;case 19:Sn(s,t),xn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Sc(t,c)));break;case 30:break;case 21:break;default:Sn(s,t),xn(t)}}function xn(t){var s=t.flags;if(s&2){try{for(var r,c=t.return;c!==null;){if(Wy(c)){r=c;break}c=c.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var p=r.stateNode,m=zd(t);bc(t,m,p);break;case 5:var b=r.stateNode;r.flags&32&&($a(b,""),r.flags&=-33);var E=zd(t);bc(t,E,b);break;case 3:case 4:var L=r.stateNode.containerInfo,X=zd(t);Vd(t,X,L);break;default:throw Error(i(161))}}catch(K){$e(t,t.return,K)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function i0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;i0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function si(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ky(t,s.alternate,s),s=s.sibling}function _a(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Oi(4,s,s.return),_a(s);break;case 1:Ns(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Yy(s,s.return,r),_a(s);break;case 27:zo(s.stateNode);case 26:case 5:Ns(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}t=t.sibling}}function ii(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:ii(p,m,r),Eo(4,m);break;case 1:if(ii(p,m,r),c=m,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){$e(c,c.return,X)}if(c=m,p=c.updateQueue,p!==null){var E=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Lg(L[p],E)}catch(X){$e(c,c.return,X)}}r&&b&64&&$y(m),Ao(m,m.return);break;case 27:Qy(m);case 26:case 5:ii(p,m,r),r&&c===null&&b&4&&Xy(m),Ao(m,m.return);break;case 12:ii(p,m,r);break;case 31:ii(p,m,r),r&&b&4&&t0(p,m);break;case 13:ii(p,m,r),r&&b&4&&n0(p,m);break;case 22:m.memoizedState===null&&ii(p,m,r),Ao(m,m.return);break;case 30:break;default:ii(p,m,r)}s=s.sibling}}function Bd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fo(r))}function Ud(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fo(t))}function fs(t,s,r,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a0(t,s,r,c),s=s.sibling}function a0(t,s,r,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s,r,c),p&2048&&Eo(9,s);break;case 1:fs(t,s,r,c);break;case 3:fs(t,s,r,c),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fo(t)));break;case 12:if(p&2048){fs(t,s,r,c),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){$e(s,s.return,L)}}else fs(t,s,r,c);break;case 31:fs(t,s,r,c);break;case 13:fs(t,s,r,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?fs(t,s,r,c):No(t,s):m._visibility&2?fs(t,s,r,c):(m._visibility|=2,dr(t,s,r,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Bd(b,s);break;case 24:fs(t,s,r,c),p&2048&&Ud(s.alternate,s);break;default:fs(t,s,r,c)}}function dr(t,s,r,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,E=r,L=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:dr(m,b,E,L,p),Eo(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?dr(m,b,E,L,p):No(m,b):(K._visibility|=2,dr(m,b,E,L,p)),p&&X&2048&&Bd(b.alternate,b);break;case 24:dr(m,b,E,L,p),p&&X&2048&&Ud(b.alternate,b);break;default:dr(m,b,E,L,p)}s=s.sibling}}function No(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,c=s,p=c.flags;switch(c.tag){case 22:No(r,c),p&2048&&Bd(c.alternate,c);break;case 24:No(r,c),p&2048&&Ud(c.alternate,c);break;default:No(r,c)}s=s.sibling}}var Oo=8192;function fr(t,s,r){if(t.subtreeFlags&Oo)for(t=t.child;t!==null;)r0(t,s,r),t=t.sibling}function r0(t,s,r){switch(t.tag){case 26:fr(t,s,r),t.flags&Oo&&t.memoizedState!==null&&oT(r,ds,t.memoizedState,t.memoizedProps);break;case 5:fr(t,s,r);break;case 3:case 4:var c=ds;ds=Lc(t.stateNode.containerInfo),fr(t,s,r),ds=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Oo,Oo=16777216,fr(t,s,r),Oo=c):fr(t,s,r));break;default:fr(t,s,r)}}function o0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Mo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];Bt=c,c0(c,t)}o0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l0(t),t=t.sibling}function l0(t){switch(t.tag){case 0:case 11:case 15:Mo(t),t.flags&2048&&Oi(9,t,t.return);break;case 3:Mo(t);break;case 12:Mo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,xc(t)):Mo(t);break;default:Mo(t)}}function xc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];Bt=c,c0(c,t)}o0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Oi(8,s,s.return),xc(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,xc(s));break;default:xc(s)}t=t.sibling}}function c0(t,s){for(;Bt!==null;){var r=Bt;switch(r.tag){case 0:case 11:case 15:Oi(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fo(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Bt=c;else e:for(r=t;Bt!==null;){c=Bt;var p=c.sibling,m=c.return;if(Jy(c),c===r){Bt=null;break e}if(p!==null){p.return=m,Bt=p;break e}Bt=m}}}var xx={getCacheForType:function(t){var s=$t(At),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return $t(At).controller.signal}},Tx=typeof WeakMap=="function"?WeakMap:Map,Pe=0,nt=null,Me=null,De=0,Ge=0,zn=null,Mi=!1,pr=!1,Id=!1,ai=0,mt=0,ki=0,ba=0,Pd=0,Vn=0,mr=0,ko=null,Tn=null,Hd=!1,Tc=0,u0=0,Cc=1/0,wc=null,Di=null,Rt=0,Ri=null,gr=null,ri=0,Fd=0,Gd=null,h0=null,Do=0,$d=null;function qn(){return(Pe&2)!==0&&De!==0?De&-De:V.T!==null?Kd():us()}function d0(){if(Vn===0)if((De&536870912)===0||Le){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),Vn=t}else Vn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Vn}function Cn(t,s,r){(t===nt&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(yr(t,0),ji(t,De,Vn,!1)),$n(t,r),((Pe&2)===0||t!==nt)&&(t===nt&&((Pe&2)===0&&(ba|=r),mt===4&&ji(t,De,Vn,!1)),Os(t))}function f0(t,s,r){if((Pe&6)!==0)throw Error(i(327));var c=!r&&(s&127)===0&&(s&t.expiredLanes)===0||mn(t,s),p=c?Ex(t,s):Xd(t,s,!0),m=c;do{if(p===0){pr&&!c&&ji(t,s,0,!1);break}else{if(r=t.current.alternate,m&&!Cx(r)){p=Xd(t,s,!1),m=!1;continue}if(p===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var E=t;p=ko;var L=E.current.memoizedState.isDehydrated;if(L&&(yr(E,b).flags|=256),b=Xd(E,b,!1),b!==2){if(Id&&!L){E.errorRecoveryDisabledLanes|=m,ba|=m,p=4;break e}m=Tn,Tn=p,m!==null&&(Tn===null?Tn=m:Tn.push.apply(Tn,m))}p=b}if(m=!1,p!==2)continue}}if(p===1){yr(t,0),ji(t,s,0,!0);break}e:{switch(c=t,m=p,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ji(c,s,Vn,!Mi);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Tc+300-Et(),10<p)){if(ji(c,s,Vn,!Mi),Vt(c,0,!0)!==0)break e;ri=s,c.timeoutHandle=F0(p0.bind(null,c,r,Tn,wc,Hd,s,Vn,ba,mr,Mi,m,"Throttled",-0,0),p);break e}p0(c,r,Tn,wc,Hd,s,Vn,ba,mr,Mi,m,null,-0,0)}}break}while(!0);Os(t)}function p0(t,s,r,c,p,m,b,E,L,X,K,ne,W,Q){if(t.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gs},r0(s,m,ne);var he=(m&62914560)===m?Tc-Et():(m&4194048)===m?u0-Et():0;if(he=lT(ne,he),he!==null){ri=m,t.cancelPendingCommit=he(x0.bind(null,t,s,m,r,c,p,b,E,L,K,ne,null,W,Q)),ji(t,m,b,!X);return}}x0(t,s,m,r,c,p,b,E,L)}function Cx(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var p=r[c],m=p.getSnapshot;p=p.value;try{if(!Dn(m(),p))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(t,s,r,c){s&=~Pd,s&=~ba,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var p=s;0<p;){var m=31-Kt(p),b=1<<m;c[m]=-1,p&=~b}r!==0&&cs(t,r,s)}function Ec(){return(Pe&6)===0?(Ro(0),!1):!0}function Yd(){if(Me!==null){if(Ge===0)var t=Me.return;else t=Me,Ws=ha=null,cd(t),or=null,mo=0,t=Me;for(;t!==null;)Gy(t.alternate,t),t=t.return;Me=null}}function yr(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Fx(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ri=0,Yd(),nt=t,Me=r=Ys(t.current,null),De=s,Ge=0,zn=null,Mi=!1,pr=mn(t,s),Id=!1,mr=Vn=Pd=ba=ki=mt=0,Tn=ko=null,Hd=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var p=31-Kt(c),m=1<<p;s|=t[p],c&=~m}return ai=s,Yl(),r}function m0(t,s){Ce=null,V.H=To,s===rr||s===tc?(s=kg(),Ge=3):s===Zh?(s=kg(),Ge=4):Ge=s===wd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Me===null&&(mt=1,mc(t,Kn(s,t.current)))}function g0(){var t=jn.current;return t===null?!0:(De&4194048)===De?ns===null:(De&62914560)===De||(De&536870912)!==0?t===ns:!1}function y0(){var t=V.H;return V.H=To,t===null?To:t}function v0(){var t=V.A;return V.A=xx,t}function Ac(){mt=4,Mi||(De&4194048)!==De&&jn.current!==null||(pr=!0),(ki&134217727)===0&&(ba&134217727)===0||nt===null||ji(nt,De,Vn,!1)}function Xd(t,s,r){var c=Pe;Pe|=2;var p=y0(),m=v0();(nt!==t||De!==s)&&(wc=null,yr(t,s)),s=!1;var b=mt;e:do try{if(Ge!==0&&Me!==null){var E=Me,L=zn;switch(Ge){case 8:Yd(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var X=Ge;if(Ge=0,zn=null,vr(t,E,L,X),r&&pr){b=0;break e}break;default:X=Ge,Ge=0,zn=null,vr(t,E,L,X)}}wx(),b=mt;break}catch(K){m0(t,K)}while(!0);return s&&t.shellSuspendCounter++,Ws=ha=null,Pe=c,V.H=p,V.A=m,Me===null&&(nt=null,De=0,Yl()),b}function wx(){for(;Me!==null;)_0(Me)}function Ex(t,s){var r=Pe;Pe|=2;var c=y0(),p=v0();nt!==t||De!==s?(wc=null,Cc=Et()+500,yr(t,s)):pr=mn(t,s);e:do try{if(Ge!==0&&Me!==null){s=Me;var m=zn;t:switch(Ge){case 1:Ge=0,zn=null,vr(t,s,m,1);break;case 2:case 9:if(Og(m)){Ge=0,zn=null,b0(s);break}s=function(){Ge!==2&&Ge!==9||nt!==t||(Ge=7),Os(t)},m.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Og(m)?(Ge=0,zn=null,b0(s)):(Ge=0,zn=null,vr(t,s,m,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var E=Me;if(b?av(b):E.stateNode.complete){Ge=0,zn=null;var L=E.sibling;if(L!==null)Me=L;else{var X=E.return;X!==null?(Me=X,Nc(X)):Me=null}break t}}Ge=0,zn=null,vr(t,s,m,5);break;case 6:Ge=0,zn=null,vr(t,s,m,6);break;case 8:Yd(),mt=6;break e;default:throw Error(i(462))}}Ax();break}catch(K){m0(t,K)}while(!0);return Ws=ha=null,V.H=c,V.A=p,Pe=r,Me!==null?0:(nt=null,De=0,Yl(),mt)}function Ax(){for(;Me!==null&&!rn();)_0(Me)}function _0(t){var s=Hy(t.alternate,t,ai);t.memoizedProps=t.pendingProps,s===null?Nc(t):Me=s}function b0(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=Vy(r,s,s.pendingProps,s.type,void 0,De);break;case 11:s=Vy(r,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:cd(s);default:Gy(r,s),s=Me=vg(s,ai),s=Hy(r,s,ai)}t.memoizedProps=t.pendingProps,s===null?Nc(t):Me=s}function vr(t,s,r,c){Ws=ha=null,cd(s),or=null,mo=0;var p=s.return;try{if(mx(t,p,s,r,De)){mt=1,mc(t,Kn(r,t.current)),Me=null;return}}catch(m){if(p!==null)throw Me=p,m;mt=1,mc(t,Kn(r,t.current)),Me=null;return}s.flags&32768?(Le||c===1?t=!0:pr||(De&536870912)!==0?t=!1:(Mi=t=!0,(c===2||c===9||c===3||c===6)&&(c=jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),S0(s,t)):Nc(s)}function Nc(t){var s=t;do{if((s.flags&32768)!==0){S0(s,Mi);return}t=s.return;var r=vx(s.alternate,s,ai);if(r!==null){Me=r;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=t}while(s!==null);mt===0&&(mt=5)}function S0(t,s){do{var r=_x(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);mt=6,Me=null}function x0(t,s,r,c,p,m,b,E,L){t.cancelPendingCommit=null;do Oc();while(Rt!==0);if((Pe&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=zh,Dt(t,r,m,b,E,L),t===nt&&(Me=nt=null,De=0),gr=s,Ri=t,ri=r,Fd=m,Gd=p,h0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kx(ls,function(){return A0(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,p=F.p,F.p=2,b=Pe,Pe|=4;try{bx(t,s,r)}finally{Pe=b,F.p=p,V.T=c}}Rt=1,T0(),C0(),w0()}}function T0(){if(Rt===1){Rt=0;var t=Ri,s=gr,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=V.T,V.T=null;var c=F.p;F.p=2;var p=Pe;Pe|=4;try{s0(s,t);var m=of,b=cg(t.containerInfo),E=m.focusedElem,L=m.selectionRange;if(b!==E&&E&&E.ownerDocument&&lg(E.ownerDocument.documentElement,E)){if(L!==null&&kh(E)){var X=L.start,K=L.end;if(K===void 0&&(K=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(K,E.value.length);else{var ne=E.ownerDocument||document,W=ne&&ne.defaultView||window;if(W.getSelection){var Q=W.getSelection(),he=E.textContent.length,be=Math.min(L.start,he),Qe=L.end===void 0?be:Math.min(L.end,he);!Q.extend&&be>Qe&&(b=Qe,Qe=be,be=b);var H=og(E,be),U=og(E,Qe);if(H&&U&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var Y=ne.createRange();Y.setStart(H.node,H.offset),Q.removeAllRanges(),be>Qe?(Q.addRange(Y),Q.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),Q.addRange(Y))}}}}for(ne=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var te=ne[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ic=!!rf,of=rf=null}finally{Pe=p,F.p=c,V.T=r}}t.current=s,Rt=2}}function C0(){if(Rt===2){Rt=0;var t=Ri,s=gr,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=V.T,V.T=null;var c=F.p;F.p=2;var p=Pe;Pe|=4;try{Ky(t,s.alternate,s)}finally{Pe=p,F.p=c,V.T=r}}Rt=3}}function w0(){if(Rt===4||Rt===3){Rt=0,Cs();var t=Ri,s=gr,r=ri,c=h0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Rt=5:(Rt=0,gr=Ri=null,E0(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Di=null),Hs(r),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(sa,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=V.T,p=F.p,F.p=2,V.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var E=c[b];m(E.value,{componentStack:E.stack})}}finally{V.T=s,F.p=p}}(ri&3)!==0&&Oc(),Os(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===$d?Do++:(Do=0,$d=t):Do=0,Ro(0)}}function E0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,fo(s)))}function Oc(){return T0(),C0(),w0(),A0()}function A0(){if(Rt!==5)return!1;var t=Ri,s=Fd;Fd=0;var r=Hs(ri),c=V.T,p=F.p;try{F.p=32>r?32:r,V.T=null,r=Gd,Gd=null;var m=Ri,b=ri;if(Rt=0,gr=Ri=null,ri=0,(Pe&6)!==0)throw Error(i(331));var E=Pe;if(Pe|=4,l0(m.current),a0(m,m.current,b,r),Pe=E,Ro(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(sa,m)}catch{}return!0}finally{F.p=p,V.T=c,E0(t,s)}}function N0(t,s,r){s=Kn(r,s),s=Cd(t.stateNode,s,2),t=Ei(t,s,2),t!==null&&($n(t,2),Os(t))}function $e(t,s,r){if(t.tag===3)N0(t,t,r);else for(;s!==null;){if(s.tag===3){N0(s,t,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Di===null||!Di.has(c))){t=Kn(r,t),r=Oy(2),c=Ei(s,r,2),c!==null&&(My(r,c,s,t),$n(c,2),Os(c));break}}s=s.return}}function Wd(t,s,r){var c=t.pingCache;if(c===null){c=t.pingCache=new Tx;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(r)||(Id=!0,p.add(r),t=Nx.bind(null,t,s,r),s.then(t,t))}function Nx(t,s,r){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(De&r)===r&&(mt===4||mt===3&&(De&62914560)===De&&300>Et()-Tc?(Pe&2)===0&&yr(t,0):Pd|=r,mr===De&&(mr=0)),Os(t)}function O0(t,s){s===0&&(s=Jt()),t=la(t,s),t!==null&&($n(t,s),Os(t))}function Ox(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),O0(t,r)}function Mx(t,s){var r=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),O0(t,r)}function kx(t,s){return je(t,s)}var Mc=null,_r=null,Qd=!1,kc=!1,Zd=!1,Li=0;function Os(t){t!==_r&&t.next===null&&(_r===null?Mc=_r=t:_r=_r.next=t),kc=!0,Qd||(Qd=!0,Rx())}function Ro(t,s){if(!Zd&&kc){Zd=!0;do for(var r=!1,c=Mc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var m=0;else{var b=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-Kt(42|t)+1)-1,m&=p&~(b&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,R0(c,m))}else m=De,m=Vt(c,c===nt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||mn(c,m)||(r=!0,R0(c,m));c=c.next}while(r);Zd=!1}}function Dx(){M0()}function M0(){kc=Qd=!1;var t=0;Li!==0&&Hx()&&(t=Li);for(var s=Et(),r=null,c=Mc;c!==null;){var p=c.next,m=k0(c,s);m===0?(c.next=null,r===null?Mc=p:r.next=p,p===null&&(_r=r)):(r=c,(t!==0||(m&3)!==0)&&(kc=!0)),c=p}Rt!==0&&Rt!==5||Ro(t),Li!==0&&(Li=0)}function k0(t,s){for(var r=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Kt(m),E=1<<b,L=p[b];L===-1?((E&r)===0||(E&c)!==0)&&(p[b]=gn(E,s)):L<=s&&(t.expiredLanes|=E),m&=~E}if(s=nt,r=De,r=Vt(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,r===0||t===s&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&_t(c),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||mn(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(c!==null&&_t(c),Hs(r)){case 2:case 8:r=Is;break;case 32:r=ls;break;case 268435456:r=Kr;break;default:r=ls}return c=D0.bind(null,t),r=je(r,c),t.callbackPriority=s,t.callbackNode=r,s}return c!==null&&c!==null&&_t(c),t.callbackPriority=2,t.callbackNode=null,2}function D0(t,s){if(Rt!==0&&Rt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Oc()&&t.callbackNode!==r)return null;var c=De;return c=Vt(t,t===nt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(f0(t,c,s),k0(t,Et()),t.callbackNode!=null&&t.callbackNode===r?D0.bind(null,t):null)}function R0(t,s){if(Oc())return null;f0(t,s,!0)}function Rx(){Gx(function(){(Pe&6)!==0?je(Va,Dx):M0()})}function Kd(){if(Li===0){var t=ir;t===0&&(t=qa,qa<<=1,(qa&261888)===0&&(qa=256)),Li=t}return Li}function j0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bl(""+t)}function L0(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function jx(t,s,r,c,p){if(s==="submit"&&r&&r.stateNode===p){var m=j0((p[vn]||null).action),b=c.submitter;b&&(s=(s=b[vn]||null)?j0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var E=new Hl("action","action",null,c,p);t.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Li!==0){var L=b?L0(p,b):new FormData(p);vd(r,{pending:!0,data:L,method:p.method,action:m},null,L)}}else typeof m=="function"&&(E.preventDefault(),L=b?L0(p,b):new FormData(p),vd(r,{pending:!0,data:L,method:p.method,action:m},m,L))},currentTarget:p}]})}}for(var Jd=0;Jd<Lh.length;Jd++){var ef=Lh[Jd],Lx=ef.toLowerCase(),zx=ef[0].toUpperCase()+ef.slice(1);hs(Lx,"on"+zx)}hs(dg,"onAnimationEnd"),hs(fg,"onAnimationIteration"),hs(pg,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(KS,"onTransitionRun"),hs(JS,"onTransitionStart"),hs(ex,"onTransitionCancel"),hs(mg,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function z0(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var c=t[r],p=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var E=c[b],L=E.instance,X=E.currentTarget;if(E=E.listener,L!==m&&p.isPropagationStopped())break e;m=E,p.currentTarget=X;try{m(p)}catch(K){$l(K)}p.currentTarget=null,m=L}else for(b=0;b<c.length;b++){if(E=c[b],L=E.instance,X=E.currentTarget,E=E.listener,L!==m&&p.isPropagationStopped())break e;m=E,p.currentTarget=X;try{m(p)}catch(K){$l(K)}p.currentTarget=null,m=L}}}}function ke(t,s){var r=s[fh];r===void 0&&(r=s[fh]=new Set);var c=t+"__bubble";r.has(c)||(V0(s,t,2,!1),r.add(c))}function tf(t,s,r){var c=0;s&&(c|=4),V0(r,t,c,s)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[Dc]){t[Dc]=!0,Mm.forEach(function(r){r!=="selectionchange"&&(Vx.has(r)||tf(r,!1,t),tf(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Dc]||(s[Dc]=!0,tf("selectionchange",!1,s))}}function V0(t,s,r,c){switch(dv(s)){case 2:var p=hT;break;case 8:p=dT;break;default:p=vf}r=p.bind(null,s,r,t),p=void 0,!xh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(s,r,{capture:!0,passive:p}):t.addEventListener(s,r,!0):p!==void 0?t.addEventListener(s,r,{passive:p}):t.addEventListener(s,r,!1)}function sf(t,s,r,c,p){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===p)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;E!==null;){if(b=Ia(E),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=m=b;continue e}E=E.parentNode}}c=c.return}Pm(function(){var X=m,K=bh(r),ne=[];e:{var W=gg.get(t);if(W!==void 0){var Q=Hl,he=t;switch(t){case"keypress":if(Il(r)===0)break e;case"keydown":case"keyup":Q=MS;break;case"focusin":he="focus",Q=Eh;break;case"focusout":he="blur",Q=Eh;break;case"beforeblur":case"afterblur":Q=Eh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=RS;break;case dg:case fg:case pg:Q=SS;break;case mg:Q=LS;break;case"scroll":case"scrollend":Q=gS;break;case"wheel":Q=VS;break;case"copy":case"cut":case"paste":Q=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ym;break;case"toggle":case"beforetoggle":Q=BS}var be=(s&4)!==0,Qe=!be&&(t==="scroll"||t==="scrollend"),H=be?W!==null?W+"Capture":null:W;be=[];for(var U=X,Y;U!==null;){var te=U;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||H===null||(te=to(U,H),te!=null&&be.push(Lo(U,te,Y))),Qe)break;U=U.return}0<be.length&&(W=new Q(W,he,null,r,K),ne.push({event:W,listeners:be}))}}if((s&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",W&&r!==_h&&(he=r.relatedTarget||r.fromElement)&&(Ia(he)||he[Ua]))break e;if((Q||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(he=r.relatedTarget||r.toElement,Q=X,he=he?Ia(he):null,he!==null&&(Qe=l(he),be=he.tag,he!==Qe||be!==5&&be!==27&&be!==6)&&(he=null)):(Q=null,he=X),Q!==he)){if(be=Gm,te="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ym,te="onPointerLeave",H="onPointerEnter",U="pointer"),Qe=Q==null?W:eo(Q),Y=he==null?W:eo(he),W=new be(te,U+"leave",Q,r,K),W.target=Qe,W.relatedTarget=Y,te=null,Ia(K)===X&&(be=new be(H,U+"enter",he,r,K),be.target=Y,be.relatedTarget=Qe,te=be),Qe=te,Q&&he)t:{for(be=qx,H=Q,U=he,Y=0,te=H;te;te=be(te))Y++;te=0;for(var ve=U;ve;ve=be(ve))te++;for(;0<Y-te;)H=be(H),Y--;for(;0<te-Y;)U=be(U),te--;for(;Y--;){if(H===U||U!==null&&H===U.alternate){be=H;break t}H=be(H),U=be(U)}be=null}else be=null;Q!==null&&q0(ne,W,Q,be,!1),he!==null&&Qe!==null&&q0(ne,Qe,he,be,!0)}}e:{if(W=X?eo(X):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var Ue=tg;else if(Jm(W))if(ng)Ue=WS;else{Ue=YS;var fe=$S}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&vh(X.elementType)&&(Ue=tg):Ue=XS;if(Ue&&(Ue=Ue(t,X))){eg(ne,Ue,r,K);break e}fe&&fe(t,W,X),t==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&yh(W,"number",W.value)}switch(fe=X?eo(X):window,t){case"focusin":(Jm(fe)||fe.contentEditable==="true")&&(Qa=fe,Dh=X,co=null);break;case"focusout":co=Dh=Qa=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,ug(ne,r,K);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":ug(ne,r,K)}var we;if(Nh)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Wa?Zm(t,r)&&(Re="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(Xm&&r.locale!=="ko"&&(Wa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Wa&&(we=Hm()):(_i=K,Th="value"in _i?_i.value:_i.textContent,Wa=!0)),fe=Rc(X,Re),0<fe.length&&(Re=new $m(Re,t,null,r,K),ne.push({event:Re,listeners:fe}),we?Re.data=we:(we=Km(r),we!==null&&(Re.data=we)))),(we=IS?PS(t,r):HS(t,r))&&(Re=Rc(X,"onBeforeInput"),0<Re.length&&(fe=new $m("onBeforeInput","beforeinput",null,r,K),ne.push({event:fe,listeners:Re}),fe.data=we)),jx(ne,t,X,r,K)}z0(ne,s)})}function Lo(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Rc(t,s){for(var r=s+"Capture",c=[];t!==null;){var p=t,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=to(t,r),p!=null&&c.unshift(Lo(t,p,m)),p=to(t,s),p!=null&&c.push(Lo(t,p,m))),t.tag===3)return c;t=t.return}return[]}function qx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q0(t,s,r,c,p){for(var m=s._reactName,b=[];r!==null&&r!==c;){var E=r,L=E.alternate,X=E.stateNode;if(E=E.tag,L!==null&&L===c)break;E!==5&&E!==26&&E!==27||X===null||(L=X,p?(X=to(r,m),X!=null&&b.unshift(Lo(r,X,L))):p||(X=to(r,m),X!=null&&b.push(Lo(r,X,L)))),r=r.return}b.length!==0&&t.push({event:s,listeners:b})}var Bx=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(Bx,`
`).replace(Ux,"")}function U0(t,s){return s=B0(s),B0(t)===s}function We(t,s,r,c,p,m){switch(r){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||$a(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&$a(t,""+c);break;case"className":Vl(t,"class",c);break;case"tabIndex":Vl(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(t,r,c);break;case"style":Um(t,c,m);break;case"data":if(s!=="object"){Vl(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=Bl(""+c),t.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&We(t,s,"name",p.name,p,null),We(t,s,"formEncType",p.formEncType,p,null),We(t,s,"formMethod",p.formMethod,p,null),We(t,s,"formTarget",p.formTarget,p,null)):(We(t,s,"encType",p.encType,p,null),We(t,s,"method",p.method,p,null),We(t,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=Bl(""+c),t.setAttribute(r,c);break;case"onClick":c!=null&&(t.onclick=Gs);break;case"onScroll":c!=null&&ke("scroll",t);break;case"onScrollEnd":c!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}r=Bl(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""+c):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":c===!0?t.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,c):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(r,c):t.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(r):t.setAttribute(r,c);break;case"popover":ke("beforetoggle",t),ke("toggle",t),zl(t,"popover",c);break;case"xlinkActuate":Fs(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fs(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fs(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fs(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fs(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fs(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fs(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zl(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pS.get(r)||r,zl(t,r,c))}}function af(t,s,r,c,p,m){switch(r){case"style":Um(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof c=="string"?$a(t,c):(typeof c=="number"||typeof c=="bigint")&&$a(t,""+c);break;case"onScroll":c!=null&&ke("scroll",t);break;case"onScrollEnd":c!=null&&ke("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!km.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),s=r.slice(2,p?r.length-7:void 0),m=t[vn]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(s,m,p),typeof c=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,c,p);break e}r in t?t[r]=c:c===!0?t.setAttribute(r,""):zl(t,r,c)}}}function Xt(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var c=!1,p=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(t,s,m,b,r,null)}}p&&We(t,s,"srcSet",r.srcSet,r,null),c&&We(t,s,"src",r.src,r,null);return;case"input":ke("invalid",t);var E=m=b=p=null,L=null,X=null;for(c in r)if(r.hasOwnProperty(c)){var K=r[c];if(K!=null)switch(c){case"name":p=K;break;case"type":b=K;break;case"checked":L=K;break;case"defaultChecked":X=K;break;case"value":m=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:We(t,s,c,K,r,null)}}zm(t,m,E,L,X,b,p,!1);return;case"select":ke("invalid",t),c=b=m=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":c=E;default:We(t,s,p,E,r,null)}s=m,r=b,t.multiple=!!c,s!=null?Ga(t,!!c,s,!1):r!=null&&Ga(t,!!c,r,!0);return;case"textarea":ke("invalid",t),m=p=c=null;for(b in r)if(r.hasOwnProperty(b)&&(E=r[b],E!=null))switch(b){case"value":c=E;break;case"defaultValue":p=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:We(t,s,b,E,r,null)}qm(t,c,p,m);return;case"option":for(L in r)if(r.hasOwnProperty(L)&&(c=r[L],c!=null))switch(L){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:We(t,s,L,c,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(c=0;c<jo.length;c++)ke(jo[c],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(c=r[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(t,s,X,c,r,null)}return;default:if(vh(s)){for(K in r)r.hasOwnProperty(K)&&(c=r[K],c!==void 0&&af(t,s,K,c,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(c=r[E],c!=null&&We(t,s,E,c,r,null))}function Ix(t,s,r,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,b=null,E=null,L=null,X=null,K=null;for(Q in r){var ne=r[Q];if(r.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":L=ne;default:c.hasOwnProperty(Q)||We(t,s,Q,null,c,ne)}}for(var W in c){var Q=c[W];if(ne=r[W],c.hasOwnProperty(W)&&(Q!=null||ne!=null))switch(W){case"type":m=Q;break;case"name":p=Q;break;case"checked":X=Q;break;case"defaultChecked":K=Q;break;case"value":b=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==ne&&We(t,s,W,Q,c,ne)}}gh(t,b,E,L,X,K,m,p);return;case"select":Q=b=E=W=null;for(m in r)if(L=r[m],r.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":Q=L;default:c.hasOwnProperty(m)||We(t,s,m,null,c,L)}for(p in c)if(m=c[p],L=r[p],c.hasOwnProperty(p)&&(m!=null||L!=null))switch(p){case"value":W=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==L&&We(t,s,p,m,c,L)}s=E,r=b,c=Q,W!=null?Ga(t,!!r,W,!1):!!c!=!!r&&(s!=null?Ga(t,!!r,s,!0):Ga(t,!!r,r?[]:"",!1));return;case"textarea":Q=W=null;for(E in r)if(p=r[E],r.hasOwnProperty(E)&&p!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,s,E,null,c,p)}for(b in c)if(p=c[b],m=r[b],c.hasOwnProperty(b)&&(p!=null||m!=null))switch(b){case"value":W=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==m&&We(t,s,b,p,c,m)}Vm(t,W,Q);return;case"option":for(var he in r)if(W=r[he],r.hasOwnProperty(he)&&W!=null&&!c.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,s,he,null,c,W)}for(L in c)if(W=c[L],Q=r[L],c.hasOwnProperty(L)&&W!==Q&&(W!=null||Q!=null))switch(L){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:We(t,s,L,W,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)W=r[be],r.hasOwnProperty(be)&&W!=null&&!c.hasOwnProperty(be)&&We(t,s,be,null,c,W);for(X in c)if(W=c[X],Q=r[X],c.hasOwnProperty(X)&&W!==Q&&(W!=null||Q!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:We(t,s,X,W,c,Q)}return;default:if(vh(s)){for(var Qe in r)W=r[Qe],r.hasOwnProperty(Qe)&&W!==void 0&&!c.hasOwnProperty(Qe)&&af(t,s,Qe,void 0,c,W);for(K in c)W=c[K],Q=r[K],!c.hasOwnProperty(K)||W===Q||W===void 0&&Q===void 0||af(t,s,K,W,c,Q);return}}for(var H in r)W=r[H],r.hasOwnProperty(H)&&W!=null&&!c.hasOwnProperty(H)&&We(t,s,H,null,c,W);for(ne in c)W=c[ne],Q=r[ne],!c.hasOwnProperty(ne)||W===Q||W==null&&Q==null||We(t,s,ne,W,c,Q)}function I0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Px(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var p=r[c],m=p.transferSize,b=p.initiatorType,E=p.duration;if(m&&E&&I0(b)){for(b=0,E=p.responseEnd,c+=1;c<r.length;c++){var L=r[c],X=L.startTime;if(X>E)break;var K=L.transferSize,ne=L.initiatorType;K&&I0(ne)&&(L=L.responseEnd,b+=K*(L<E?1:(E-X)/(L-X)))}if(--c,s+=8*(m+b)/(p.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,of=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function P0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function lf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cf=null;function Hx(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var F0=typeof setTimeout=="function"?setTimeout:void 0,Fx=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(t){return G0.resolve(null).then(t).catch($x)}:F0;function $x(t){setTimeout(function(){throw t})}function zi(t){return t==="head"}function $0(t,s){var r=s,c=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(c===0){t.removeChild(p),Tr(s);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")zo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,zo(r);for(var m=r.firstChild;m;){var b=m.nextSibling,E=m.nodeName;m[Jr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&zo(t.ownerDocument.body);r=p}while(r);Tr(s)}function Y0(t,s){var r=t;t=0;do{var c=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=c}while(r)}function uf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":uf(r),ph(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Yx(t,s,r,c){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Jr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ss(t.nextSibling),t===null)break}return null}function Xx(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ss(t.nextSibling),t===null))return null;return t}function X0(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ss(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$?"||t.data==="$~"}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Wx(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var c=function(){s(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function ss(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ff=null;function W0(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return ss(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function Q0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Z0(t,s,r){switch(s=jc(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function zo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ph(t)}var is=new Map,K0=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oi=F.d;F.d={f:Qx,r:Zx,D:Kx,C:Jx,L:eT,m:tT,X:sT,S:nT,M:iT};function Qx(){var t=oi.f(),s=Ec();return t||s}function Zx(t){var s=Pa(t);s!==null&&s.tag===5&&s.type==="form"?my(s):oi.r(t)}var br=typeof document>"u"?null:document;function J0(t,s,r){var c=br;if(c&&typeof s=="string"&&s){var p=Qn(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),K0.has(p)||(K0.add(p),t={rel:t,crossOrigin:r,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Xt(s,"link",t),qt(s),c.head.appendChild(s)))}}function Kx(t){oi.D(t),J0("dns-prefetch",t,null)}function Jx(t,s){oi.C(t,s),J0("preconnect",t,s)}function eT(t,s,r){oi.L(t,s,r);var c=br;if(c&&t&&s){var p='link[rel="preload"][as="'+Qn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+Qn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+Qn(r.imageSizes)+'"]')):p+='[href="'+Qn(t)+'"]';var m=p;switch(s){case"style":m=Sr(t);break;case"script":m=xr(t)}is.has(m)||(t=g({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),is.set(m,t),c.querySelector(p)!==null||s==="style"&&c.querySelector(Vo(m))||s==="script"&&c.querySelector(qo(m))||(s=c.createElement("link"),Xt(s,"link",t),qt(s),c.head.appendChild(s)))}}function tT(t,s){oi.m(t,s);var r=br;if(r&&t){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Qn(c)+'"][href="'+Qn(t)+'"]',m=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xr(t)}if(!is.has(m)&&(t=g({rel:"modulepreload",href:t},s),is.set(m,t),r.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qo(m)))return}c=r.createElement("link"),Xt(c,"link",t),qt(c),r.head.appendChild(c)}}}function nT(t,s,r){oi.S(t,s,r);var c=br;if(c&&t){var p=Ha(c).hoistableStyles,m=Sr(t);s=s||"default";var b=p.get(m);if(!b){var E={loading:0,preload:null};if(b=c.querySelector(Vo(m)))E.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},r),(r=is.get(m))&&pf(t,r);var L=b=c.createElement("link");qt(L),Xt(L,"link",t),L._p=new Promise(function(X,K){L.onload=X,L.onerror=K}),L.addEventListener("load",function(){E.loading|=1}),L.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zc(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:E},p.set(m,b)}}}function sT(t,s){oi.X(t,s);var r=br;if(r&&t){var c=Ha(r).hoistableScripts,p=xr(t),m=c.get(p);m||(m=r.querySelector(qo(p)),m||(t=g({src:t,async:!0},s),(s=is.get(p))&&mf(t,s),m=r.createElement("script"),qt(m),Xt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function iT(t,s){oi.M(t,s);var r=br;if(r&&t){var c=Ha(r).hoistableScripts,p=xr(t),m=c.get(p);m||(m=r.querySelector(qo(p)),m||(t=g({src:t,async:!0,type:"module"},s),(s=is.get(p))&&mf(t,s),m=r.createElement("script"),qt(m),Xt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function ev(t,s,r,c){var p=(p=ce.current)?Lc(p):null;if(!p)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Sr(r.href),r=Ha(p).hoistableStyles,c=r.get(s),c||(c={type:"style",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Sr(r.href);var m=Ha(p).hoistableStyles,b=m.get(t);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=p.querySelector(Vo(t)))&&!m._p&&(b.instance=m,b.state.loading=5),is.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},is.set(t,r),m||aT(p,t,r,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xr(r),r=Ha(p).hoistableScripts,c=r.get(s),c||(c={type:"script",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Sr(t){return'href="'+Qn(t)+'"'}function Vo(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function aT(t,s,r,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Xt(s,"link",r),qt(s),t.head.appendChild(s))}function xr(t){return'[src="'+Qn(t)+'"]'}function qo(t){return"script[async]"+t}function nv(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Qn(r.href)+'"]');if(c)return s.instance=c,qt(c),c;var p=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),qt(c),Xt(c,"style",p),zc(c,r.precedence,t),s.instance=c;case"stylesheet":p=Sr(r.href);var m=t.querySelector(Vo(p));if(m)return s.state.loading|=4,s.instance=m,qt(m),m;c=tv(r),(p=is.get(p))&&pf(c,p),m=(t.ownerDocument||t).createElement("link"),qt(m);var b=m;return b._p=new Promise(function(E,L){b.onload=E,b.onerror=L}),Xt(m,"link",c),s.state.loading|=4,zc(m,r.precedence,t),s.instance=m;case"script":return m=xr(r.src),(p=t.querySelector(qo(m)))?(s.instance=p,qt(p),p):(c=r,(p=is.get(m))&&(c=g({},r),mf(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),qt(p),Xt(p,"link",c),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,zc(c,r.precedence,t));return s.instance}function zc(t,s,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,m=p,b=0;b<c.length;b++){var E=c[b];if(E.dataset.precedence===s)m=E;else if(m!==p)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function pf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function mf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Vc=null;function sv(t,s,r){if(Vc===null){var c=new Map,p=Vc=new Map;p.set(r,c)}else p=Vc,c=p.get(r),c||(c=new Map,p.set(r,c));if(c.has(t))return c;for(c.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var m=r[p];if(!(m[Jr]||m[Ft]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var E=c.get(b);E?E.push(m):c.set(b,[m])}}return c}function iv(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function rT(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oT(t,s,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Sr(c.href),m=s.querySelector(Vo(p));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=qc.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=m,qt(m);return}m=s.ownerDocument||s,c=tv(c),(p=is.get(p))&&pf(c,p),m=m.createElement("link"),qt(m);var b=m;b._p=new Promise(function(E,L){b.onload=E,b.onerror=L}),Xt(m,"link",c),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=qc.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var gf=0;function lT(t,s){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var c=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&gf===0&&(gf=62500*Px());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>gf?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function Uc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,s.forEach(cT,t),Bc=null,qc.call(t))}function cT(t,s){if(!(s.state.loading&4)){var r=Bc.get(t);if(r)var c=r.get(null);else{r=new Map,Bc.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var b=p[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),c=b)}c&&r.set(null,c)}p=s.instance,b=p.getAttribute("data-precedence"),m=r.get(b)||c,m===c&&r.set(null,p),r.set(b,p),this.count++,c=qc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),m?m.parentNode.insertBefore(p,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var Bo={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function uT(t,s,r,c,p,m,b,E,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.hiddenUpdates=yn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function rv(t,s,r,c,p,m,b,E,L,X,K,ne){return t=new uT(t,s,r,b,L,X,K,ne,E),s=1,m===!0&&(s|=24),m=Rn(3,null,null,s),t.current=m,m.stateNode=t,s=Xh(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:s},Kh(m),t}function ov(t){return t?(t=Ja,t):Ja}function lv(t,s,r,c,p,m){p=ov(p),c.context===null?c.context=p:c.pendingContext=p,c=wi(s),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=Ei(t,c,s),r!==null&&(Cn(r,t,s),yo(r,t,s))}function cv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function yf(t,s){cv(t,s),(t=t.alternate)&&cv(t,s)}function uv(t){if(t.tag===13||t.tag===31){var s=la(t,67108864);s!==null&&Cn(s,t,67108864),yf(t,67108864)}}function hv(t){if(t.tag===13||t.tag===31){var s=qn();s=Ps(s);var r=la(t,s);r!==null&&Cn(r,t,s),yf(t,s)}}var Ic=!0;function hT(t,s,r,c){var p=V.T;V.T=null;var m=F.p;try{F.p=2,vf(t,s,r,c)}finally{F.p=m,V.T=p}}function dT(t,s,r,c){var p=V.T;V.T=null;var m=F.p;try{F.p=8,vf(t,s,r,c)}finally{F.p=m,V.T=p}}function vf(t,s,r,c){if(Ic){var p=_f(c);if(p===null)sf(t,s,c,Pc,r),fv(t,c);else if(pT(p,t,s,r,c))c.stopPropagation();else if(fv(t,c),s&4&&-1<fT.indexOf(t)){for(;p!==null;){var m=Pa(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=St(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var L=1<<31-Kt(b);E.entanglements[1]|=L,b&=~L}Os(m),(Pe&6)===0&&(Cc=Et()+500,Ro(0))}}break;case 31:case 13:E=la(m,2),E!==null&&Cn(E,m,2),Ec(),yf(m,2)}if(m=_f(c),m===null&&sf(t,s,c,Pc,r),m===p)break;p=m}p!==null&&c.stopPropagation()}else sf(t,s,c,null,r)}}function _f(t){return t=bh(t),bf(t)}var Pc=null;function bf(t){if(Pc=null,t=Ia(t),t!==null){var s=l(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=u(s),t!==null)return t;t=null}else if(r===31){if(t=h(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Pc=t,null}function dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Va:return 2;case Is:return 8;case ls:case na:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var Sf=!1,Vi=null,qi=null,Bi=null,Uo=new Map,Io=new Map,Ui=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(t,s){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Uo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(s.pointerId)}}function Po(t,s,r,c,p,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[p]},s!==null&&(s=Pa(s),s!==null&&uv(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function pT(t,s,r,c,p){switch(s){case"focusin":return Vi=Po(Vi,t,s,r,c,p),!0;case"dragenter":return qi=Po(qi,t,s,r,c,p),!0;case"mouseover":return Bi=Po(Bi,t,s,r,c,p),!0;case"pointerover":var m=p.pointerId;return Uo.set(m,Po(Uo.get(m)||null,t,s,r,c,p)),!0;case"gotpointercapture":return m=p.pointerId,Io.set(m,Po(Io.get(m)||null,t,s,r,c,p)),!0}return!1}function pv(t){var s=Ia(t.target);if(s!==null){var r=l(s);if(r!==null){if(s=r.tag,s===13){if(s=u(r),s!==null){t.blockedOn=s,vi(t.priority,function(){hv(r)});return}}else if(s===31){if(s=h(r),s!==null){t.blockedOn=s,vi(t.priority,function(){hv(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=_f(t.nativeEvent);if(r===null){r=t.nativeEvent;var c=new r.constructor(r.type,r);_h=c,r.target.dispatchEvent(c),_h=null}else return s=Pa(r),s!==null&&uv(s),t.blockedOn=r,!1;s.shift()}return!0}function mv(t,s,r){Hc(t)&&r.delete(s)}function mT(){Sf=!1,Vi!==null&&Hc(Vi)&&(Vi=null),qi!==null&&Hc(qi)&&(qi=null),Bi!==null&&Hc(Bi)&&(Bi=null),Uo.forEach(mv),Io.forEach(mv)}function Fc(t,s){t.blockedOn===s&&(t.blockedOn=null,Sf||(Sf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mT)))}var Gc=null;function gv(t){Gc!==t&&(Gc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var s=0;s<t.length;s+=3){var r=t[s],c=t[s+1],p=t[s+2];if(typeof c!="function"){if(bf(c||r)===null)continue;break}var m=Pa(r);m!==null&&(t.splice(s,3),s-=3,vd(m,{pending:!0,data:p,method:r.method,action:c},c,p))}}))}function Tr(t){function s(L){return Fc(L,t)}Vi!==null&&Fc(Vi,t),qi!==null&&Fc(qi,t),Bi!==null&&Fc(Bi,t),Uo.forEach(s),Io.forEach(s);for(var r=0;r<Ui.length;r++){var c=Ui[r];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Ui.length&&(r=Ui[0],r.blockedOn===null);)pv(r),r.blockedOn===null&&Ui.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var p=r[c],m=r[c+1],b=p[vn]||null;if(typeof m=="function")b||gv(r);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(p=m,b=m[vn]||null)E=b.formAction;else if(bf(p)!==null)continue}else E=b.action;typeof E=="function"?r[c+1]=E:(r.splice(c,3),c-=3),gv(r)}}}function yv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function xf(t){this._internalRoot=t}$c.prototype.render=xf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,c=qn();lv(r,c,t,s,null,null)},$c.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;lv(t.current,2,null,t,null,null),Ec(),s[Ua]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var s=us();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ui.length&&s!==0&&s<Ui[r].priority;r++);Ui.splice(r,0,t),r===0&&pv(t)}};var vv=e.version;if(vv!=="19.2.0")throw Error(i(527,vv,"19.2.0"));F.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=f(s),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var gT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{sa=Yc.inject(gT),on=Yc}catch{}}return Fo.createRoot=function(t,s){if(!o(t))throw Error(i(299));var r=!1,c="",p=wy,m=Ey,b=Ay;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=rv(t,1,!1,null,null,r,c,null,p,m,b,yv),t[Ua]=s.current,nf(t),new xf(s)},Fo.hydrateRoot=function(t,s,r){if(!o(t))throw Error(i(299));var c=!1,p="",m=wy,b=Ey,E=Ay,L=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(L=r.formState)),s=rv(t,1,!0,s,r??null,c,p,L,m,b,E,yv),s.context=ov(null),r=s.current,c=qn(),c=Ps(c),p=wi(c),p.callback=null,Ei(r,p,c),r=c,s.current.lanes=r,$n(s,r),Os(s),t[Ua]=s.current,nf(t),new $c(s)},Fo.version="19.2.0",Fo}var Nv;function ET(){if(Nv)return wf.exports;Nv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wf.exports=wT(),wf.exports}var AT=ET();const xe=a=>typeof a=="string",Go=()=>{let a,e;const n=new Promise((i,o)=>{a=i,e=o});return n.resolve=a,n.reject=e,n},Ov=a=>a==null?"":""+a,NT=(a,e,n)=>{a.forEach(i=>{e[i]&&(n[i]=e[i])})},OT=/###/g,Mv=a=>a&&a.indexOf("###")>-1?a.replace(OT,"."):a,kv=a=>!a||xe(a),Ko=(a,e,n)=>{const i=xe(e)?e.split("."):e;let o=0;for(;o<i.length-1;){if(kv(a))return{};const l=Mv(i[o]);!a[l]&&n&&(a[l]=new n),Object.prototype.hasOwnProperty.call(a,l)?a=a[l]:a={},++o}return kv(a)?{}:{obj:a,k:Mv(i[o])}},Dv=(a,e,n)=>{const{obj:i,k:o}=Ko(a,e,Object);if(i!==void 0||e.length===1){i[o]=n;return}let l=e[e.length-1],u=e.slice(0,e.length-1),h=Ko(a,u,Object);for(;h.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),h=Ko(a,u,Object),h?.obj&&typeof h.obj[`${h.k}.${l}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${l}`]=n},MT=(a,e,n,i)=>{const{obj:o,k:l}=Ko(a,e,Object);o[l]=o[l]||[],o[l].push(n)},ou=(a,e)=>{const{obj:n,k:i}=Ko(a,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},kT=(a,e,n)=>{const i=ou(a,n);return i!==void 0?i:ou(e,n)},J_=(a,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in a?xe(a[i])||a[i]instanceof String||xe(e[i])||e[i]instanceof String?n&&(a[i]=e[i]):J_(a[i],e[i],n):a[i]=e[i]);return a},Cr=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var DT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const RT=a=>xe(a)?a.replace(/[&<>"'\/]/g,e=>DT[e]):a;class jT{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const LT=[" ",",","?","!",";"],zT=new jT(20),VT=(a,e,n)=>{e=e||"",n=n||"";const i=LT.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(i.length===0)return!0;const o=zT.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!o.test(a);if(!l){const u=a.indexOf(n);u>0&&!o.test(a.substring(0,u))&&(l=!0)}return l},Qf=(a,e,n=".")=>{if(!a)return;if(a[e])return Object.prototype.hasOwnProperty.call(a,e)?a[e]:void 0;const i=e.split(n);let o=a;for(let l=0;l<i.length;){if(!o||typeof o!="object")return;let u,h="";for(let d=l;d<i.length;++d)if(d!==l&&(h+=n),h+=i[d],u=o[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<i.length-1)continue;l+=d-l+1;break}o=u}return o},sl=a=>a?.replace("_","-"),qT={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,e){console?.[a]?.apply?.(console,e)}};class lu{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||qT,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,o){return o&&!this.debug?null:(xe(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new lu(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new lu(this.logger,e)}}var Ms=new lu;class ju{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(n)||0;this.observers[i].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,l])=>{for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,l])=>{for(let u=0;u<l;u++)o.apply(o,[e,...n])})}}class Rv extends ju{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,o={}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],i&&(Array.isArray(i)?h.push(...i):xe(i)&&l?h.push(...i.split(l)):h.push(i)));const d=ou(this.data,h);return!d&&!n&&!i&&e.indexOf(".")>-1&&(e=h[0],n=h[1],i=h.slice(2).join(".")),d||!u||!xe(i)?d:Qf(this.data?.[e]?.[n],i,l)}addResource(e,n,i,o,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let h=[e,n];i&&(h=h.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(h=e.split("."),o=n,n=h[1]),this.addNamespaces(n),Dv(this.data,h,o),l.silent||this.emit("added",e,n,i,o)}addResources(e,n,i,o={silent:!1}){for(const l in i)(xe(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});o.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,o,l,u={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),o=i,i=n,n=h[1]),this.addNamespaces(n);let d=ou(this.data,h)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?J_(d,i,l):d={...d,...i},Dv(this.data,h,d),u.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var eb={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,e,n,i,o){return a.forEach(l=>{e=this.processors[l]?.process(e,n,i,o)??e}),e}};const tb=Symbol("i18next/PATH_KEY");function BT(){const a=[],e=Object.create(null);let n;return e.get=(i,o)=>(n?.revoke?.(),o===tb?a:(a.push(o),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Zf(a,e){const{[tb]:n}=a(BT());return n.join(e?.keySeparator??".")}const jv={},Of=a=>!xe(a)&&typeof a!="boolean"&&typeof a!="number";class cu extends ju{constructor(e,n={}){super(),NT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ms.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const i={...n};if(e==null)return!1;const o=this.resolve(e,i);if(o?.res===void 0)return!1;const l=Of(o.res);return!(i.returnObjects===!1&&l)}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!VT(e,i,o);if(u&&!h){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:xe(l)?[l]:l};const f=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),e=f.join(o)}return{key:e,namespaces:xe(l)?[l]:l}}translate(e,n,i){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=Zf(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:d}=this.extractFromKey(e[e.length-1],o),f=d[d.length-1];let y=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const g=o.lng||this.language,_=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return _?l?{res:`${f}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(o)}:`${f}${y}${h}`:l?{res:h,usedKey:h,exactUsedKey:h,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(o)}:h;const x=this.resolve(e,o);let v=x?.res;const S=x?.usedKey||h,C=x?.exactUsedKey||h,w=["[object Number]","[object Function]","[object RegExp]"],O=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,B=o.count!==void 0&&!xe(o.count),N=cu.hasDefaultValue(o),j=B?this.pluralResolver.getSuffix(g,o.count,o):"",D=o.ordinal&&B?this.pluralResolver.getSuffix(g,o.count,{ordinal:!1}):"",R=B&&!o.ordinal&&o.count===0,z=R&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${j}`]||o[`defaultValue${D}`]||o.defaultValue;let q=v;k&&!v&&N&&(q=z);const I=Of(q),P=Object.prototype.toString.apply(q);if(k&&q&&I&&w.indexOf(P)<0&&!(xe(O)&&Array.isArray(q))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const J=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,q,{...o,ns:d}):`key '${h} (${this.language})' returned an object instead of string.`;return l?(x.res=J,x.usedParams=this.getUsedParamsDetails(o),x):J}if(u){const J=Array.isArray(q),$=J?[]:{},se=J?C:S;for(const V in q)if(Object.prototype.hasOwnProperty.call(q,V)){const F=`${se}${u}${V}`;N&&!v?$[V]=this.translate(F,{...o,defaultValue:Of(z)?z[V]:void 0,joinArrays:!1,ns:d}):$[V]=this.translate(F,{...o,joinArrays:!1,ns:d}),$[V]===F&&($[V]=q[V])}v=$}}else if(k&&xe(O)&&Array.isArray(v))v=v.join(O),v&&(v=this.extendTranslation(v,e,o,i));else{let J=!1,$=!1;!this.isValidLookup(v)&&N&&(J=!0,v=z),this.isValidLookup(v)||($=!0,v=h);const V=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:v,F=N&&z!==v&&this.options.updateMissing;if($||J||F){if(this.logger.log(F?"updateKey":"missingKey",g,f,h,F?z:v),u){const M=this.resolve(h,{...o,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ie&&ie[0])for(let M=0;M<ie.length;M++)Z.push(ie[M]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(o.lng||this.language):Z.push(o.lng||this.language);const ae=(M,G,ee)=>{const re=N&&ee!==v?ee:V;this.options.missingKeyHandler?this.options.missingKeyHandler(M,f,G,re,F,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(M,f,G,re,F,o),this.emit("missingKey",M,f,G,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?Z.forEach(M=>{const G=this.pluralResolver.getSuffixes(M,o);R&&o[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(ee=>{ae([M],h+ee,o[`defaultValue${ee}`]||z)})}):ae(Z,h,z))}v=this.extendTranslation(v,e,o,x,i),$&&v===h&&this.options.appendNamespaceToMissingKey&&(v=`${f}${y}${h}`),($||J)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${y}${h}`:h,J?v:void 0,o))}return l?(x.res=v,x.usedParams=this.getUsedParamsDetails(o),x):v}extendTranslation(e,n,i,o,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=xe(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let y=i.replace&&!xe(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,i.lng||this.language||o.usedLng,i),d){const g=e.match(this.interpolator.nestingRegexp),_=g&&g.length;f<_&&(i.nest=!1)}!i.lng&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>l?.[0]===g[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,h=xe(u)?[u]:u;return e!=null&&h?.length&&i.applyPostProcessor!==!1&&(e=eb.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,o,l,u,h;return xe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(d,n),y=f.key;o=y;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const _=n.count!==void 0&&!xe(n.count),x=_&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(xe(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(C=>{this.isValidLookup(i)||(h=C,!jv[`${S[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(jv[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${o}" for languages "${S.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(w=>{if(this.isValidLookup(i))return;u=w;const O=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(O,y,w,C,n);else{let B;_&&(B=this.pluralResolver.getSuffix(w,n.count,n));const N=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(n.ordinal&&B.indexOf(j)===0&&O.push(y+B.replace(j,this.options.pluralSeparator)),O.push(y+B),x&&O.push(y+N)),v){const D=`${y}${this.options.contextSeparator||"_"}${n.context}`;O.push(D),_&&(n.ordinal&&B.indexOf(j)===0&&O.push(D+B.replace(j,this.options.pluralSeparator)),O.push(D+B),x&&O.push(D+N))}}let k;for(;k=O.pop();)this.isValidLookup(i)||(l=k,i=this.getResource(w,C,k,n))}))})}),{res:i,usedKey:o,exactUsedKey:l,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,o):this.resourceStore.getResource(e,n,i,o)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!xe(e.replace);let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const l of n)delete o[l]}return o}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}class Lv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ms.create("languageUtils")}getScriptPartFromCode(e){if(e=sl(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=sl(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(xe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const o=this.getScriptPartFromCode(i);if(this.isSupportedCode(o))return n=o;const l=this.getLanguagePartFromCode(i);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),xe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),o=[],l=u=>{u&&(this.isSupportedCode(u)?o.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return xe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):xe(e)&&l(this.formatLanguageCode(e)),i.forEach(u=>{o.indexOf(u)<0&&l(this.formatLanguageCode(u))}),o}}const zv={zero:0,one:1,two:2,few:3,many:4,other:5},Vv={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class UT{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ms.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const i=sl(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(i,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Vv;if(!e.match(/-|_/))return Vv;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,n)}return this.pluralRulesCache[l]=u,u}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(o=>`${n}${o}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((o,l)=>zv[o]-zv[l]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n,i={}){const o=this.getRule(e,i);return o?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}}const qv=(a,e,n,i=".",o=!0)=>{let l=kT(a,e,n);return!l&&o&&xe(n)&&(l=Qf(a,n,i),l===void 0&&(l=Qf(e,n,i))),l},Mf=a=>a.replace(/\$/g,"$$$$");class Bv{constructor(e={}){this.logger=Ms.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:o,prefix:l,prefixEscaped:u,suffix:h,suffixEscaped:d,formatSeparator:f,unescapeSuffix:y,unescapePrefix:g,nestingPrefix:_,nestingPrefixEscaped:x,nestingSuffix:v,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:w,alwaysFormat:O}=e.interpolation;this.escape=n!==void 0?n:RT,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?Cr(l):u||"{{",this.suffix=h?Cr(h):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=y?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=_?Cr(_):x||Cr("$t("),this.nestingSuffix=v?Cr(v):S||Cr(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=w||1e3,this.alwaysFormat=O!==void 0?O:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,o){let l,u,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=x=>{if(x.indexOf(this.formatSeparator)<0){const w=qv(n,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,i,{...o,...n,interpolationkey:x}):w}const v=x.split(this.formatSeparator),S=v.shift().trim(),C=v.join(this.formatSeparator).trim();return this.format(qv(n,d,S,this.options.keySeparator,this.options.ignoreJSONStructure),C,i,{...o,...n,interpolationkey:S})};this.resetRegExp();const y=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Mf(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Mf(this.escape(x)):Mf(x)}].forEach(x=>{for(h=0;l=x.regex.exec(e);){const v=l[1].trim();if(u=f(v),u===void 0)if(typeof y=="function"){const C=y(e,l,o);u=xe(C)?C:""}else if(o&&Object.prototype.hasOwnProperty.call(o,v))u="";else if(g){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),u="";else!xe(u)&&!this.useRawValueToEscape&&(u=Ov(u));const S=x.safeValue(u);if(e=e.replace(l[0],S),g?(x.regex.lastIndex+=u.length,x.regex.lastIndex-=l[0].length):x.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,i={}){let o,l,u;const h=(d,f)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const g=d.split(new RegExp(`${y}[ ]*{`));let _=`{${g[1]}`;d=g[0],_=this.interpolate(_,u);const x=_.match(/'/g),v=_.match(/"/g);((x?.length??0)%2===0&&!v||v.length%2!==0)&&(_=_.replace(/'/g,'"'));try{u=JSON.parse(_),f&&(u={...f,...u})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,S),`${d}${y}${_}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;o=this.nestingRegexp.exec(e);){let d=[];u={...i},u=u.replace&&!xe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const f=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(f!==-1&&(d=o[1].slice(f).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),o[1]=o[1].slice(0,f)),l=n(h.call(this,o[1].trim(),u),u),l&&o[0]===e&&!xe(l))return l;xe(l)||(l=Ov(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),l=""),d.length&&(l=d.reduce((y,g)=>this.format(y,g,i.lng,{...i,interpolationkey:o[1].trim()}),l.trim())),e=e.replace(o[0],l),this.regexp.lastIndex=0}return e}}const IT=a=>{let e=a.toLowerCase().trim();const n={};if(a.indexOf("(")>-1){const i=a.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(u=>{if(u){const[h,...d]=u.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=f),f==="false"&&(n[y]=!1),f==="true"&&(n[y]=!0),isNaN(f)||(n[y]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},Uv=a=>{const e={};return(n,i,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const u=i+JSON.stringify(l);let h=e[u];return h||(h=a(sl(i),o),e[u]=h),h(n)}},PT=a=>(e,n,i)=>a(sl(n),i)(e);class HT{constructor(e={}){this.logger=Ms.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?Uv:PT;this.formats={number:i((o,l)=>{const u=new Intl.NumberFormat(o,{...l});return h=>u.format(h)}),currency:i((o,l)=>{const u=new Intl.NumberFormat(o,{...l,style:"currency"});return h=>u.format(h)}),datetime:i((o,l)=>{const u=new Intl.DateTimeFormat(o,{...l});return h=>u.format(h)}),relativetime:i((o,l)=>{const u=new Intl.RelativeTimeFormat(o,{...l});return h=>u.format(h,l.range||"day")}),list:i((o,l)=>{const u=new Intl.ListFormat(o,{...l});return h=>u.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Uv(n)}format(e,n,i,o={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(h=>h.indexOf(")")>-1)){const h=l.findIndex(d=>d.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,h)].join(this.formatSeparator)}return l.reduce((h,d)=>{const{formatName:f,formatOptions:y}=IT(d);if(this.formats[f]){let g=h;try{const _=o?.formatParams?.[o.interpolationkey]||{},x=_.locale||_.lng||o.locale||o.lng||i;g=this.formats[f](h,x,{...y,...o,..._})}catch(_){this.logger.warn(_)}return g}else this.logger.warn(`there was no format function for ${f}`);return h},e)}}const FT=(a,e)=>{a.pending[e]!==void 0&&(delete a.pending[e],a.pendingCount--)};class GT extends ju{constructor(e,n,i,o={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=Ms.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,o.backend,o)}queueLoad(e,n,i,o){const l={},u={},h={},d={};return e.forEach(f=>{let y=!0;n.forEach(g=>{const _=`${f}|${g}`;!i.reload&&this.store.hasResourceBundle(f,g)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?u[_]===void 0&&(u[_]=!0):(this.state[_]=1,y=!1,u[_]===void 0&&(u[_]=!0),l[_]===void 0&&(l[_]=!0),d[g]===void 0&&(d[g]=!0)))}),y||(h[f]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(e,n,i){const o=e.split("|"),l=o[0],u=o[1];n&&this.emit("failedLoading",l,u,n),!n&&i&&this.store.addResourceBundle(l,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const h={};this.queue.forEach(d=>{MT(d.loaded,[l],u),FT(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{h[f]||(h[f]={});const y=d.loaded[f];y.length&&y.forEach(g=>{h[f][g]===void 0&&(h[f][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(e,n,i,o=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:o,wait:l,callback:u});return}this.readingCalls++;const h=(f,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&y&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,o+1,l*2,u)},l);return}u(f,y)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const f=d(e,n);f&&typeof f.then=="function"?f.then(y=>h(null,y)).catch(h):h(null,f)}catch(f){h(f)}return}return d(e,n,h)}prepareLoading(e,n,i={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();xe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),xe(n)&&(n=[n]);const l=this.queueLoad(e,n,i,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){const i=e.split("|"),o=i[0],l=i[1];this.read(o,l,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${l} for language ${o} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${l} for language ${o}`,h),this.loaded(e,u,h)})}saveMissing(e,n,i,o,l,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...u,isUpdate:l},f=this.backend.create.bind(this.backend);if(f.length<6)try{let y;f.length===5?y=f(e,n,i,o,d):y=f(e,n,i,o),y&&typeof y.then=="function"?y.then(g=>h(null,g)).catch(h):h(null,y)}catch(y){h(y)}else f(e,n,i,o,h,d)}!e||!e[0]||this.store.addResource(e[0],n,i,o)}}}const Iv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let e={};if(typeof a[1]=="object"&&(e=a[1]),xe(a[1])&&(e.defaultValue=a[1]),xe(a[2])&&(e.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const n=a[3]||a[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Pv=a=>(xe(a.ns)&&(a.ns=[a.ns]),xe(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),xe(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a),Xc=()=>{},$T=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(n=>{typeof a[n]=="function"&&(a[n]=a[n].bind(a))})};class Jo extends ju{constructor(e={},n){if(super(),this.options=Pv(e),this.services={},this.logger=Ms,this.modules={external:[]},$T(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(xe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=Iv();this.options={...i,...this.options,...Pv(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const o=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Ms.init(o(this.modules.logger),this.options):Ms.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=HT;const y=new Lv(this.options);this.store=new Rv(this.options.resources,this.options);const g=this.services;g.logger=Ms,g.resourceStore=this.store,g.languageUtils=y,g.pluralResolver=new UT(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=o(f),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Bv(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new GT(o(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(x,...v)=>{this.emit(x,...v)}),this.modules.languageDetector&&(g.languageDetector=o(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=o(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new cu(this.services,this.options),this.translator.on("*",(x,...v)=>{this.emit(x,...v)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Xc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...y)=>this.store[f](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...y)=>(this.store[f](...y),this)});const h=Go(),d=()=>{const f=(y,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(g),n(y,g)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),h}loadResources(e,n=Xc){let i=n;const o=xe(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};o?u(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(e,n,i){const o=Go();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Xc),this.services.backendConnector.reload(e,n,l=>{o.resolve(),i(l)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eb.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const i=Go();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},l=(h,d)=>{d?this.isLanguageChangingTo===e&&(o(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...f)=>this.t(...f)),n&&n(h,(...f)=>this.t(...f))},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const d=xe(h)?h:h&&h[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(xe(h)?[h]:h);f&&(this.language||o(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,y=>{l(y,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,n,i){const o=(l,u,...h)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([l,u].concat(h)):d={...u},d.lng=d.lng||o.lng,d.lngs=d.lngs||o.lngs,d.ns=d.ns||o.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||o.keyPrefix);const f=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(l)?y=l.map(g=>(typeof g=="function"&&(g=Zf(g,{...this.options,...u})),`${d.keyPrefix}${f}${g}`)):(typeof l=="function"&&(l=Zf(l,{...this.options,...u})),y=d.keyPrefix?`${d.keyPrefix}${f}${l}`:l),this.t(y,d)};return xe(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=i,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(h,d)=>{const f=this.services.backendConnector.state[`${h}|${d}`];return f===-1||f===0||f===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!o||u(l,e)))}loadNamespaces(e,n){const i=Go();return this.options.ns?(xe(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),n&&n(o)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Go();xe(e)&&(e=[e]);const o=this.options.preload||[],l=e.filter(u=>o.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=o.concat(l),this.loadResources(u=>{i.resolve(),n&&n(u)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Lv(Iv());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const i=new Jo(e,n);return i.createInstance=Jo.createInstance,i}cloneInstance(e={},n=Xc){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},l=new Jo(o);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(h=>{l[h]=this[h]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const h=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((y,g)=>(y[g]={...d[f][g]},y),d[f]),d),{});l.store=new Rv(h,o),l.services.resourceStore=l.store}return e.interpolation&&(l.services.interpolator=new Bv(o)),l.translator=new cu(l.services,o),l.translator.on("*",(h,...d)=>{l.emit(h,...d)}),l.init(o,n),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fn=Jo.createInstance();fn.createInstance;fn.dir;fn.init;fn.loadResources;fn.reloadResources;fn.use;fn.changeLanguage;fn.getFixedT;fn.t;fn.exists;fn.setDefaultNamespace;fn.hasLoadedNamespace;fn.loadNamespaces;fn.loadLanguages;const YT=(a,e,n,i)=>{const o=[n,{code:e,...i||{}}];if(a?.services?.logger?.forward)return a.services.logger.forward(o,"warn","react-i18next::",!0);Ea(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),a?.services?.logger?.warn?a.services.logger.warn(...o):console?.warn&&console.warn(...o)},Hv={},nb=(a,e,n,i)=>{Ea(n)&&Hv[n]||(Ea(n)&&(Hv[n]=new Date),YT(a,e,n,i))},sb=(a,e)=>()=>{if(a.isInitialized)e();else{const n=()=>{setTimeout(()=>{a.off("initialized",n)},0),e()};a.on("initialized",n)}},Kf=(a,e,n)=>{a.loadNamespaces(e,sb(a,n))},Fv=(a,e,n,i)=>{if(Ea(n)&&(n=[n]),a.options.preload&&a.options.preload.indexOf(e)>-1)return Kf(a,n,i);n.forEach(o=>{a.options.ns.indexOf(o)<0&&a.options.ns.push(o)}),a.loadLanguages(e,sb(a,i))},XT=(a,e,n={})=>!e.languages||!e.languages.length?(nb(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(a,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,a))return!1}}),Ea=a=>typeof a=="string",WT=a=>typeof a=="object"&&a!==null,QT=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ZT={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},KT=a=>ZT[a],JT=a=>a.replace(QT,KT);let Jf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:JT,transDefaultProps:void 0};const eC=(a={})=>{Jf={...Jf,...a}},tC=()=>Jf;let ib;const nC=a=>{ib=a},sC=()=>ib,iC={type:"3rdParty",init(a){eC(a.options.react),nC(a)}},aC=A.createContext();class rC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var kf={exports:{}},Df={};var Gv;function oC(){if(Gv)return Df;Gv=1;var a=Ru();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var n=typeof Object.is=="function"?Object.is:e,i=a.useState,o=a.useEffect,l=a.useLayoutEffect,u=a.useDebugValue;function h(g,_){var x=_(),v=i({inst:{value:x,getSnapshot:_}}),S=v[0].inst,C=v[1];return l(function(){S.value=x,S.getSnapshot=_,d(S)&&C({inst:S})},[g,x,_]),o(function(){return d(S)&&C({inst:S}),g(function(){d(S)&&C({inst:S})})},[g]),u(x),x}function d(g){var _=g.getSnapshot;g=g.value;try{var x=_();return!n(g,x)}catch{return!0}}function f(g,_){return _()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:h;return Df.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:y,Df}var $v;function lC(){return $v||($v=1,kf.exports=oC()),kf.exports}var cC=lC();const uC=(a,e)=>Ea(e)?e:WT(e)&&Ea(e.defaultValue)?e.defaultValue:Array.isArray(a)?a[a.length-1]:a,hC={t:uC,ready:!1},dC=()=>()=>{},bp=(a,e={})=>{const{i18n:n}=e,{i18n:i,defaultNS:o}=A.useContext(aC)||{},l=n||i||sC();l&&!l.reportNamespaces&&(l.reportNamespaces=new rC),l||nb(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=A.useMemo(()=>({...tC(),...l?.options?.react,...e}),[l,e]),{useSuspense:h,keyPrefix:d}=u,f=o||l?.options?.defaultNS,y=Ea(f)?[f]:f||["translation"],g=A.useMemo(()=>y,y);l?.reportNamespaces?.addUsedNamespaces?.(g);const _=A.useRef(0),x=A.useCallback(z=>{if(!l)return dC;const{bindI18n:q,bindI18nStore:I}=u,P=()=>{_.current+=1,z()};return q&&l.on(q,P),I&&l.store.on(I,P),()=>{q&&q.split(" ").forEach(J=>l.off(J,P)),I&&I.split(" ").forEach(J=>l.store.off(J,P))}},[l,u]),v=A.useRef(),S=A.useCallback(()=>{if(!l)return hC;const z=!!(l.isInitialized||l.initializedStoreOnce)&&g.every(se=>XT(se,l,u)),q=e.lng||l.language,I=_.current,P=v.current;if(P&&P.ready===z&&P.lng===q&&P.keyPrefix===d&&P.revision===I)return P;const $={t:l.getFixedT(q,u.nsMode==="fallback"?g:g[0],d),ready:z,lng:q,keyPrefix:d,revision:I};return v.current=$,$},[l,g,d,u,e.lng]),[C,w]=A.useState(0),{t:O,ready:k}=cC.useSyncExternalStore(x,S,S);A.useEffect(()=>{if(l&&!k&&!h){const z=()=>w(q=>q+1);e.lng?Fv(l,e.lng,g,z):Kf(l,g,z)}},[l,e.lng,g,k,h,C]);const B=l||{},N=A.useRef(null),j=A.useRef(),D=z=>{const q=Object.getOwnPropertyDescriptors(z);q.__original&&delete q.__original;const I=Object.create(Object.getPrototypeOf(z),q);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:z,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},R=A.useMemo(()=>{const z=B,q=z?.language;let I=z;z&&(N.current&&N.current.__original===z?j.current!==q?(I=D(z),N.current=I,j.current=q):I=N.current:(I=D(z),N.current=I,j.current=q));const P=[O,I,k];return P.t=O,P.i18n=I,P.ready=k,P},[O,B,k,B.resolvedLanguage,B.language,B.languages]);if(l&&h&&!k)throw new Promise(z=>{const q=()=>z();e.lng?Fv(l,e.lng,g,q):Kf(l,g,q)});return R},{slice:fC,forEach:pC}=[];function mC(a){return pC.call(fC.call(arguments,1),e=>{if(e)for(const n in e)a[n]===void 0&&(a[n]=e[n])}),a}function gC(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(a))}const Yv=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,yC=function(a,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let l=`${a}=${o}`;if(i.maxAge>0){const u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(i.domain){if(!Yv.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!Yv.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},Xv={create(a,e,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),i&&(o.domain=i),document.cookie=yC(a,e,o)},read(a){const e=`${a}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let o=n[i];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(a,e){this.create(a,"",-1,e)}};var vC={name:"cookie",lookup(a){let{lookupCookie:e}=a;if(e&&typeof document<"u")return Xv.read(e)||void 0},cacheUserLanguage(a,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:o,cookieOptions:l}=e;n&&typeof document<"u"&&Xv.create(n,a,i,o,l)}},_C={name:"querystring",lookup(a){let{lookupQuerystring:e}=a,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let u=0;u<l.length;u++){const h=l[u].indexOf("=");h>0&&l[u].substring(0,h)===e&&(n=l[u].substring(h+1))}}return n}},bC={name:"hash",lookup(a){let{lookupHash:e,lookupFromHashIndex:n}=a,i;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const l=o.substring(1);if(e){const u=l.split("&");for(let h=0;h<u.length;h++){const d=u[h].indexOf("=");d>0&&u[h].substring(0,d)===e&&(i=u[h].substring(d+1))}}if(i)return i;if(!i&&n>-1){const u=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?u[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let wr=null;const Wv=()=>{if(wr!==null)return wr;try{if(wr=typeof window<"u"&&window.localStorage!==null,!wr)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{wr=!1}return wr};var SC={name:"localStorage",lookup(a){let{lookupLocalStorage:e}=a;if(e&&Wv())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupLocalStorage:n}=e;n&&Wv()&&window.localStorage.setItem(n,a)}};let Er=null;const Qv=()=>{if(Er!==null)return Er;try{if(Er=typeof window<"u"&&window.sessionStorage!==null,!Er)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{Er=!1}return Er};var xC={name:"sessionStorage",lookup(a){let{lookupSessionStorage:e}=a;if(e&&Qv())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupSessionStorage:n}=e;n&&Qv()&&window.sessionStorage.setItem(n,a)}},TC={name:"navigator",lookup(a){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:o}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),o&&e.push(o)}return e.length>0?e:void 0}},CC={name:"htmlTag",lookup(a){let{htmlTag:e}=a,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},wC={name:"path",lookup(a){let{lookupFromPathIndex:e}=a;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},EC={name:"subdomain",lookup(a){let{lookupFromSubdomainIndex:e}=a;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let ab=!1;try{document.cookie,ab=!0}catch{}const rb=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ab||rb.splice(1,1);const AC=()=>({order:rb,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class ob{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=mC(n,this.options||{},AC()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(vC),this.addDetector(_C),this.addDetector(SC),this.addDetector(xC),this.addDetector(TC),this.addDetector(CC),this.addDetector(wC),this.addDetector(EC),this.addDetector(bC)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let o=this.detectors[i].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(i=>i!=null&&!gC(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}ob.type="languageDetector";const NC={subtitle:"Your Cloud Music Studio",enter:"ENTER STUDIO",features:{sequencer:"Sequencer",mixer:"Mixer",cloud:"Cloud"},session:{label:"SESSION",guest:"GUEST",status_label:"STATUS",disconnected:"DISCONNECTED"}},OC={login:"Login",logout:"Logout",save_tooltip:"Save Project (Auth Required)",load_tooltip:"Load Project (Auth Required)",cloud:"CLOUD",local:"LOCAL",mix:{juicy:"Juicy",synth:"Synth",main:"Main",mute:"Mute Master",unmute:"Unmute Master"},modals:{save_title:"Create New Project",project_name:"Project Name",create_btn:"Create Project",load_title:"Open Project",no_projects:"No projects found.",confirm_new_title:"Reset Studio?"},notifications:{save_auth:"Cloud Save requires Login",load_auth:"Cloud Load requires Login",saved:"Version {{version}} Saved!",created:'Project "{{name}}" Created!',loaded:'Loaded "{{name}}" (v{{version}})',new_confirm:"Are you sure? Unsaved changes will be lost.",new_success:"Studio Reset!",wip:"Feature coming soon!"},menu:{project:"Project",new:"New Project",open:"Open...",save:"Save",export_wav:"Export WAV",help:"Help",docs:"Documentation",github:"GitHub",about:"About"}},MC={register_title:"JOIN CREW",login_title:"STUDIO ACCESS",register_subtitle:"Create your producer profile",login_subtitle:"Enter your credentials",fields:{username:"USERNAME",username_placeholder:"Producer Name",email:"EMAIL",email_placeholder:"producer@studio.com",password:"PASSWORD",password_placeholder:""},submit:{register:"INITIALIZE SYSTEM",login:"CONNECT"},switch:{has_account:"Already in the crew?",no_account:"New here?",go_login:"Login",go_register:"Create Account"},errors:{generic:"An error occurred.",credentials:"Invalid credentials or Network error"}},kC={title:"AI Composer",placeholder:"Describe your melody... (e.g. 'Dark Techno Bass')",generate:"Generate",generated:" Melody Generated!",audition:"You can audition it now.",rating_label:"So? Happy?",thanks:"Thanks! Come back soon! ",retry:"New Generation"},DC={library:"Library"},RC={hero:NC,topbar:OC,auth:MC,ai_composer:kC,timeline:DC},jC={subtitle:"Votre Studio Musical Cloud",enter:"ENTRER STUDIO",features:{sequencer:"Squenceur",mixer:"Mixeur",cloud:"Cloud"},session:{label:"SESSION",guest:"INVIT",status_label:"STATUT",disconnected:"DCONNECT"}},LC={login:"Connexion",logout:"Dconnexion",save_tooltip:"Sauvegarder (Connexion Requise)",load_tooltip:"Charger (Connexion Requise)",cloud:"CLOUD",local:"LOCAL",mix:{juicy:"Juicy",synth:"Synth",main:"Main",mute:"Mute Master",unmute:"Unmute Master"},modals:{save_title:"Crer Nouveau Projet",project_name:"Nom du Projet",create_btn:"Crer Projet",load_title:"Ouvrir un Projet",no_projects:"Aucun projet trouv.",confirm_new_title:"Rinitialiser le Studio ?"},notifications:{save_auth:"Connexion requise pour sauvegarder",load_auth:"Connexion requise pour charger",saved:"Version {{version}} Sauvegarde !",created:'Projet "{{name}}" Cr !',loaded:'Charg "{{name}}" (v{{version}})',new_confirm:"tes-vous sr ? Les modifications non sauvegardes seront perdues.",new_success:"Studio Rinitialis !",wip:"Fonctionnalit bientt disponible !"},menu:{project:"Projet",new:"Nouveau Projet",open:"Ouvrir...",save:"Sauvegarder",export_wav:"Exporter WAV",help:"Aide",docs:"Documentation",github:"GitHub",about:" propos"}},zC={register_title:"REJOINDRE L'QUIPE",login_title:"ACCS STUDIO",register_subtitle:"Crez votre profil producteur",login_subtitle:"Entrez vos identifiants",fields:{username:"NOM D'UTILISATEUR",username_placeholder:"Nom de Producteur",email:"EMAIL",email_placeholder:"producteur@studio.com",password:"MOT DE PASSE",password_placeholder:""},submit:{register:"INITIALISER LE SYSTME",login:"CONNECTER"},switch:{has_account:"Dj dans l'quipe ?",no_account:"Nouveau ici ?",go_login:"Connexion",go_register:"Crer un Compte"},errors:{generic:"Une erreur est survenue.",credentials:"Identifiants invalides ou erreur rseau"}},VC={title:"Compositeur IA",placeholder:"Dcrivez votre mlodie... (ex: 'Basse Techno Dark')",generate:"Gnrer",generated:" Mlodie Gnre !",audition:"Vous pouvez l'couter maintenant.",rating_label:"Alors ? Heureux(se) ?",thanks:"Merci ! Revenez nous voir ! ",retry:"Nouvelle Gnration"},qC={library:"Bibliothque"},BC={hero:jC,topbar:LC,auth:zC,ai_composer:VC,timeline:qC};console.log("i18n-setup loaded - SANITY CHECK");fn.use(ob).use(iC).init({debug:!0,resources:{en:{translation:RC},fr:{translation:BC}},fallbackLng:"fr",react:{useSuspense:!1},interpolation:{escapeValue:!1}});var Zv="popstate";function UC(a={}){function e(i,o){let{pathname:l,search:u,hash:h}=i.location;return ep("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:il(o)}return PC(e,n,null,a)}function ft(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function rs(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IC(){return Math.random().toString(36).substring(2,10)}function Kv(a,e){return{usr:a.state,key:a.key,idx:e}}function ep(a,e,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ur(e):e,state:n,key:e&&e.key||i||IC()}}function il({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Ur(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function PC(a,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,h="POP",d=null,f=y();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function y(){return(u.state||{idx:null}).idx}function g(){h="POP";let C=y(),w=C==null?null:C-f;f=C,d&&d({action:h,location:S.location,delta:w})}function _(C,w){h="PUSH";let O=ep(S.location,C,w);f=y()+1;let k=Kv(O,f),B=S.createHref(O);try{u.pushState(k,"",B)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(B)}l&&d&&d({action:h,location:S.location,delta:1})}function x(C,w){h="REPLACE";let O=ep(S.location,C,w);f=y();let k=Kv(O,f),B=S.createHref(O);u.replaceState(k,"",B),l&&d&&d({action:h,location:S.location,delta:0})}function v(C){return HC(C)}let S={get action(){return h},get location(){return a(o,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,g),d=C,()=>{o.removeEventListener(Zv,g),d=null}},createHref(C){return e(o,C)},createURL:v,encodeLocation(C){let w=v(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:x,go(C){return u.go(C)}};return S}function HC(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:il(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function lb(a,e,n="/"){return FC(a,e,n,!1)}function FC(a,e,n,i){let o=typeof e=="string"?Ur(e):e,l=di(o.pathname||"/",n);if(l==null)return null;let u=cb(a);GC(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=nw(l);h=ew(u[d],f,i)}return h}function cb(a,e=[],n=[],i="",o=!1){let l=(u,h,d=o,f)=>{let y={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;ft(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let g=ui([i,y.relativePath]),_=n.concat(y);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cb(u.children,e,_,g,d)),!(u.path==null&&!u.index)&&e.push({path:g,score:KC(g,u.index),routesMeta:_})};return a.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of ub(u.path))l(u,h,!0,d)}),e}function ub(a){let e=a.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=ub(i.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&h.push(...u),h.map(d=>a.startsWith("/")&&d===""?"/":d)}function GC(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:JC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $C=/^:[\w-]+$/,YC=3,XC=2,WC=1,QC=10,ZC=-2,Jv=a=>a==="*";function KC(a,e){let n=a.split("/"),i=n.length;return n.some(Jv)&&(i+=ZC),e&&(i+=XC),n.filter(o=>!Jv(o)).reduce((o,l)=>o+($C.test(l)?YC:l===""?WC:QC),i)}function JC(a,e){return a.length===e.length&&a.slice(0,-1).every((i,o)=>i===e[o])?a[a.length-1]-e[e.length-1]:0}function ew(a,e,n=!1){let{routesMeta:i}=a,o={},l="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],f=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",g=uu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},y),_=d.route;if(!g&&f&&n&&!i[i.length-1].route.index&&(g=uu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:ui([l,g.pathname]),pathnameBase:ow(ui([l,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(l=ui([l,g.pathnameBase]))}return u}function uu(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=tw(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((f,{paramName:y,isOptional:g},_)=>{if(y==="*"){let v=h[_]||"";u=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const x=h[_];return g&&!x?f[y]=void 0:f[y]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:a}}function tw(a,e=!1,n=!0){rs(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function nw(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function di(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iw=a=>sw.test(a);function aw(a,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof a=="string"?Ur(a):a,l;if(n)if(iw(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),rs(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=e_(n.substring(1),"/"):l=e_(n,e)}else l=e;return{pathname:l,search:lw(i),hash:cw(o)}}function e_(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rf(a,e,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rw(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sp(a){let e=rw(a);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function xp(a,e,n,i=!1){let o;typeof a=="string"?o=Ur(a):(o={...a},ft(!o.pathname||!o.pathname.includes("?"),Rf("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Rf("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Rf("#","search","hash",o)));let l=a===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),g-=1;o.pathname=_.join("/")}h=g>=0?e[g]:"/"}let d=aw(o,h),f=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||y)&&(d.pathname+="/"),d}var ui=a=>a.join("/").replace(/\/\/+/g,"/"),ow=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,cw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function uw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function hw(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hb=["POST","PUT","PATCH","DELETE"];new Set(hb);var dw=["GET",...hb];new Set(dw);var Ir=A.createContext(null);Ir.displayName="DataRouter";var Lu=A.createContext(null);Lu.displayName="DataRouterState";A.createContext(!1);var db=A.createContext({isTransitioning:!1});db.displayName="ViewTransition";var fw=A.createContext(new Map);fw.displayName="Fetchers";var pw=A.createContext(null);pw.displayName="Await";var os=A.createContext(null);os.displayName="Navigation";var dl=A.createContext(null);dl.displayName="Location";var bs=A.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var Tp=A.createContext(null);Tp.displayName="RouteError";function mw(a,{relative:e}={}){ft(Pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=A.useContext(os),{hash:o,pathname:l,search:u}=fl(a,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:ui([n,l])),i.createHref({pathname:h,search:u,hash:o})}function Pr(){return A.useContext(dl)!=null}function pi(){return ft(Pr(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(dl).location}var fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pb(a){A.useContext(os).static||A.useLayoutEffect(a)}function Cp(){let{isDataRoute:a}=A.useContext(bs);return a?Mw():gw()}function gw(){ft(Pr(),"useNavigate() may be used only in the context of a <Router> component.");let a=A.useContext(Ir),{basename:e,navigator:n}=A.useContext(os),{matches:i}=A.useContext(bs),{pathname:o}=pi(),l=JSON.stringify(Sp(i)),u=A.useRef(!1);return pb(()=>{u.current=!0}),A.useCallback((d,f={})=>{if(rs(u.current,fb),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=xp(d,JSON.parse(l),o,f.relative==="path");a==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ui([e,y.pathname])),(f.replace?n.replace:n.push)(y,f.state,f)},[e,n,l,o,a])}var yw=A.createContext(null);function vw(a){let e=A.useContext(bs).outlet;return A.useMemo(()=>e&&A.createElement(yw.Provider,{value:a},e),[e,a])}function fl(a,{relative:e}={}){let{matches:n}=A.useContext(bs),{pathname:i}=pi(),o=JSON.stringify(Sp(n));return A.useMemo(()=>xp(a,JSON.parse(o),i,e==="path"),[a,o,i,e])}function _w(a,e){return mb(a,e)}function mb(a,e,n,i,o){ft(Pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(os),{matches:u}=A.useContext(bs),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",y=h?h.pathnameBase:"/",g=h&&h.route;{let O=g&&g.path||"";gb(f,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=pi(),x;if(e){let O=typeof e=="string"?Ur(e):e;ft(y==="/"||O.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=_;let v=x.pathname||"/",S=v;if(y!=="/"){let O=y.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=lb(a,{pathname:S});rs(g||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),rs(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Cw(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:ui([y,l.encodeLocation?l.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:ui([y,l.encodeLocation?l.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,i,o);return e&&w?A.createElement(dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},w):w}function bw(){let a=Ow(),e=uw(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:o},n):null,u)}var Sw=A.createElement(bw,null),xw=class extends A.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?A.createElement(bs.Provider,{value:this.props.routeContext},A.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tw({routeContext:a,match:e,children:n}){let i=A.useContext(Ir);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(bs.Provider,{value:a},n)}function Cw(a,e=[],n=null,i=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let l=a,u=n?.errors;if(u!=null){let y=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ft(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=y),g.route.id){let{loaderData:_,errors:x}=n,v=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||v){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let f=n&&i?(y,g)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:hw(n.matches),errorInfo:g})}:void 0;return l.reduceRight((y,g,_)=>{let x,v=!1,S=null,C=null;n&&(x=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||Sw,h&&(d<0&&_===0?(gb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):d===_&&(v=!0,C=g.route.hydrateFallbackElement||null)));let w=e.concat(l.slice(0,_+1)),O=()=>{let k;return x?k=S:v?k=C:g.route.Component?k=A.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=y,A.createElement(Tw,{match:g,routeContext:{outlet:y,matches:w,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?A.createElement(xw,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:O(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:f}):O()},null)}function wp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(a){let e=A.useContext(Ir);return ft(e,wp(a)),e}function Ew(a){let e=A.useContext(Lu);return ft(e,wp(a)),e}function Aw(a){let e=A.useContext(bs);return ft(e,wp(a)),e}function Ep(a){let e=Aw(a),n=e.matches[e.matches.length-1];return ft(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function Nw(){return Ep("useRouteId")}function Ow(){let a=A.useContext(Tp),e=Ew("useRouteError"),n=Ep("useRouteError");return a!==void 0?a:e.errors?.[n]}function Mw(){let{router:a}=ww("useNavigate"),e=Ep("useNavigate"),n=A.useRef(!1);return pb(()=>{n.current=!0}),A.useCallback(async(o,l={})=>{rs(n.current,fb),n.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...l}))},[a,e])}var t_={};function gb(a,e,n){!e&&!t_[a]&&(t_[a]=!0,rs(!1,n))}A.memo(kw);function kw({routes:a,future:e,state:n,unstable_onError:i}){return mb(a,void 0,n,i,e)}function jf({to:a,replace:e,state:n,relative:i}){ft(Pr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(os);rs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(bs),{pathname:u}=pi(),h=Cp(),d=xp(a,Sp(l),u,i==="path"),f=JSON.stringify(d);return A.useEffect(()=>{h(JSON.parse(f),{replace:e,state:n,relative:i})},[h,f,i,e,n]),null}function Dw(a){return vw(a.context)}function Fi(a){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rw({basename:a="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){ft(!Pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:h,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[h,o,l,u]);typeof n=="string"&&(n=Ur(n));let{pathname:f="/",search:y="",hash:g="",state:_=null,key:x="default"}=n,v=A.useMemo(()=>{let S=di(f,h);return S==null?null:{location:{pathname:S,search:y,hash:g,state:_,key:x},navigationType:i}},[h,f,y,g,_,x,i]);return rs(v!=null,`<Router basename="${h}"> is not able to match the URL "${f}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(os.Provider,{value:d},A.createElement(dl.Provider,{children:e,value:v}))}function jw({children:a,location:e}){return _w(tp(a),e)}function tp(a,e=[]){let n=[];return A.Children.forEach(a,(i,o)=>{if(!A.isValidElement(i))return;let l=[...e,o];if(i.type===A.Fragment){n.push.apply(n,tp(i.props.children,l));return}ft(i.type===Fi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=tp(i.props.children,l)),n.push(u)}),n}var tu="get",nu="application/x-www-form-urlencoded";function zu(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function Lw(a){return zu(a)&&a.tagName.toLowerCase()==="button"}function zw(a){return zu(a)&&a.tagName.toLowerCase()==="form"}function Vw(a){return zu(a)&&a.tagName.toLowerCase()==="input"}function qw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Bw(a,e){return a.button===0&&(!e||e==="_self")&&!qw(a)}var Wc=null;function Uw(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lf(a){return a!=null&&!Iw.has(a)?(rs(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):a}function Pw(a,e){let n,i,o,l,u;if(zw(a)){let h=a.getAttribute("action");i=h?di(h,e):null,n=a.getAttribute("method")||tu,o=Lf(a.getAttribute("enctype"))||nu,l=new FormData(a)}else if(Lw(a)||Vw(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||h.getAttribute("action");if(i=d?di(d,e):null,n=a.getAttribute("formmethod")||h.getAttribute("method")||tu,o=Lf(a.getAttribute("formenctype"))||Lf(h.getAttribute("enctype"))||nu,l=new FormData(h,a),!Uw()){let{name:f,type:y,value:g}=a;if(y==="image"){let _=f?`${f}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else f&&l.append(f,g)}}else{if(zu(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,i=null,o=nu,u=a}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Hw(a,e,n){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&di(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Fw(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function $w(a,e,n){let i=await Promise.all(a.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await Fw(l,n);return u.links?u.links():[]}return[]}));return Qw(i.flat(1).filter(Gw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n_(a,e,n,i,o,l){let u=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,h=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):l==="data"?e.filter((d,f)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Yw(a,e,{includeHydrateFallback:n}={}){return Xw(a.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Xw(a){return[...new Set(a)]}function Ww(a){let e={},n=Object.keys(a).sort();for(let i of n)e[i]=a[i];return e}function Qw(a,e){let n=new Set;return new Set(e),a.reduce((i,o)=>{let l=JSON.stringify(Ww(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function yb(){let a=A.useContext(Ir);return Ap(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Zw(){let a=A.useContext(Lu);return Ap(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Np=A.createContext(void 0);Np.displayName="FrameworkContext";function vb(){let a=A.useContext(Np);return Ap(a,"You must render this element inside a <HydratedRouter> element"),a}function Kw(a,e){let n=A.useContext(Np),[i,o]=A.useState(!1),[l,u]=A.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:y,onTouchStart:g}=e,_=A.useRef(null);A.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let S=w=>{w.forEach(O=>{u(O.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[a]),A.useEffect(()=>{if(i){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[i]);let x=()=>{o(!0)},v=()=>{o(!1),u(!1)};return n?a!=="intent"?[l,_,{}]:[l,_,{onFocus:$o(h,x),onBlur:$o(d,v),onMouseEnter:$o(f,x),onMouseLeave:$o(y,v),onTouchStart:$o(g,x)}]:[!1,_,{}]}function $o(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function Jw({page:a,...e}){let{router:n}=yb(),i=A.useMemo(()=>lb(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?A.createElement(t2,{page:a,matches:i,...e}):null}function e2(a){let{manifest:e,routeModules:n}=vb(),[i,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return $w(a,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[a,e,n]),i}function t2({page:a,matches:e,...n}){let i=pi(),{manifest:o,routeModules:l}=vb(),{basename:u}=yb(),{loaderData:h,matches:d}=Zw(),f=A.useMemo(()=>n_(a,e,d,o,i,"data"),[a,e,d,o,i]),y=A.useMemo(()=>n_(a,e,d,o,i,"assets"),[a,e,d,o,i]),g=A.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let v=new Set,S=!1;if(e.forEach(w=>{let O=o.routes[w.route.id];!O||!O.hasLoader||(!f.some(k=>k.route.id===w.route.id)&&w.route.id in h&&l[w.route.id]?.shouldRevalidate||O.hasClientLoader?S=!0:v.add(w.route.id))}),v.size===0)return[];let C=Hw(a,u,"data");return S&&v.size>0&&C.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[u,h,i,o,f,e,a,l]),_=A.useMemo(()=>Yw(y,o),[y,o]),x=e2(y);return A.createElement(A.Fragment,null,g.map(v=>A.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),_.map(v=>A.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:S})=>A.createElement("link",{key:v,nonce:n.nonce,...S})))}function n2(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_b&&(window.__reactRouterVersion="7.10.1")}catch{}function s2({basename:a,children:e,unstable_useTransitions:n,window:i}){let o=A.useRef();o.current==null&&(o.current=UC({window:i,v5Compat:!0}));let l=o.current,[u,h]=A.useState({action:l.action,location:l.location}),d=A.useCallback(f=>{n===!1?h(f):A.startTransition(()=>h(f))},[n]);return A.useLayoutEffect(()=>l.listen(d),[l,d]),A.createElement(Rw,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n===!0})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sb=A.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:h,target:d,to:f,preventScrollReset:y,viewTransition:g,..._},x){let{basename:v,unstable_useTransitions:S}=A.useContext(os),C=typeof f=="string"&&bb.test(f),w,O=!1;if(typeof f=="string"&&C&&(w=f,_b))try{let q=new URL(window.location.href),I=f.startsWith("//")?new URL(q.protocol+f):new URL(f),P=di(I.pathname,v);I.origin===q.origin&&P!=null?f=P+I.search+I.hash:O=!0}catch{rs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=mw(f,{relative:o}),[B,N,j]=Kw(i,_),D=o2(f,{replace:u,state:h,target:d,preventScrollReset:y,relative:o,viewTransition:g,unstable_useTransitions:S});function R(q){e&&e(q),q.defaultPrevented||D(q)}let z=A.createElement("a",{..._,...j,href:w||k,onClick:O||l?e:R,ref:n2(x,N),target:d,"data-discover":!C&&n==="render"?"true":void 0});return B&&!C?A.createElement(A.Fragment,null,z,A.createElement(Jw,{page:k})):z});Sb.displayName="Link";var i2=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:h,children:d,...f},y){let g=fl(u,{relative:f.relative}),_=pi(),x=A.useContext(Lu),{navigator:v,basename:S}=A.useContext(os),C=x!=null&&d2(g)&&h===!0,w=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,O=_.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(O=O.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&S&&(k=di(k,S)||k);const B=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=O===w||!o&&O.startsWith(w)&&O.charAt(B)==="/",j=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),D={isActive:N,isPending:j,isTransitioning:C},R=N?e:void 0,z;typeof i=="function"?z=i(D):z=[i,N?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(D):l;return A.createElement(Sb,{...f,"aria-current":R,className:z,ref:y,style:q,to:u,viewTransition:h},typeof d=="function"?d(D):d)});i2.displayName="NavLink";var a2=A.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=tu,action:h,onSubmit:d,relative:f,preventScrollReset:y,viewTransition:g,..._},x)=>{let{unstable_useTransitions:v}=A.useContext(os),S=u2(),C=h2(h,{relative:f}),w=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&bb.test(h),k=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let N=B.nativeEvent.submitter,j=N?.getAttribute("formmethod")||u,D=()=>S(N||B.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:l,relative:f,preventScrollReset:y,viewTransition:g});v&&n!==!1?A.startTransition(()=>D()):D()};return A.createElement("form",{ref:x,method:w,action:C,onSubmit:i?d:k,..._,"data-discover":!O&&a==="render"?"true":void 0})});a2.displayName="Form";function r2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(a){let e=A.useContext(Ir);return ft(e,r2(a)),e}function o2(a,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_useTransitions:h}={}){let d=Cp(),f=pi(),y=fl(a,{relative:l});return A.useCallback(g=>{if(Bw(g,e)){g.preventDefault();let _=n!==void 0?n:il(f)===il(y),x=()=>d(a,{replace:_,state:i,preventScrollReset:o,relative:l,viewTransition:u});h?A.startTransition(()=>x()):x()}},[f,d,y,n,i,e,a,o,l,u,h])}var l2=0,c2=()=>`__${String(++l2)}__`;function u2(){let{router:a}=xb("useSubmit"),{basename:e}=A.useContext(os),n=Nw(),i=a.fetch,o=a.navigate;return A.useCallback(async(l,u={})=>{let{action:h,method:d,encType:f,formData:y,body:g}=Pw(l,e);if(u.navigate===!1){let _=u.fetcherKey||c2();await i(_,n,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:g,formMethod:u.method||d,formEncType:u.encType||f,flushSync:u.flushSync})}else await o(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:g,formMethod:u.method||d,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function h2(a,{relative:e}={}){let{basename:n}=A.useContext(os),i=A.useContext(bs);ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...fl(a||".",{relative:e})},u=pi();if(a==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(g=>g).forEach(g=>h.append("index",g));let y=h.toString();l.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ui([n,l.pathname])),il(l)}function d2(a,{relative:e}={}){let n=A.useContext(db);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xb("useViewTransitionState"),o=fl(a,{relative:e});if(!n.isTransitioning)return!1;let l=di(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=di(n.nextLocation.pathname,i)||n.nextLocation.pathname;return uu(o.pathname,u)!=null||uu(o.pathname,l)!=null}var Qo=K_();const f2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),s_=a=>{const e=p2(a);return e.charAt(0).toUpperCase()+e.slice(1)},Tb=(...a)=>a.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),m2=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var g2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y2=A.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...h},d)=>A.createElement("svg",{ref:d,...g2,width:e,height:e,stroke:a,strokeWidth:i?Number(n)*24/Number(e):n,className:Tb("lucide",o),...!l&&!m2(h)&&{"aria-hidden":"true"},...h},[...u.map(([f,y])=>A.createElement(f,y)),...Array.isArray(l)?l:[l]]));const Be=(a,e)=>{const n=A.forwardRef(({className:i,...o},l)=>A.createElement(y2,{ref:l,iconNode:e,className:Tb(`lucide-${f2(s_(a))}`,`lucide-${a}`,i),...o}));return n.displayName=s_(a),n};const v2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cb=Be("activity",v2);const _2=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],b2=Be("audio-lines",_2);const S2=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],x2=Be("book",S2);const T2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Op=Be("chevron-down",T2);const C2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wb=Be("chevron-right",C2);const w2=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E2=Be("circle-play",w2);const A2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N2=Be("circle-question-mark",A2);const O2=[["path",{d:"M21.66 17.67a1.08 1.08 0 0 1-.04 1.6A12 12 0 0 1 4.73 2.38a1.1 1.1 0 0 1 1.61-.04z",key:"4ite01"}],["path",{d:"M19.65 15.66A8 8 0 0 1 8.35 4.34",key:"1gxipu"}],["path",{d:"m14 10-5.5 5.5",key:"92pfem"}],["path",{d:"M14 17.85V10H6.15",key:"xqmtsk"}]],M2=Be("citrus",O2);const k2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],D2=Be("download",k2);const R2=[["path",{d:"m2 2 8 8",key:"1v6059"}],["path",{d:"m22 2-8 8",key:"173r8a"}],["ellipse",{cx:"12",cy:"9",rx:"10",ry:"5",key:"liohsx"}],["path",{d:"M7 13.4v7.9",key:"1yi6u9"}],["path",{d:"M12 14v8",key:"1tn2tj"}],["path",{d:"M17 13.4v7.9",key:"eqz2v3"}],["path",{d:"M2 9v8a10 5 0 0 0 20 0V9",key:"1750ul"}]],j2=Be("drum",R2);const L2=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],z2=Be("file-headphone",L2);const V2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],q2=Be("file-plus",V2);const B2=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],U2=Be("flask-conical",B2);const I2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],i_=Be("folder-open",I2);const P2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H2=Be("funnel",P2);const F2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Eb=Be("globe",F2);const G2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$2=Be("info",G2);const Y2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],X2=Be("layers",Y2);const W2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q2=Be("loader-circle",W2);const Z2=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],K2=Be("mic-vocal",Z2);const J2=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],eE=Be("music",J2);const tE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ab=Be("package",tE);const nE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sE=Be("plus",nE);const iE=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],aE=Be("power",iE);const rE=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oE=Be("radio",rE);const lE=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],cE=Be("repeat",lE);const uE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hE=Be("save",uE);const dE=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Nb=Be("sliders-vertical",dE);const fE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],pE=Be("square",fE);const mE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gE=Be("trash-2",mE);const yE=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],vE=Be("triangle",yE);const _E=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Ob=Be("waves",_E);const bE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],SE=Be("zap",bE),xE="_sidebar_lfzzx_1",TE="_navItem_lfzzx_28",CE="_active_lfzzx_46",wE="_footer_lfzzx_56",EE="_separator_lfzzx_61",wn={sidebar:xE,navItem:TE,active:CE,footer:wE,separator:EE},AE=({currentView:a,onViewChange:e,toggleBrowser:n,isBrowserOpen:i})=>T.jsxs("aside",{className:wn.sidebar,children:[T.jsx("button",{className:`${wn.navItem} ${a==="skyline"?wn.active:""}`,onClick:()=>e("skyline"),title:"Song Mode (Timeline)","aria-label":"Song Mode",children:T.jsx(E2,{size:24})}),T.jsx("div",{className:wn.separator}),T.jsx("button",{className:`${wn.navItem} ${a==="studio"?wn.active:""}`,onClick:()=>e("studio"),title:"JuicyBox (Drums)","aria-label":"JuicyBox Drums",style:a==="studio"?{backgroundColor:"#ff5722",boxShadow:"0 0 10px rgba(255, 87, 34, 0.4)"}:{},children:T.jsx(j2,{size:24})}),T.jsx("button",{className:`${wn.navItem} ${a==="synthlab"?wn.active:""}`,onClick:()=>e("synthlab"),title:"SynthLab (Melody)","aria-label":"SynthLab Melody",style:a==="synthlab"?{backgroundColor:"#4caf50",boxShadow:"0 0 10px rgba(76, 175, 80, 0.4)"}:{},children:T.jsx(eE,{size:24})}),T.jsx("button",{className:`${wn.navItem} ${a==="mixer"?wn.active:""}`,onClick:()=>e("mixer"),title:"SauceMixer","aria-label":"Mixer",style:a==="mixer"?{backgroundColor:"#d32f2f",boxShadow:"0 0 10px rgba(211, 47, 47, 0.4)"}:{},children:T.jsx(Nb,{size:24})}),T.jsx("div",{className:wn.separator}),T.jsx("button",{className:`${wn.navItem} ${i?wn.active:""}`,onClick:n,title:"Toggle Library","aria-label":"Library",children:T.jsx(Ab,{size:24})}),T.jsx("div",{style:{flex:1}}),T.jsx("div",{className:wn.footer})]}),a_=a=>{let e;const n=new Set,i=(f,y)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const _=e;e=y??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(x=>x(e,_))}},o=()=>e,h={setState:i,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=a(i,o,h);return h},NE=(a=>a?a_(a):a_),OE=a=>a;function ME(a,e=OE){const n=gt.useSyncExternalStore(a.subscribe,gt.useCallback(()=>e(a.getState()),[a,e]),gt.useCallback(()=>e(a.getInitialState()),[a,e]));return gt.useDebugValue(n),n}const r_=a=>{const e=NE(a),n=i=>ME(e,i);return Object.assign(n,e),n},Vu=(a=>a?r_(a):r_),Mb="15.1.22",o_=(a,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:a}),l_=(a,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:a}),np=(a,e)=>({startTime:e,type:"setValue",value:a}),kb=(a,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:a}),Db=(a,e,{startTime:n,target:i,timeConstant:o})=>i+(e-i)*Math.exp((n-a)/o),Mr=a=>a.type==="exponentialRampToValue",hu=a=>a.type==="linearRampToValue",Gi=a=>Mr(a)||hu(a),Mp=a=>a.type==="setValue",ci=a=>a.type==="setValueCurve",du=(a,e,n,i)=>{const o=a[e];return o===void 0?i:Gi(o)||Mp(o)?o.value:ci(o)?o.values[o.values.length-1]:Db(n,du(a,e-1,o.startTime,i),o)},c_=(a,e,n,i,o)=>n===void 0?[i.insertTime,o]:Gi(n)?[n.endTime,n.value]:Mp(n)?[n.startTime,n.value]:ci(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,du(a,e-1,n.startTime,o)],sp=a=>a.type==="cancelAndHold",ip=a=>a.type==="cancelScheduledValues",Pi=a=>sp(a)||ip(a)?a.cancelTime:Mr(a)||hu(a)?a.endTime:a.startTime,u_=(a,e,n,{endTime:i,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((a-e)/(i-e)):0,h_=(a,e,n,{endTime:i,value:o})=>n+(a-e)/(i-e)*(o-n),kE=(a,e)=>{const n=Math.floor(e),i=Math.ceil(e);return n===i?a[n]:(1-(e-n))*a[n]+(1-(i-e))*a[i]},DE=(a,{duration:e,startTime:n,values:i})=>{const o=(a-n)/e*(i.length-1);return kE(i,o)},Qc=a=>a.type==="setTarget";class RE{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Pi(e);if(sp(e)||ip(e)){const i=this._automationEvents.findIndex(l=>ip(e)&&ci(l)?l.startTime+l.duration>=n:Pi(l)>=n),o=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),sp(e)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Gi(o)){if(l!==void 0&&Qc(l))throw new Error("The internal list is malformed.");const u=l===void 0?o.insertTime:ci(l)?l.startTime+l.duration:Pi(l),h=l===void 0?this._defaultValue:ci(l)?l.values[l.values.length-1]:l.value,d=Mr(o)?u_(n,u,h,o):h_(n,u,h,o),f=Mr(o)?o_(d,n,this._currenTime):l_(d,n,this._currenTime);this._automationEvents.push(f)}if(l!==void 0&&Qc(l)&&this._automationEvents.push(np(this.getValue(n),n)),l!==void 0&&ci(l)&&l.startTime+l.duration>n){const u=n-l.startTime,h=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(u*h)),f=u/(d-1)*h,y=l.values.slice(0,d);if(f<1)for(let g=1;g<d;g+=1){const _=f*g%1;y[g]=l.values[g-1]*(1-_)+l.values[g]*_}this._automationEvents[this._automationEvents.length-1]=kb(y,l.startTime,u)}}}else{const i=this._automationEvents.findIndex(u=>Pi(u)>n),o=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(o!==void 0&&ci(o)&&Pi(o)+o.duration>n)return!1;const l=Mr(e)?o_(e.value,e.endTime,this._currenTime):hu(e)?l_(e.value,n,this._currenTime):e;if(i===-1)this._automationEvents.push(l);else{if(ci(e)&&n+e.duration>Pi(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,l)}}return!0}flush(e){const n=this._automationEvents.findIndex(i=>Pi(i)>e);if(n>1){const i=this._automationEvents.slice(n-1),o=i[0];Qc(o)&&i.unshift(np(du(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(u=>Pi(u)>e),i=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,l=this._automationEvents[o];if(l!==void 0&&Qc(l)&&(i===void 0||!Gi(i)||i.insertTime>e))return Db(e,du(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&Mp(l)&&(i===void 0||!Gi(i)))return l.value;if(l!==void 0&&ci(l)&&(i===void 0||!Gi(i)||l.startTime+l.duration>e))return e<l.startTime+l.duration?DE(e,l):l.values[l.values.length-1];if(l!==void 0&&Gi(l)&&(i===void 0||!Gi(i)))return l.value;if(i!==void 0&&Mr(i)){const[u,h]=c_(this._automationEvents,o,l,i,this._defaultValue);return u_(e,u,h,i)}if(i!==void 0&&hu(i)){const[u,h]=c_(this._automationEvents,o,l,i,this._defaultValue);return h_(e,u,h,i)}return this._defaultValue}}const jE=a=>({cancelTime:a,type:"cancelAndHold"}),LE=a=>({cancelTime:a,type:"cancelScheduledValues"}),zE=(a,e)=>({endTime:e,type:"exponentialRampToValue",value:a}),VE=(a,e)=>({endTime:e,type:"linearRampToValue",value:a}),qE=(a,e,n)=>({startTime:e,target:a,timeConstant:n,type:"setTarget"}),BE=()=>new DOMException("","AbortError"),UE=a=>(e,n,[i,o,l],u)=>{a(e[o],[n,i,l],h=>h[0]===n&&h[1]===i,u)},IE=a=>(e,n,i)=>{const o=[];for(let l=0;l<i.numberOfInputs;l+=1)o.push(new Set);a.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},PE=a=>(e,n)=>{a.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Lr=new WeakSet,Rb=new WeakMap,kp=new WeakMap,jb=new WeakMap,Dp=new WeakMap,qu=new WeakMap,Lb=new WeakMap,ap=new WeakMap,rp=new WeakMap,op=new WeakMap,zb={construct(){return zb}},HE=a=>{try{const e=new Proxy(a,zb);new e}catch{return!1}return!0},d_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,f_=(a,e)=>{const n=[];let i=a.replace(/^[\s]+/,""),o=i.match(d_);for(;o!==null;){const l=o[1].slice(1,-1),u=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,e).toString());n.push(u),i=i.slice(o[0].length).replace(/^[\s]+/,""),o=i.match(d_)}return[n.join(";"),i]},p_=a=>{if(a!==void 0&&!Array.isArray(a))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},m_=a=>{if(!HE(a))throw new TypeError("The given value for processorCtor should be a constructor.");if(a.prototype===null||typeof a.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},FE=(a,e,n,i,o,l,u,h,d,f,y,g,_)=>{let x=0;return(v,S,C={credentials:"omit"})=>{const w=y.get(v);if(w!==void 0&&w.has(S))return Promise.resolve();const O=f.get(v);if(O!==void 0){const N=O.get(S);if(N!==void 0)return N}const k=l(v),B=k.audioWorklet===void 0?o(S).then(([N,j])=>{const[D,R]=f_(N,j),z=`${D};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${R}
})})(window,'_AWGS')`;return n(z)}).then(()=>{const N=_._AWGS.pop();if(N===void 0)throw new SyntaxError;i(k.currentTime,k.sampleRate,()=>N(class{},void 0,(j,D)=>{if(j.trim()==="")throw e();const R=rp.get(k);if(R!==void 0){if(R.has(j))throw e();m_(D),p_(D.parameterDescriptors),R.set(j,D)}else m_(D),p_(D.parameterDescriptors),rp.set(k,new Map([[j,D]]))},k.sampleRate,void 0,void 0))}):Promise.all([o(S),Promise.resolve(a(g,g))]).then(([[N,j],D])=>{const R=x+1;x=R;const[z,q]=f_(N,j),$=`${z};((AudioWorkletProcessor,registerProcessor)=>{${q}
})(${D?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${D?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${D?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${R}',class extends AudioWorkletProcessor{process(){return !1}})`,se=new Blob([$],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(se);return k.audioWorklet.addModule(V,C).then(()=>{if(h(k))return k;const F=u(k);return F.audioWorklet.addModule(V,C).then(()=>F)}).then(F=>{if(d===null)throw new SyntaxError;try{new d(F,`__sac${R}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return O===void 0?f.set(v,new Map([[S,B]])):O.set(S,B),B.then(()=>{const N=y.get(v);N===void 0?y.set(v,new Set([S])):N.add(S)}).finally(()=>{const N=f.get(v);N!==void 0&&N.delete(S)}),B}},gs=(a,e)=>{const n=a.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Bu=(a,e)=>{const n=Array.from(a).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[i]=n;return a.delete(i),i},Vb=(a,e,n,i)=>{const o=gs(a,e),l=Bu(o,u=>u[0]===n&&u[1]===i);return o.size===0&&a.delete(e),l},pl=a=>gs(Lb,a),zr=a=>{if(Lr.has(a))throw new Error("The AudioNode is already stored.");Lr.add(a),pl(a).forEach(e=>e(!0))},qb=a=>"port"in a,ml=a=>{if(!Lr.has(a))throw new Error("The AudioNode is not stored.");Lr.delete(a),pl(a).forEach(e=>e(!1))},lp=(a,e)=>{!qb(a)&&e.every(n=>n.size===0)&&ml(a)},GE=(a,e,n,i,o,l,u,h,d,f,y,g,_)=>{const x=new WeakMap;return(v,S,C,w,O)=>{const{activeInputs:k,passiveInputs:B}=l(S),{outputs:N}=l(v),j=h(v),D=R=>{const z=d(S),q=d(v);if(R){const I=Vb(B,v,C,w);a(k,v,I,!1),!O&&!g(v)&&n(q,z,C,w),_(S)&&zr(S)}else{const I=i(k,v,C,w);e(B,w,I,!1),!O&&!g(v)&&o(q,z,C,w);const P=u(S);if(P===0)y(S)&&lp(S,k);else{const J=x.get(S);J!==void 0&&clearTimeout(J),x.set(S,setTimeout(()=>{y(S)&&lp(S,k)},P*1e3))}}};return f(N,[S,C,w],R=>R[0]===S&&R[1]===C&&R[2]===w,!0)?(j.add(D),y(v)?a(k,v,[C,w,D],!0):e(B,w,[v,C,D],!0),!0):!1}},$E=a=>(e,n,[i,o,l],u)=>{const h=e.get(i);h===void 0?e.set(i,new Set([[o,n,l]])):a(h,[o,n,l],d=>d[0]===o&&d[1]===n,u)},YE=a=>(e,n)=>{const i=a(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(i),i.disconnect()};n.addEventListener("ended",o)},XE=a=>(e,n)=>{a(e).add(n)},WE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},QE=(a,e,n,i,o,l)=>class extends a{constructor(h,d){const f=o(h),y={...WE,...d},g=i(f,y),_=l(f)?e():null;super(h,!1,g,_),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(h){this._nativeAnalyserNode.fftSize=h}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(h){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=h,!(h>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(h){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=h,!(this._nativeAnalyserNode.maxDecibels>h))throw this._nativeAnalyserNode.minDecibels=d,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(h){this._nativeAnalyserNode.smoothingTimeConstant=h}getByteFrequencyData(h){this._nativeAnalyserNode.getByteFrequencyData(h)}getByteTimeDomainData(h){this._nativeAnalyserNode.getByteTimeDomainData(h)}getFloatFrequencyData(h){this._nativeAnalyserNode.getFloatFrequencyData(h)}getFloatTimeDomainData(h){this._nativeAnalyserNode.getFloatTimeDomainData(h)}},an=(a,e)=>a.context===e,ZE=(a,e,n)=>()=>{const i=new WeakMap,o=async(l,u)=>{let h=e(l);if(!an(h,u)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,fftSize:h.fftSize,maxDecibels:h.maxDecibels,minDecibels:h.minDecibels,smoothingTimeConstant:h.smoothingTimeConstant};h=a(u,f)}return i.set(u,h),await n(l,u,h),h};return{render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):o(l,u)}}},fu=a=>{try{a.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Vs=()=>new DOMException("","IndexSizeError"),Rp=a=>{a.getChannelData=(e=>n=>{try{return e.call(a,n)}catch(i){throw i.code===12?Vs():i}})(a.getChannelData)},KE={numberOfChannels:1},JE=(a,e,n,i,o,l,u,h)=>{let d=null;return class Bb{constructor(y){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:_,sampleRate:x}={...KE,...y};d===null&&(d=new o(1,1,44100));const v=i!==null&&e(l,l)?new i({length:g,numberOfChannels:_,sampleRate:x}):d.createBuffer(_,g,x);if(v.numberOfChannels===0)throw n();return typeof v.copyFromChannel!="function"?(u(v),Rp(v)):e(fu,()=>fu(v))||h(v),a.add(v),v}static[Symbol.hasInstance](y){return y!==null&&typeof y=="object"&&Object.getPrototypeOf(y)===Bb.prototype||a.has(y)}}},En=-34028234663852886e22,un=-En,hi=a=>Lr.has(a),eA={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},tA=(a,e,n,i,o,l,u,h)=>class extends a{constructor(f,y){const g=l(f),_={...eA,...y},x=o(g,_),v=u(g),S=v?e():null;super(f,!1,x,S),this._audioBufferSourceNodeRenderer=S,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=x,this._onended=null,this._playbackRate=n(this,v,x.playbackRate,un,En)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(f){if(this._nativeAudioBufferSourceNode.buffer=f,f!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(f){this._nativeAudioBufferSourceNode.loop=f}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(f){this._nativeAudioBufferSourceNode.loopEnd=f}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(f){this._nativeAudioBufferSourceNode.loopStart=f}get onended(){return this._onended}set onended(f){const y=typeof f=="function"?h(this,f):null;this._nativeAudioBufferSourceNode.onended=y;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===y?f:g}get playbackRate(){return this._playbackRate}start(f=0,y=0,g){if(this._nativeAudioBufferSourceNode.start(f,y,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[f,y]:[f,y,g]),this.context.state!=="closed"){zr(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),hi(this)&&ml(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(f=0){this._nativeAudioBufferSourceNode.stop(f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=f)}},nA=(a,e,n,i,o)=>()=>{const l=new WeakMap;let u=null,h=null;const d=async(f,y)=>{let g=n(f);const _=an(g,y);if(!_){const x={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=e(y,x),u!==null&&g.start(...u),h!==null&&g.stop(h)}return l.set(y,g),_?await a(y,f.playbackRate,g.playbackRate):await i(y,f.playbackRate,g.playbackRate),await o(f,y,g),g};return{set start(f){u=f},set stop(f){h=f},render(f,y){const g=l.get(y);return g!==void 0?Promise.resolve(g):d(f,y)}}},sA=a=>"playbackRate"in a,iA=a=>"frequency"in a&&"gain"in a,aA=a=>"offset"in a,rA=a=>!("frequency"in a)&&"gain"in a,oA=a=>"detune"in a&&"frequency"in a&&!("gain"in a),lA=a=>"pan"in a,hn=a=>gs(Rb,a),gl=a=>gs(jb,a),cp=(a,e)=>{const{activeInputs:n}=hn(a);n.forEach(o=>o.forEach(([l])=>{e.includes(a)||cp(l,[...e,a])}));const i=sA(a)?[a.playbackRate]:qb(a)?Array.from(a.parameters.values()):iA(a)?[a.Q,a.detune,a.frequency,a.gain]:aA(a)?[a.offset]:rA(a)?[a.gain]:oA(a)?[a.detune,a.frequency]:lA(a)?[a.pan]:[];for(const o of i){const l=gl(o);l!==void 0&&l.activeInputs.forEach(([u])=>cp(u,e))}hi(a)&&ml(a)},Ub=a=>{cp(a.destination,[])},cA=a=>a===void 0||typeof a=="number"||typeof a=="string"&&(a==="balanced"||a==="interactive"||a==="playback"),uA=(a,e,n,i,o,l,u,h,d)=>class extends a{constructor(y={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new d(y)}catch(v){throw v.code===12&&v.message==="sampleRate is not in range"?n():v}if(g===null)throw i();if(!cA(y.latencyHint))throw new TypeError(`The provided value '${y.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(y.sampleRate!==void 0&&g.sampleRate!==y.sampleRate)throw n();super(g,2);const{latencyHint:_}=y,{sampleRate:x}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:_==="balanced"?512/x:_==="interactive"||_===void 0?256/x:_==="playback"?1024/x:Math.max(2,Math.min(128,Math.round(_*x/128)))*128/x,this._nativeAudioContext=g,d.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const v=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",v)};g.addEventListener("statechange",v)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ub(this)}))}createMediaElementSource(y){return new o(this,{mediaElement:y})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(y){return new u(this,{mediaStream:y})}createMediaStreamTrackSource(y){return new h(this,{mediaStreamTrack:y})}resume(){return this._state==="suspended"?new Promise((y,g)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?y():this.resume().then(y,g)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(y=>{throw y===void 0||y.code===15?e():y})}suspend(){return this._nativeAudioContext.suspend().catch(y=>{throw y===void 0?e():y})}},hA=(a,e,n,i,o,l,u,h)=>class extends a{constructor(f,y){const g=l(f),_=u(g),x=o(g,y,_),v=_?e(h):null;super(f,!1,x,v),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=x}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(f){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(f>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=f}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(f){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=f}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},dA=a=>{const e=new WeakMap,n=async(i,o)=>{const l=o.destination;return e.set(o,l),await a(i,o,l),l};return{render(i,o){const l=e.get(o);return l!==void 0?Promise.resolve(l):n(i,o)}}},fA=(a,e,n,i,o,l,u,h)=>(d,f)=>{const y=f.listener,g=()=>{const N=new Float32Array(1),j=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),D=u(f);let R=!1,z=[0,0,-1,0,1,0],q=[0,0,0];const I=()=>{if(R)return;R=!0;const se=i(f,256,9,0);se.onaudioprocess=({inputBuffer:V})=>{const F=[l(V,N,0),l(V,N,1),l(V,N,2),l(V,N,3),l(V,N,4),l(V,N,5)];F.some((ie,ae)=>ie!==z[ae])&&(y.setOrientation(...F),z=F);const Z=[l(V,N,6),l(V,N,7),l(V,N,8)];Z.some((ie,ae)=>ie!==q[ae])&&(y.setPosition(...Z),q=Z)},j.connect(se)},P=se=>V=>{V!==z[se]&&(z[se]=V,y.setOrientation(...z))},J=se=>V=>{V!==q[se]&&(q[se]=V,y.setPosition(...q))},$=(se,V,F)=>{const Z=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});Z.connect(j,0,se),Z.start(),Object.defineProperty(Z.offset,"defaultValue",{get(){return V}});const ie=a({context:d},D,Z.offset,un,En);return h(ie,"value",ae=>()=>ae.call(ie),ae=>M=>{try{ae.call(ie,M)}catch(G){if(G.code!==9)throw G}I(),D&&F(M)}),ie.cancelAndHoldAtTime=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.cancelAndHoldAtTime),ie.cancelScheduledValues=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.cancelScheduledValues),ie.exponentialRampToValueAtTime=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.exponentialRampToValueAtTime),ie.linearRampToValueAtTime=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.linearRampToValueAtTime),ie.setTargetAtTime=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.setTargetAtTime),ie.setValueAtTime=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.setValueAtTime),ie.setValueCurveAtTime=(ae=>D?()=>{throw o()}:(...M)=>{const G=ae.apply(ie,M);return I(),G})(ie.setValueCurveAtTime),ie};return{forwardX:$(0,0,P(0)),forwardY:$(1,0,P(1)),forwardZ:$(2,-1,P(2)),positionX:$(6,0,J(0)),positionY:$(7,0,J(1)),positionZ:$(8,0,J(2)),upX:$(3,0,P(3)),upY:$(4,1,P(4)),upZ:$(5,0,P(5))}},{forwardX:_,forwardY:x,forwardZ:v,positionX:S,positionY:C,positionZ:w,upX:O,upY:k,upZ:B}=y.forwardX===void 0?g():y;return{get forwardX(){return _},get forwardY(){return x},get forwardZ(){return v},get positionX(){return S},get positionY(){return C},get positionZ(){return w},get upX(){return O},get upY(){return k},get upZ(){return B}}},pu=a=>"context"in a,yl=a=>pu(a[0]),Da=(a,e,n,i)=>{for(const o of a)if(n(o)){if(i)return!1;throw Error("The set contains at least one similar element.")}return a.add(e),!0},g_=(a,e,[n,i],o)=>{Da(a,[e,n,i],l=>l[0]===e&&l[1]===n,o)},y_=(a,[e,n,i],o)=>{const l=a.get(e);l===void 0?a.set(e,new Set([[n,i]])):Da(l,[n,i],u=>u[0]===n,o)},Hr=a=>"inputs"in a,mu=(a,e,n,i)=>{if(Hr(e)){const o=e.inputs[i];return a.connect(o,n,0),[o,n,0]}return a.connect(e,n,i),[e,n,i]},Ib=(a,e,n)=>{for(const i of a)if(i[0]===e&&i[1]===n)return a.delete(i),i;return null},pA=(a,e,n)=>Bu(a,i=>i[0]===e&&i[1]===n),Pb=(a,e)=>{if(!pl(a).delete(e))throw new Error("Missing the expected event listener.")},Hb=(a,e,n)=>{const i=gs(a,e),o=Bu(i,l=>l[0]===n);return i.size===0&&a.delete(e),o},gu=(a,e,n,i)=>{Hr(e)?a.disconnect(e.inputs[i],n,0):a.disconnect(e,n,i)},ct=a=>gs(kp,a),al=a=>gs(Dp,a),Aa=a=>ap.has(a),su=a=>!Lr.has(a),v_=(a,e)=>new Promise(n=>{if(e!==null)n(!0);else{const i=a.createScriptProcessor(256,1,1),o=a.createGain(),l=a.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const h=a.createBufferSource();h.buffer=l,h.loop=!0,h.connect(i).connect(a.destination),h.connect(o),h.disconnect(o),i.onaudioprocess=d=>{const f=d.inputBuffer.getChannelData(0);Array.prototype.some.call(f,y=>y===1)?n(!0):n(!1),h.stop(),i.onaudioprocess=null,h.disconnect(i),i.disconnect(a.destination)},h.start()}}),zf=(a,e)=>{const n=new Map;for(const i of a)for(const o of i){const l=n.get(o);n.set(o,l===void 0?1:l+1)}n.forEach((i,o)=>e(o,i))},yu=a=>"context"in a,mA=a=>{const e=new Map;a.connect=(n=>(i,o=0,l=0)=>{const u=yu(i)?n(i,o,l):n(i,o),h=e.get(i);return h===void 0?e.set(i,[{input:l,output:o}]):h.every(d=>d.input!==l||d.output!==o)&&h.push({input:l,output:o}),u})(a.connect.bind(a)),a.disconnect=(n=>(i,o,l)=>{if(n.apply(a),i===void 0)e.clear();else if(typeof i=="number")for(const[u,h]of e){const d=h.filter(f=>f.output!==i);d.length===0?e.delete(u):e.set(u,d)}else if(e.has(i))if(o===void 0)e.delete(i);else{const u=e.get(i);if(u!==void 0){const h=u.filter(d=>d.output!==o&&(d.input!==l||l===void 0));h.length===0?e.delete(i):e.set(i,h)}}for(const[u,h]of e)h.forEach(d=>{yu(u)?a.connect(u,d.output,d.input):a.connect(u,d.output)})})(a.disconnect)},gA=(a,e,n,i)=>{const{activeInputs:o,passiveInputs:l}=gl(e),{outputs:u}=hn(a),h=pl(a),d=f=>{const y=ct(a),g=al(e);if(f){const _=Hb(l,a,n);g_(o,a,_,!1),!i&&!Aa(a)&&y.connect(g,n)}else{const _=pA(o,a,n);y_(l,_,!1),!i&&!Aa(a)&&y.disconnect(g,n)}};return Da(u,[e,n],f=>f[0]===e&&f[1]===n,!0)?(h.add(d),hi(a)?g_(o,a,[n,d],!0):y_(l,[a,n,d],!0),!0):!1},yA=(a,e,n,i)=>{const{activeInputs:o,passiveInputs:l}=hn(e),u=Ib(o[i],a,n);return u===null?[Vb(l,a,n,i)[2],!1]:[u[2],!0]},vA=(a,e,n)=>{const{activeInputs:i,passiveInputs:o}=gl(e),l=Ib(i,a,n);return l===null?[Hb(o,a,n)[1],!1]:[l[2],!0]},jp=(a,e,n,i,o)=>{const[l,u]=yA(a,n,i,o);if(l!==null&&(Pb(a,l),u&&!e&&!Aa(a)&&gu(ct(a),ct(n),i,o)),hi(n)){const{activeInputs:h}=hn(n);lp(n,h)}},Lp=(a,e,n,i)=>{const[o,l]=vA(a,n,i);o!==null&&(Pb(a,o),l&&!e&&!Aa(a)&&ct(a).disconnect(al(n),i))},_A=(a,e)=>{const n=hn(a),i=[];for(const o of n.outputs)yl(o)?jp(a,e,...o):Lp(a,e,...o),i.push(o[0]);return n.outputs.clear(),i},bA=(a,e,n)=>{const i=hn(a),o=[];for(const l of i.outputs)l[1]===n&&(yl(l)?jp(a,e,...l):Lp(a,e,...l),o.push(l[0]),i.outputs.delete(l));return o},SA=(a,e,n,i,o)=>{const l=hn(a);return Array.from(l.outputs).filter(u=>u[0]===n&&(i===void 0||u[1]===i)&&(o===void 0||u[2]===o)).map(u=>(yl(u)?jp(a,e,...u):Lp(a,e,...u),l.outputs.delete(u),u[0]))},xA=(a,e,n,i,o,l,u,h,d,f,y,g,_,x,v,S)=>class extends f{constructor(w,O,k,B){super(k),this._context=w,this._nativeAudioNode=k;const N=y(w);g(N)&&n(v_,()=>v_(N,S))!==!0&&mA(k),kp.set(this,k),Lb.set(this,new Set),w.state!=="closed"&&O&&zr(this),a(this,B,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,O=0,k=0){if(O<0||O>=this._nativeAudioNode.numberOfOutputs)throw o();const B=y(this._context),N=v(B);if(_(w)||x(w))throw l();if(pu(w)){const R=ct(w);try{const q=mu(this._nativeAudioNode,R,O,k),I=su(this);(N||I)&&this._nativeAudioNode.disconnect(...q),this.context.state!=="closed"&&!I&&su(w)&&zr(w)}catch(q){throw q.code===12?l():q}if(e(this,w,O,k,N)){const q=d([this],w);zf(q,i(N))}return w}const j=al(w);if(j.name==="playbackRate"&&j.maxValue===1024)throw u();try{this._nativeAudioNode.connect(j,O),(N||su(this))&&this._nativeAudioNode.disconnect(j,O)}catch(R){throw R.code===12?l():R}if(gA(this,w,O,N)){const R=d([this],w);zf(R,i(N))}}disconnect(w,O,k){let B;const N=y(this._context),j=v(N);if(w===void 0)B=_A(this,j);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw o();B=bA(this,j,w)}else{if(O!==void 0&&(O<0||O>=this.numberOfOutputs)||pu(w)&&k!==void 0&&(k<0||k>=w.numberOfInputs))throw o();if(B=SA(this,j,w,O,k),B.length===0)throw l()}for(const D of B){const R=d([this],D);zf(R,h)}}},TA=(a,e,n,i,o,l,u,h,d,f,y,g,_)=>(x,v,S,C=null,w=null)=>{const O=S.value,k=new RE(O),B=v?i(k):null,N={get defaultValue(){return O},get maxValue(){return C===null?S.maxValue:C},get minValue(){return w===null?S.minValue:w},get value(){return S.value},set value(j){S.value=j,N.setValueAtTime(j,x.context.currentTime)},cancelAndHoldAtTime(j){if(typeof S.cancelAndHoldAtTime=="function")B===null&&k.flush(x.context.currentTime),k.add(o(j)),S.cancelAndHoldAtTime(j);else{const D=Array.from(k).pop();B===null&&k.flush(x.context.currentTime),k.add(o(j));const R=Array.from(k).pop();S.cancelScheduledValues(j),D!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?S.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?S.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?S.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&S.setValueCurveAtTime(R.values,R.startTime,R.duration))}return N},cancelScheduledValues(j){return B===null&&k.flush(x.context.currentTime),k.add(l(j)),S.cancelScheduledValues(j),N},exponentialRampToValueAtTime(j,D){if(j===0)throw new RangeError;if(!Number.isFinite(D)||D<0)throw new RangeError;const R=x.context.currentTime;return B===null&&k.flush(R),Array.from(k).length===0&&(k.add(f(O,R)),S.setValueAtTime(O,R)),k.add(u(j,D)),S.exponentialRampToValueAtTime(j,D),N},linearRampToValueAtTime(j,D){const R=x.context.currentTime;return B===null&&k.flush(R),Array.from(k).length===0&&(k.add(f(O,R)),S.setValueAtTime(O,R)),k.add(h(j,D)),S.linearRampToValueAtTime(j,D),N},setTargetAtTime(j,D,R){return B===null&&k.flush(x.context.currentTime),k.add(d(j,D,R)),S.setTargetAtTime(j,D,R),N},setValueAtTime(j,D){return B===null&&k.flush(x.context.currentTime),k.add(f(j,D)),S.setValueAtTime(j,D),N},setValueCurveAtTime(j,D,R){const z=j instanceof Float32Array?j:new Float32Array(j);if(g!==null&&g.name==="webkitAudioContext"){const q=D+R,I=x.context.sampleRate,P=Math.ceil(D*I),J=Math.floor(q*I),$=J-P,se=new Float32Array($);for(let F=0;F<$;F+=1){const Z=(z.length-1)/R*((P+F)/I-D),ie=Math.floor(Z),ae=Math.ceil(Z);se[F]=ie===ae?z[ie]:(1-(Z-ie))*z[ie]+(1-(ae-Z))*z[ae]}B===null&&k.flush(x.context.currentTime),k.add(y(se,D,R)),S.setValueCurveAtTime(se,D,R);const V=J/I;V<q&&_(N,se[se.length-1],V),_(N,z[z.length-1],q)}else B===null&&k.flush(x.context.currentTime),k.add(y(z,D,R)),S.setValueCurveAtTime(z,D,R);return N}};return n.set(N,S),e.set(N,x),a(N,B),N},CA=a=>({replay(e){for(const n of a)if(n.type==="exponentialRampToValue"){const{endTime:i,value:o}=n;e.exponentialRampToValueAtTime(o,i)}else if(n.type==="linearRampToValue"){const{endTime:i,value:o}=n;e.linearRampToValueAtTime(o,i)}else if(n.type==="setTarget"){const{startTime:i,target:o,timeConstant:l}=n;e.setTargetAtTime(o,i,l)}else if(n.type==="setValue"){const{startTime:i,value:o}=n;e.setValueAtTime(o,i)}else if(n.type==="setValueCurve"){const{duration:i,startTime:o,values:l}=n;e.setValueCurveAtTime(l,o,i)}else throw new Error("Can't apply an unknown automation.")}});class Fb{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((i,o)=>e.call(n,i,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const wA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},EA=(a,e,n,i,o,l,u,h,d,f,y,g,_,x)=>class extends e{constructor(S,C,w){var O;const k=h(S),B=d(k),N=y({...wA,...w});_(N);const j=rp.get(k),D=j?.get(C),R=B||k.state!=="closed"?k:(O=u(k))!==null&&O!==void 0?O:k,z=o(R,B?null:S.baseLatency,f,C,D,N),q=B?i(C,N,D):null;super(S,!0,z,q);const I=[];z.parameters.forEach((J,$)=>{const se=n(this,B,J);I.push([$,se])}),this._nativeAudioWorkletNode=z,this._onprocessorerror=null,this._parameters=new Fb(I),B&&a(k,this);const{activeInputs:P}=l(this);g(z,P)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(S){const C=typeof S=="function"?x(this,S):null;this._nativeAudioWorkletNode.onprocessorerror=C;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===C?S:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function vu(a,e,n,i,o){if(typeof a.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),a.copyFromChannel(e[n],i,o);else{const l=a.getChannelData(i);if(e[n].byteLength===0)e[n]=l.slice(o,o+128);else{const u=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(u)}}}const Gb=(a,e,n,i,o)=>{typeof a.copyToChannel=="function"?e[n].byteLength!==0&&a.copyToChannel(e[n],i,o):e[n].byteLength!==0&&a.getChannelData(i).set(e[n],o)},_u=(a,e)=>{const n=[];for(let i=0;i<a;i+=1){const o=[],l=typeof e=="number"?e:e[i];for(let u=0;u<l;u+=1)o.push(new Float32Array(128));n.push(o)}return n},AA=(a,e)=>{const n=gs(op,a),i=ct(e);return gs(n,i)},NA=async(a,e,n,i,o,l,u)=>{const h=e===null?Math.ceil(a.context.length/128)*128:e.length,d=i.channelCount*i.numberOfInputs,f=o.reduce((C,w)=>C+w,0),y=f===0?null:n.createBuffer(f,h,n.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const g=hn(a),_=await AA(n,a),x=_u(i.numberOfInputs,i.channelCount),v=_u(i.numberOfOutputs,o),S=Array.from(a.parameters.keys()).reduce((C,w)=>({...C,[w]:new Float32Array(128)}),{});for(let C=0;C<h;C+=128){if(i.numberOfInputs>0&&e!==null)for(let w=0;w<i.numberOfInputs;w+=1)for(let O=0;O<i.channelCount;O+=1)vu(e,x[w],O,O,C);l.parameterDescriptors!==void 0&&e!==null&&l.parameterDescriptors.forEach(({name:w},O)=>{vu(e,S,w,d+O,C)});for(let w=0;w<i.numberOfInputs;w+=1)for(let O=0;O<o[w];O+=1)v[w][O].byteLength===0&&(v[w][O]=new Float32Array(128));try{const w=x.map((k,B)=>g.activeInputs[B].size===0?[]:k),O=u(C/n.sampleRate,n.sampleRate,()=>_.process(w,v,S));if(y!==null)for(let k=0,B=0;k<i.numberOfOutputs;k+=1){for(let N=0;N<o[k];N+=1)Gb(y,v[k],N,B+N,C);B+=o[k]}if(!O)break}catch(w){a.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return y},OA=(a,e,n,i,o,l,u,h,d,f,y,g,_,x,v,S)=>(C,w,O)=>{const k=new WeakMap;let B=null;const N=async(j,D)=>{let R=y(j),z=null;const q=an(R,D),I=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(g===null){const P=I.reduce((V,F)=>V+F,0),J=o(D,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),$=[];for(let V=0;V<j.numberOfOutputs;V+=1)$.push(i(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[V]}));const se=u(D,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});se.connect=e.bind(null,$),se.disconnect=d.bind(null,$),z=[J,$,se]}else q||(R=new g(D,C));if(k.set(D,z===null?R:z[2]),z!==null){if(B===null){if(O===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=j.channelCount*j.numberOfInputs,Z=O.parameterDescriptors===void 0?0:O.parameterDescriptors.length,ie=F+Z;B=NA(j,ie===0?null:await(async()=>{const M=new _(ie,Math.ceil(j.context.length/128)*128,D.sampleRate),G=[],ee=[];for(let ce=0;ce<w.numberOfInputs;ce+=1)G.push(u(M,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),ee.push(o(M,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const re=await Promise.all(Array.from(j.parameters.values()).map(async ce=>{const _e=l(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce.value});return await x(M,ce,_e.offset),_e})),oe=i(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+Z)});for(let ce=0;ce<w.numberOfInputs;ce+=1){G[ce].connect(ee[ce]);for(let _e=0;_e<w.channelCount;_e+=1)ee[ce].connect(oe,_e,ce*w.channelCount+_e)}for(const[ce,_e]of re.entries())_e.connect(oe,0,F+ce),_e.start(0);return oe.connect(M.destination),await Promise.all(G.map(ce=>v(j,M,ce))),S(M)})(),D,w,I,O,f)}const P=await B,J=n(D,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,se,V]=z;P!==null&&(J.buffer=P,J.start(0)),J.connect($);for(let F=0,Z=0;F<j.numberOfOutputs;F+=1){const ie=se[F];for(let ae=0;ae<I[F];ae+=1)$.connect(ie,Z+ae,ae);Z+=I[F]}return V}if(q)for(const[P,J]of j.parameters.entries())await a(D,J,R.parameters.get(P));else for(const[P,J]of j.parameters.entries())await x(D,J,R.parameters.get(P));return await v(j,D,R),R};return{render(j,D){h(D,j);const R=k.get(D);return R!==void 0?Promise.resolve(R):N(j,D)}}},MA=(a,e,n,i,o,l,u,h,d,f,y,g,_,x,v,S,C,w,O,k)=>class extends v{constructor(N,j){super(N,j),this._nativeContext=N,this._audioWorklet=a===void 0?void 0:{addModule:(D,R)=>a(this,D,R)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(N,j,D){return new n({length:j,numberOfChannels:N,sampleRate:D})}createBufferSource(){return new i(this)}createChannelMerger(N=6){return new l(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new u(this,{numberOfOutputs:N})}createConstantSource(){return new h(this)}createConvolver(){return new d(this)}createDelay(N=1){return new y(this,{maxDelayTime:N})}createDynamicsCompressor(){return new g(this)}createGain(){return new _(this)}createIIRFilter(N,j){return new x(this,{feedback:j,feedforward:N})}createOscillator(){return new S(this)}createPanner(){return new C(this)}createPeriodicWave(N,j,D={disableNormalization:!1}){return new w(this,{...D,imag:j,real:N})}createStereoPanner(){return new O(this)}createWaveShaper(){return new k(this)}decodeAudioData(N,j,D){return f(this._nativeContext,N).then(R=>(typeof j=="function"&&j(R),R),R=>{throw typeof D=="function"&&D(R),R})}},kA={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},DA=(a,e,n,i,o,l,u,h)=>class extends a{constructor(f,y){const g=l(f),_={...kA,...y},x=o(g,_),v=u(g),S=v?n():null;super(f,!1,x,S),this._Q=e(this,v,x.Q,un,En),this._detune=e(this,v,x.detune,1200*Math.log2(un),-1200*Math.log2(un)),this._frequency=e(this,v,x.frequency,f.sampleRate/2,0),this._gain=e(this,v,x.gain,40*Math.log10(un),En),this._nativeBiquadFilterNode=x,h(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(f){this._nativeBiquadFilterNode.type=f}getFrequencyResponse(f,y,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(f,y,g)}catch(_){throw _.code===11?i():_}if(f.length!==y.length||y.length!==g.length)throw i()}},RA=(a,e,n,i,o)=>()=>{const l=new WeakMap,u=async(h,d)=>{let f=n(h);const y=an(f,d);if(!y){const g={Q:f.Q.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,gain:f.gain.value,type:f.type};f=e(d,g)}return l.set(d,f),y?(await a(d,h.Q,f.Q),await a(d,h.detune,f.detune),await a(d,h.frequency,f.frequency),await a(d,h.gain,f.gain)):(await i(d,h.Q,f.Q),await i(d,h.detune,f.detune),await i(d,h.frequency,f.frequency),await i(d,h.gain,f.gain)),await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},jA=(a,e)=>(n,i)=>{const o=e.get(n);if(o!==void 0)return o;const l=a.get(n);if(l!==void 0)return l;try{const u=i();return u instanceof Promise?(a.set(n,u),u.catch(()=>!1).then(h=>(a.delete(n),e.set(n,h),h))):(e.set(n,u),u)}catch{return e.set(n,!1),!1}},LA={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},zA=(a,e,n,i,o)=>class extends a{constructor(u,h){const d=i(u),f={...LA,...h},y=n(d,f),g=o(d)?e():null;super(u,!1,y,g)}},VA=(a,e,n)=>()=>{const i=new WeakMap,o=async(l,u)=>{let h=e(l);if(!an(h,u)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfInputs:h.numberOfInputs};h=a(u,f)}return i.set(u,h),await n(l,u,h),h};return{render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):o(l,u)}}},qA={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},BA=(a,e,n,i,o,l)=>class extends a{constructor(h,d){const f=i(h),y=l({...qA,...d}),g=n(f,y),_=o(f)?e():null;super(h,!1,g,_)}},UA=(a,e,n)=>()=>{const i=new WeakMap,o=async(l,u)=>{let h=e(l);if(!an(h,u)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfOutputs:h.numberOfOutputs};h=a(u,f)}return i.set(u,h),await n(l,u,h),h};return{render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):o(l,u)}}},IA=a=>(e,n,i)=>a(n,e,i),PA=a=>(e,n,i=0,o=0)=>{const l=e[i];if(l===void 0)throw a();return yu(n)?l.connect(n,0,o):l.connect(n,0)},HA=a=>(e,n)=>{const i=a(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return i.buffer=o,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}},FA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},GA=(a,e,n,i,o,l,u)=>class extends a{constructor(d,f){const y=o(d),g={...FA,...f},_=i(y,g),x=l(y),v=x?n():null;super(d,!1,_,v),this._constantSourceNodeRenderer=v,this._nativeConstantSourceNode=_,this._offset=e(this,x,_.offset,un,En),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?u(this,d):null;this._nativeConstantSourceNode.onended=f;const y=this._nativeConstantSourceNode.onended;this._onended=y!==null&&y===f?d:y}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){zr(this);const f=()=>{this._nativeConstantSourceNode.removeEventListener("ended",f),hi(this)&&ml(this)};this._nativeConstantSourceNode.addEventListener("ended",f)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},$A=(a,e,n,i,o)=>()=>{const l=new WeakMap;let u=null,h=null;const d=async(f,y)=>{let g=n(f);const _=an(g,y);if(!_){const x={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=e(y,x),u!==null&&g.start(u),h!==null&&g.stop(h)}return l.set(y,g),_?await a(y,f.offset,g.offset):await i(y,f.offset,g.offset),await o(f,y,g),g};return{set start(f){u=f},set stop(f){h=f},render(f,y){const g=l.get(y);return g!==void 0?Promise.resolve(g):d(f,y)}}},YA=a=>e=>(a[0]=e,a[0]),XA={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},WA=(a,e,n,i,o,l)=>class extends a{constructor(h,d){const f=i(h),y={...XA,...d},g=n(f,y),x=o(f)?e():null;super(h,!1,g,x),this._isBufferNullified=!1,this._nativeConvolverNode=g,y.buffer!==null&&l(this,y.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(h){if(this._nativeConvolverNode.buffer=h,h===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(h){this._nativeConvolverNode.normalize=h}},QA=(a,e,n)=>()=>{const i=new WeakMap,o=async(l,u)=>{let h=e(l);if(!an(h,u)){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,disableNormalization:!h.normalize};h=a(u,f)}return i.set(u,h),Hr(h)?await n(l,u,h.inputs[0]):await n(l,u,h),h};return{render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):o(l,u)}}},ZA=(a,e)=>(n,i,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,o)}catch(l){throw l.name==="SyntaxError"?a():l}},KA=()=>new DOMException("","DataCloneError"),__=a=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(i=>{const o=()=>{n.onmessage=null,e.close(),n.close(),i()};n.onmessage=()=>o();try{e.postMessage(a,[a])}catch{}finally{o()}})},JA=(a,e,n,i,o,l,u,h,d,f,y)=>(g,_)=>{const x=u(g)?g:l(g);if(o.has(_)){const v=n();return Promise.reject(v)}try{o.add(_)}catch{}return e(d,()=>d(x))?x.decodeAudioData(_).then(v=>(__(_).catch(()=>{}),e(h,()=>h(v))||y(v),a.add(v),v)):new Promise((v,S)=>{const C=async()=>{try{await __(_)}catch{}},w=O=>{S(O),C()};try{x.decodeAudioData(_,O=>{typeof O.copyFromChannel!="function"&&(f(O),Rp(O)),a.add(O),C().then(()=>v(O))},O=>{w(O===null?i():O)})}catch(O){w(O)}})},eN=(a,e,n,i,o,l,u,h)=>(d,f)=>{const y=e.get(d);if(y===void 0)throw new Error("Missing the expected cycle count.");const g=l(d.context),_=h(g);if(y===f){if(e.delete(d),!_&&u(d)){const x=i(d),{outputs:v}=n(d);for(const S of v)if(yl(S)){const C=i(S[0]);a(x,C,S[1],S[2])}else{const C=o(S[0]);x.connect(C,S[1])}}}else e.set(d,y-f)},tN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},nN=(a,e,n,i,o,l,u)=>class extends a{constructor(d,f){const y=o(d),g={...tN,...f},_=i(y,g),x=l(y),v=x?n(g.maxDelayTime):null;super(d,!1,_,v),this._delayTime=e(this,x,_.delayTime),u(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},sN=(a,e,n,i,o)=>l=>{const u=new WeakMap,h=async(d,f)=>{let y=n(d);const g=an(y,f);if(!g){const _={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,delayTime:y.delayTime.value,maxDelayTime:l};y=e(f,_)}return u.set(f,y),g?await a(f,d.delayTime,y.delayTime):await i(f,d.delayTime,y.delayTime),await o(d,f,y),y};return{render(d,f){const y=u.get(f);return y!==void 0?Promise.resolve(y):h(d,f)}}},iN=a=>(e,n,i,o)=>a(e[o],l=>l[0]===n&&l[1]===i),aN=a=>(e,n)=>{a(e).delete(n)},rN=a=>"delayTime"in a,oN=(a,e,n)=>function i(o,l){const u=pu(l)?l:n(a,l);if(rN(u))return[];if(o[0]===u)return[o];if(o.includes(u))return[];const{outputs:h}=e(u);return Array.from(h).map(d=>i([...o,u],d[0])).reduce((d,f)=>d.concat(f),[])},Zc=(a,e,n)=>{const i=e[n];if(i===void 0)throw a();return i},lN=a=>(e,n=void 0,i=void 0,o=0)=>n===void 0?e.forEach(l=>l.disconnect()):typeof n=="number"?Zc(a,e,n).disconnect():yu(n)?i===void 0?e.forEach(l=>l.disconnect(n)):o===void 0?Zc(a,e,i).disconnect(n,0):Zc(a,e,i).disconnect(n,0,o):i===void 0?e.forEach(l=>l.disconnect(n)):Zc(a,e,i).disconnect(n,0),cN={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},uN=(a,e,n,i,o,l,u,h)=>class extends a{constructor(f,y){const g=l(f),_={...cN,...y},x=i(g,_),v=u(g),S=v?n():null;super(f,!1,x,S),this._attack=e(this,v,x.attack),this._knee=e(this,v,x.knee),this._nativeDynamicsCompressorNode=x,this._ratio=e(this,v,x.ratio),this._release=e(this,v,x.release),this._threshold=e(this,v,x.threshold),h(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(f){const y=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=f,f>2)throw this._nativeDynamicsCompressorNode.channelCount=y,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(f){const y=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=f,f==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=y,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},hN=(a,e,n,i,o)=>()=>{const l=new WeakMap,u=async(h,d)=>{let f=n(h);const y=an(f,d);if(!y){const g={attack:f.attack.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,knee:f.knee.value,ratio:f.ratio.value,release:f.release.value,threshold:f.threshold.value};f=e(d,g)}return l.set(d,f),y?(await a(d,h.attack,f.attack),await a(d,h.knee,f.knee),await a(d,h.ratio,f.ratio),await a(d,h.release,f.release),await a(d,h.threshold,f.threshold)):(await i(d,h.attack,f.attack),await i(d,h.knee,f.knee),await i(d,h.ratio,f.ratio),await i(d,h.release,f.release),await i(d,h.threshold,f.threshold)),await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},dN=()=>new DOMException("","EncodingError"),fN=a=>e=>new Promise((n,i)=>{if(a===null){i(new SyntaxError);return}const o=a.document.head;if(o===null)i(new SyntaxError);else{const l=a.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),h=URL.createObjectURL(u),d=a.onerror,f=()=>{a.onerror=d,URL.revokeObjectURL(h)};a.onerror=(y,g,_,x,v)=>{if(g===h||g===a.location.href&&_===1&&x===1)return f(),i(v),!1;if(d!==null)return d(y,g,_,x,v)},l.onerror=()=>{f(),i(new SyntaxError)},l.onload=()=>{f(),n()},l.src=h,l.type="module",o.appendChild(l)}}),pN=a=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,i,o){if(i!==null){let l=this._listeners.get(i);l===void 0&&(l=a(this,i),typeof i=="function"&&this._listeners.set(i,l)),this._nativeEventTarget.addEventListener(n,l,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,i,o){const l=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(n,l===void 0?null:l,o)}},mN=a=>(e,n,i)=>{Object.defineProperties(a,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{a!==null&&(delete a.currentFrame,delete a.currentTime)}},gN=a=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw a()},yN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},vN=(a,e,n,i,o,l)=>class extends a{constructor(h,d){const f=o(h),y={...yN,...d},g=i(f,y),_=l(f),x=_?n():null;super(h,!1,g,x),this._gain=e(this,_,g.gain,un,En)}get gain(){return this._gain}},_N=(a,e,n,i,o)=>()=>{const l=new WeakMap,u=async(h,d)=>{let f=n(h);const y=an(f,d);if(!y){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:f.gain.value};f=e(d,g)}return l.set(d,f),y?await a(d,h.gain,f.gain):await i(d,h.gain,f.gain),await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},bN=(a,e)=>n=>e(a,n),SN=a=>e=>{const n=a(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},xN=a=>e=>{var n;return(n=a.get(e))!==null&&n!==void 0?n:0},TN=a=>e=>{const n=a(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},CN=a=>e=>a.get(e),Pt=()=>new DOMException("","InvalidStateError"),wN=a=>e=>{const n=a.get(e);if(n===void 0)throw Pt();return n},EN=(a,e)=>n=>{let i=a.get(n);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),a.set(n,i),i},AN=a=>e=>{const n=a.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Uu=()=>new DOMException("","InvalidAccessError"),NN=a=>{a.getFrequencyResponse=(e=>(n,i,o)=>{if(n.length!==i.length||i.length!==o.length)throw Uu();return e.call(a,n,i,o)})(a.getFrequencyResponse)},ON={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},MN=(a,e,n,i,o,l)=>class extends a{constructor(h,d){const f=i(h),y=o(f),g={...ON,...d},_=e(f,y?null:h.baseLatency,g),x=y?n(g.feedback,g.feedforward):null;super(h,!1,_,x),NN(_),this._nativeIIRFilterNode=_,l(this,1)}getFrequencyResponse(h,d,f){return this._nativeIIRFilterNode.getFrequencyResponse(h,d,f)}},$b=(a,e,n,i,o,l,u,h,d,f,y)=>{const g=f.length;let _=h;for(let x=0;x<g;x+=1){let v=n[0]*f[x];for(let S=1;S<o;S+=1){const C=_-S&d-1;v+=n[S]*l[C],v-=a[S]*u[C]}for(let S=o;S<i;S+=1)v+=n[S]*l[_-S&d-1];for(let S=o;S<e;S+=1)v-=a[S]*u[_-S&d-1];l[_]=f[x],u[_]=v,_=_+1&d-1,y[x]=v}return _},kN=(a,e,n,i)=>{const o=n instanceof Float64Array?n:new Float64Array(n),l=i instanceof Float64Array?i:new Float64Array(i),u=o.length,h=l.length,d=Math.min(u,h);if(o[0]!==1){for(let v=0;v<u;v+=1)l[v]/=o[0];for(let v=1;v<h;v+=1)o[v]/=o[0]}const f=32,y=new Float32Array(f),g=new Float32Array(f),_=e.createBuffer(a.numberOfChannels,a.length,a.sampleRate),x=a.numberOfChannels;for(let v=0;v<x;v+=1){const S=a.getChannelData(v),C=_.getChannelData(v);y.fill(0),g.fill(0),$b(o,u,l,h,d,y,g,0,f,S,C)}return _},DN=(a,e,n,i,o)=>(l,u)=>{const h=new WeakMap;let d=null;const f=async(y,g)=>{let _=null,x=e(y);const v=an(x,g);if(g.createIIRFilter===void 0?_=a(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):v||(x=g.createIIRFilter(u,l)),h.set(g,_===null?x:_),_!==null){if(d===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new n(y.context.destination.channelCount,y.context.length,g.sampleRate);d=(async()=>{await i(y,C,C.destination);const w=await o(C);return kN(w,g,l,u)})()}const S=await d;return _.buffer=S,_.start(0),_}return await i(y,g,x),x};return{render(y,g){const _=h.get(g);return _!==void 0?Promise.resolve(_):f(y,g)}}},RN=(a,e,n,i,o,l)=>u=>(h,d)=>{const f=a.get(h);if(f===void 0){if(!u&&l(h)){const y=i(h),{outputs:g}=n(h);for(const _ of g)if(yl(_)){const x=i(_[0]);e(y,x,_[1],_[2])}else{const x=o(_[0]);y.disconnect(x,_[1])}}a.set(h,d)}else a.set(h,f+d)},jN=(a,e)=>n=>{const i=a.get(n);return e(i)||e(n)},LN=(a,e)=>n=>a.has(n)||e(n),zN=(a,e)=>n=>a.has(n)||e(n),VN=(a,e)=>n=>{const i=a.get(n);return e(i)||e(n)},qN=a=>e=>a!==null&&e instanceof a,BN=a=>e=>a!==null&&typeof a.AudioNode=="function"&&e instanceof a.AudioNode,UN=a=>e=>a!==null&&typeof a.AudioParam=="function"&&e instanceof a.AudioParam,IN=(a,e)=>n=>a(n)||e(n),PN=a=>e=>a!==null&&e instanceof a,HN=a=>a!==null&&a.isSecureContext,FN=(a,e,n,i)=>class extends a{constructor(l,u){const h=n(l),d=e(h,u);if(i(h))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},GN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},$N=(a,e,n,i)=>class extends a{constructor(l,u){const h=n(l);if(i(h))throw new TypeError;const d={...GN,...u},f=e(h,d);super(l,!1,f,null),this._nativeMediaStreamAudioDestinationNode=f}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},YN=(a,e,n,i)=>class extends a{constructor(l,u){const h=n(l),d=e(h,u);if(i(h))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},XN=(a,e,n)=>class extends a{constructor(o,l){const u=n(o),h=e(u,l);super(o,!0,h,null)}},WN=(a,e,n,i,o,l)=>class extends n{constructor(h,d){super(h),this._nativeContext=h,qu.set(this,h),i(h)&&o.set(h,new Set),this._destination=new a(this,d),this._listener=e(this,h),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(h){const d=typeof h=="function"?l(this,h):null;this._nativeContext.onstatechange=d;const f=this._nativeContext.onstatechange;this._onstatechange=f!==null&&f===d?h:f}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},rl=a=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=a.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},QN=(a,e)=>(n,i,o)=>{const l=new Set;return n.connect=(u=>(h,d=0,f=0)=>{const y=l.size===0;if(e(h))return u.call(n,h,d,f),a(l,[h,d,f],g=>g[0]===h&&g[1]===d&&g[2]===f,!0),y&&i(),h;u.call(n,h,d),a(l,[h,d],g=>g[0]===h&&g[1]===d,!0),y&&i()})(n.connect),n.disconnect=(u=>(h,d,f)=>{const y=l.size>0;if(h===void 0)u.apply(n),l.clear();else if(typeof h=="number"){u.call(n,h);for(const _ of l)_[1]===h&&l.delete(_)}else{e(h)?u.call(n,h,d,f):u.call(n,h,d);for(const _ of l)_[0]===h&&(d===void 0||_[1]===d)&&(f===void 0||_[2]===f)&&l.delete(_)}const g=l.size===0;y&&g&&o()})(n.disconnect),n},dt=(a,e,n)=>{const i=e[n];i!==void 0&&i!==a[n]&&(a[n]=i)},zt=(a,e)=>{dt(a,e,"channelCount"),dt(a,e,"channelCountMode"),dt(a,e,"channelInterpretation")},b_=a=>typeof a.getFloatTimeDomainData=="function",ZN=a=>{a.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);a.getByteTimeDomainData(n);const i=Math.max(n.length,a.fftSize);for(let o=0;o<i;o+=1)e[o]=(n[o]-128)*.0078125;return e}},KN=(a,e)=>(n,i)=>{const o=n.createAnalyser();if(zt(o,i),!(i.maxDecibels>i.minDecibels))throw e();return dt(o,i,"fftSize"),dt(o,i,"maxDecibels"),dt(o,i,"minDecibels"),dt(o,i,"smoothingTimeConstant"),a(b_,()=>b_(o))||ZN(o),o},JN=a=>a===null?null:a.hasOwnProperty("AudioBuffer")?a.AudioBuffer:null,yt=(a,e,n)=>{const i=e[n];i!==void 0&&i!==a[n].value&&(a[n].value=i)},eO=a=>{a.start=(e=>{let n=!1;return(i=0,o=0,l)=>{if(n)throw Pt();e.call(a,i,o,l),n=!0}})(a.start)},zp=a=>{a.start=(e=>(n=0,i=0,o)=>{if(typeof o=="number"&&o<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(a,n,i,o)})(a.start)},Vp=a=>{a.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(a,n)})(a.stop)},tO=(a,e,n,i,o,l,u,h,d,f,y)=>(g,_)=>{const x=g.createBufferSource();return zt(x,_),yt(x,_,"playbackRate"),dt(x,_,"buffer"),dt(x,_,"loop"),dt(x,_,"loopEnd"),dt(x,_,"loopStart"),e(n,()=>n(g))||eO(x),e(i,()=>i(g))||d(x),e(o,()=>o(g))||f(x,g),e(l,()=>l(g))||zp(x),e(u,()=>u(g))||y(x,g),e(h,()=>h(g))||Vp(x),a(g,x),x},nO=a=>a===null?null:a.hasOwnProperty("AudioContext")?a.AudioContext:a.hasOwnProperty("webkitAudioContext")?a.webkitAudioContext:null,sO=(a,e)=>(n,i,o)=>{const l=n.destination;if(l.channelCount!==i)try{l.channelCount=i}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:i});const u=a(n,{channelCount:i,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return e(u,"channelCount",h=>()=>h.call(u),h=>d=>{h.call(u,d);try{l.channelCount=d}catch(f){if(d>l.maxChannelCount)throw f}}),e(u,"channelCountMode",h=>()=>h.call(u),h=>d=>{h.call(u,d),l.channelCountMode=d}),e(u,"channelInterpretation",h=>()=>h.call(u),h=>d=>{h.call(u,d),l.channelInterpretation=d}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},iO=a=>a===null?null:a.hasOwnProperty("AudioWorkletNode")?a.AudioWorkletNode:null,aO=a=>{const{port1:e}=new MessageChannel;try{e.postMessage(a)}finally{e.close()}},rO=(a,e,n,i,o)=>(l,u,h,d,f,y)=>{if(h!==null)try{const g=new h(l,d,y),_=new Map;let x=null;if(Object.defineProperties(g,{channelCount:{get:()=>y.channelCount,set:()=>{throw a()}},channelCountMode:{get:()=>"explicit",set:()=>{throw a()}},onprocessorerror:{get:()=>x,set:v=>{typeof x=="function"&&g.removeEventListener("processorerror",x),x=typeof v=="function"?v:null,typeof x=="function"&&g.addEventListener("processorerror",x)}}}),g.addEventListener=(v=>(...S)=>{if(S[0]==="processorerror"){const C=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(C!==null){const w=_.get(S[1]);w!==void 0?S[1]=w:(S[1]=O=>{O.type==="error"?(Object.defineProperties(O,{type:{value:"processorerror"}}),C(O)):C(new ErrorEvent(S[0],{...O}))},_.set(C,S[1]))}}return v.call(g,"error",S[1],S[2]),v.call(g,...S)})(g.addEventListener),g.removeEventListener=(v=>(...S)=>{if(S[0]==="processorerror"){const C=_.get(S[1]);C!==void 0&&(_.delete(S[1]),S[1]=C)}return v.call(g,"error",S[1],S[2]),v.call(g,S[0],S[1],S[2])})(g.removeEventListener),y.numberOfOutputs!==0){const v=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(v).connect(l.destination),o(g,()=>v.disconnect(),()=>v.connect(l.destination))}return g}catch(g){throw g.code===11?i():g}if(f===void 0)throw i();return aO(y),e(l,u,f,y)},Yb=(a,e)=>a===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(a*e))))),oO=a=>new Promise((e,n)=>{const{port1:i,port2:o}=new MessageChannel;i.onmessage=({data:l})=>{i.close(),o.close(),e(l)},i.onmessageerror=({data:l})=>{i.close(),o.close(),n(l)},o.postMessage(a)}),lO=async(a,e)=>{const n=await oO(e);return new a(n)},cO=(a,e,n,i)=>{let o=op.get(a);o===void 0&&(o=new WeakMap,op.set(a,o));const l=lO(n,i);return o.set(e,l),l},uO=(a,e,n,i,o,l,u,h,d,f,y,g,_)=>(x,v,S,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw d();const w=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(w.some(le=>le<1))throw d();if(w.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw d();const O=C.channelCount*C.numberOfInputs,k=w.reduce((le,me)=>le+me,0),B=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length;if(O+B>6||k>6)throw d();const N=new MessageChannel,j=[],D=[];for(let le=0;le<C.numberOfInputs;le+=1)j.push(u(x,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),D.push(o(x,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const R=[];if(S.parameterDescriptors!==void 0)for(const{defaultValue:le,maxValue:me,minValue:ut,name:Fe}of S.parameterDescriptors){const Ae=l(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[Fe]!==void 0?C.parameterData[Fe]:le===void 0?0:le});Object.defineProperties(Ae.offset,{defaultValue:{get:()=>le===void 0?0:le},maxValue:{get:()=>me===void 0?un:me},minValue:{get:()=>ut===void 0?En:ut}}),R.push(Ae)}const z=i(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,O+B)}),q=Yb(v,x.sampleRate),I=h(x,q,O+B,Math.max(1,k)),P=o(x,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),J=[];for(let le=0;le<C.numberOfOutputs;le+=1)J.push(i(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[le]}));for(let le=0;le<C.numberOfInputs;le+=1){j[le].connect(D[le]);for(let me=0;me<C.channelCount;me+=1)D[le].connect(z,me,le*C.channelCount+me)}const $=new Fb(S.parameterDescriptors===void 0?[]:S.parameterDescriptors.map(({name:le},me)=>{const ut=R[me];return ut.connect(z,0,O+me),ut.start(0),[le,ut.offset]}));z.connect(I);let se=C.channelInterpretation,V=null;const F=C.numberOfOutputs===0?[I]:J,Z={get bufferSize(){return q},get channelCount(){return C.channelCount},set channelCount(le){throw n()},get channelCountMode(){return C.channelCountMode},set channelCountMode(le){throw n()},get channelInterpretation(){return se},set channelInterpretation(le){for(const me of j)me.channelInterpretation=le;se=le},get context(){return I.context},get inputs(){return j},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(le){typeof V=="function"&&Z.removeEventListener("processorerror",V),V=typeof le=="function"?le:null,typeof V=="function"&&Z.addEventListener("processorerror",V)},get parameters(){return $},get port(){return N.port2},addEventListener(...le){return I.addEventListener(le[0],le[1],le[2])},connect:a.bind(null,F),disconnect:f.bind(null,F),dispatchEvent(...le){return I.dispatchEvent(le[0])},removeEventListener(...le){return I.removeEventListener(le[0],le[1],le[2])}},ie=new Map;N.port1.addEventListener=(le=>(...me)=>{if(me[0]==="message"){const ut=typeof me[1]=="function"?me[1]:typeof me[1]=="object"&&me[1]!==null&&typeof me[1].handleEvent=="function"?me[1].handleEvent:null;if(ut!==null){const Fe=ie.get(me[1]);Fe!==void 0?me[1]=Fe:(me[1]=Ae=>{y(x.currentTime,x.sampleRate,()=>ut(Ae))},ie.set(ut,me[1]))}}return le.call(N.port1,me[0],me[1],me[2])})(N.port1.addEventListener),N.port1.removeEventListener=(le=>(...me)=>{if(me[0]==="message"){const ut=ie.get(me[1]);ut!==void 0&&(ie.delete(me[1]),me[1]=ut)}return le.call(N.port1,me[0],me[1],me[2])})(N.port1.removeEventListener);let ae=null;Object.defineProperty(N.port1,"onmessage",{get:()=>ae,set:le=>{typeof ae=="function"&&N.port1.removeEventListener("message",ae),ae=typeof le=="function"?le:null,typeof ae=="function"&&(N.port1.addEventListener("message",ae),N.port1.start())}}),S.prototype.port=N.port1;let M=null;cO(x,Z,S,C).then(le=>M=le);const ee=_u(C.numberOfInputs,C.channelCount),re=_u(C.numberOfOutputs,w),oe=S.parameterDescriptors===void 0?[]:S.parameterDescriptors.reduce((le,{name:me})=>({...le,[me]:new Float32Array(128)}),{});let ce=!0;const _e=()=>{C.numberOfOutputs>0&&I.disconnect(P);for(let le=0,me=0;le<C.numberOfOutputs;le+=1){const ut=J[le];for(let Fe=0;Fe<w[le];Fe+=1)P.disconnect(ut,me+Fe,Fe);me+=w[le]}},ue=new Map;I.onaudioprocess=({inputBuffer:le,outputBuffer:me})=>{if(M!==null){const ut=g(Z);for(let Fe=0;Fe<q;Fe+=128){for(let Ae=0;Ae<C.numberOfInputs;Ae+=1)for(let je=0;je<C.channelCount;je+=1)vu(le,ee[Ae],je,je,Fe);S.parameterDescriptors!==void 0&&S.parameterDescriptors.forEach(({name:Ae},je)=>{vu(le,oe,Ae,O+je,Fe)});for(let Ae=0;Ae<C.numberOfInputs;Ae+=1)for(let je=0;je<w[Ae];je+=1)re[Ae][je].byteLength===0&&(re[Ae][je]=new Float32Array(128));try{const Ae=ee.map((_t,rn)=>{if(ut[rn].size>0)return ue.set(rn,q/128),_t;const Et=ue.get(rn);return Et===void 0?[]:(_t.every(Zr=>Zr.every(Va=>Va===0))&&(Et===1?ue.delete(rn):ue.set(rn,Et-1)),_t)});ce=y(x.currentTime+Fe/x.sampleRate,x.sampleRate,()=>M.process(Ae,re,oe));for(let _t=0,rn=0;_t<C.numberOfOutputs;_t+=1){for(let Cs=0;Cs<w[_t];Cs+=1)Gb(me,re[_t],Cs,rn+Cs,Fe);rn+=w[_t]}}catch(Ae){ce=!1,Z.dispatchEvent(new ErrorEvent("processorerror",{colno:Ae.colno,filename:Ae.filename,lineno:Ae.lineno,message:Ae.message}))}if(!ce){for(let Ae=0;Ae<C.numberOfInputs;Ae+=1){j[Ae].disconnect(D[Ae]);for(let je=0;je<C.channelCount;je+=1)D[Fe].disconnect(z,je,Ae*C.channelCount+je)}if(S.parameterDescriptors!==void 0){const Ae=S.parameterDescriptors.length;for(let je=0;je<Ae;je+=1){const _t=R[je];_t.disconnect(z,0,O+je),_t.stop()}}z.disconnect(I),I.onaudioprocess=null,ze?_e():Oe();break}}}};let ze=!1;const tt=u(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ye=()=>I.connect(tt).connect(x.destination),Oe=()=>{I.disconnect(tt),tt.disconnect()},Mn=()=>{if(ce){Oe(),C.numberOfOutputs>0&&I.connect(P);for(let le=0,me=0;le<C.numberOfOutputs;le+=1){const ut=J[le];for(let Fe=0;Fe<w[le];Fe+=1)P.connect(ut,me+Fe,Fe);me+=w[le]}}ze=!0},Ht=()=>{ce&&(ye(),_e()),ze=!1};return ye(),_(Z,Mn,Ht)},Xb=(a,e)=>{const n=a.createBiquadFilter();return zt(n,e),yt(n,e,"Q"),yt(n,e,"detune"),yt(n,e,"frequency"),yt(n,e,"gain"),dt(n,e,"type"),n},hO=(a,e)=>(n,i)=>{const o=n.createChannelMerger(i.numberOfInputs);return a!==null&&a.name==="webkitAudioContext"&&e(n,o),zt(o,i),o},dO=a=>{const e=a.numberOfOutputs;Object.defineProperty(a,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Pt()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Pt()}}),Object.defineProperty(a,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Pt()}})},vl=(a,e)=>{const n=a.createChannelSplitter(e.numberOfOutputs);return zt(n,e),dO(n),n},fO=(a,e,n,i,o)=>(l,u)=>{if(l.createConstantSource===void 0)return n(l,u);const h=l.createConstantSource();return zt(h,u),yt(h,u,"offset"),e(i,()=>i(l))||zp(h),e(o,()=>o(l))||Vp(h),a(l,h),h},Fr=(a,e)=>(a.connect=e.connect.bind(e),a.disconnect=e.disconnect.bind(e),a),pO=(a,e,n,i)=>(o,{offset:l,...u})=>{const h=o.createBuffer(1,2,44100),d=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),f=n(o,{...u,gain:l}),y=h.getChannelData(0);y[0]=1,y[1]=1,d.buffer=h,d.loop=!0;const g={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(v){f.channelCount=v},get channelCountMode(){return f.channelCountMode},set channelCountMode(v){f.channelCountMode=v},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(v){f.channelInterpretation=v},get context(){return f.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get offset(){return f.gain},get onended(){return d.onended},set onended(v){d.onended=v},addEventListener(...v){return d.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return d.dispatchEvent(v[0])},removeEventListener(...v){return d.removeEventListener(v[0],v[1],v[2])},start(v=0){d.start.call(d,v)},stop(v=0){d.stop.call(d,v)}},_=()=>d.connect(f),x=()=>d.disconnect(f);return a(o,d),i(Fr(g,f),_,x)},mO=(a,e)=>(n,i)=>{const o=n.createConvolver();if(zt(o,i),i.disableNormalization===o.normalize&&(o.normalize=!i.disableNormalization),dt(o,i,"buffer"),i.channelCount>2||(e(o,"channelCount",l=>()=>l.call(o),l=>u=>{if(u>2)throw a();return l.call(o,u)}),i.channelCountMode==="max"))throw a();return e(o,"channelCountMode",l=>()=>l.call(o),l=>u=>{if(u==="max")throw a();return l.call(o,u)}),o},Wb=(a,e)=>{const n=a.createDelay(e.maxDelayTime);return zt(n,e),yt(n,e,"delayTime"),n},gO=a=>(e,n)=>{const i=e.createDynamicsCompressor();if(zt(i,n),n.channelCount>2||n.channelCountMode==="max")throw a();return yt(i,n,"attack"),yt(i,n,"knee"),yt(i,n,"ratio"),yt(i,n,"release"),yt(i,n,"threshold"),i},Nn=(a,e)=>{const n=a.createGain();return zt(n,e),yt(n,e,"gain"),n},yO=a=>(e,n,i)=>{if(e.createIIRFilter===void 0)return a(e,n,i);const o=e.createIIRFilter(i.feedforward,i.feedback);return zt(o,i),o};function vO(a,e){const n=e[0]*e[0]+e[1]*e[1];return[(a[0]*e[0]+a[1]*e[1])/n,(a[1]*e[0]-a[0]*e[1])/n]}function _O(a,e){return[a[0]*e[0]-a[1]*e[1],a[0]*e[1]+a[1]*e[0]]}function S_(a,e){let n=[0,0];for(let i=a.length-1;i>=0;i-=1)n=_O(n,e),n[0]+=a[i];return n}const bO=(a,e,n,i)=>(o,l,{channelCount:u,channelCountMode:h,channelInterpretation:d,feedback:f,feedforward:y})=>{const g=Yb(l,o.sampleRate),_=f instanceof Float64Array?f:new Float64Array(f),x=y instanceof Float64Array?y:new Float64Array(y),v=_.length,S=x.length,C=Math.min(v,S);if(v===0||v>20)throw i();if(_[0]===0)throw e();if(S===0||S>20)throw i();if(x[0]===0)throw e();if(_[0]!==1){for(let R=0;R<S;R+=1)x[R]/=_[0];for(let R=1;R<v;R+=1)_[R]/=_[0]}const w=n(o,g,u,u);w.channelCount=u,w.channelCountMode=h,w.channelInterpretation=d;const O=32,k=[],B=[],N=[];for(let R=0;R<u;R+=1){k.push(0);const z=new Float32Array(O),q=new Float32Array(O);z.fill(0),q.fill(0),B.push(z),N.push(q)}w.onaudioprocess=R=>{const z=R.inputBuffer,q=R.outputBuffer,I=z.numberOfChannels;for(let P=0;P<I;P+=1){const J=z.getChannelData(P),$=q.getChannelData(P);k[P]=$b(_,v,x,S,C,B[P],N[P],k[P],O,J,$)}};const j=o.sampleRate/2;return Fr({get bufferSize(){return g},get channelCount(){return w.channelCount},set channelCount(R){w.channelCount=R},get channelCountMode(){return w.channelCountMode},set channelCountMode(R){w.channelCountMode=R},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(R){w.channelInterpretation=R},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},addEventListener(...R){return w.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return w.dispatchEvent(R[0])},getFrequencyResponse(R,z,q){if(R.length!==z.length||z.length!==q.length)throw a();const I=R.length;for(let P=0;P<I;P+=1){const J=-Math.PI*(R[P]/j),$=[Math.cos(J),Math.sin(J)],se=S_(x,$),V=S_(_,$),F=vO(se,V);z[P]=Math.sqrt(F[0]*F[0]+F[1]*F[1]),q[P]=Math.atan2(F[1],F[0])}},removeEventListener(...R){return w.removeEventListener(R[0],R[1],R[2])}},w)},SO=(a,e)=>a.createMediaElementSource(e.mediaElement),xO=(a,e)=>{const n=a.createMediaStreamDestination();return zt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},TO=(a,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const i=n.slice(0,1),o=a.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(o,"mediaStream",{value:e}),o},CO=(a,e)=>(n,{mediaStreamTrack:i})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(i);const o=new MediaStream([i]),l=n.createMediaStreamSource(o);if(i.kind!=="audio")throw a();if(e(n))throw new TypeError;return l},wO=a=>a===null?null:a.hasOwnProperty("OfflineAudioContext")?a.OfflineAudioContext:a.hasOwnProperty("webkitOfflineAudioContext")?a.webkitOfflineAudioContext:null,EO=(a,e,n,i,o,l)=>(u,h)=>{const d=u.createOscillator();return zt(d,h),yt(d,h,"detune"),yt(d,h,"frequency"),h.periodicWave!==void 0?d.setPeriodicWave(h.periodicWave):dt(d,h,"type"),e(n,()=>n(u))||zp(d),e(i,()=>i(u))||l(d,u),e(o,()=>o(u))||Vp(d),a(u,d),d},AO=a=>(e,n)=>{const i=e.createPanner();return i.orientationX===void 0?a(e,n):(zt(i,n),yt(i,n,"orientationX"),yt(i,n,"orientationY"),yt(i,n,"orientationZ"),yt(i,n,"positionX"),yt(i,n,"positionY"),yt(i,n,"positionZ"),dt(i,n,"coneInnerAngle"),dt(i,n,"coneOuterAngle"),dt(i,n,"coneOuterGain"),dt(i,n,"distanceModel"),dt(i,n,"maxDistance"),dt(i,n,"panningModel"),dt(i,n,"refDistance"),dt(i,n,"rolloffFactor"),i)},NO=(a,e,n,i,o,l,u,h,d,f)=>(y,{coneInnerAngle:g,coneOuterAngle:_,coneOuterGain:x,distanceModel:v,maxDistance:S,orientationX:C,orientationY:w,orientationZ:O,panningModel:k,positionX:B,positionY:N,positionZ:j,refDistance:D,rolloffFactor:R,...z})=>{const q=y.createPanner();if(z.channelCount>2||z.channelCountMode==="max")throw u();zt(q,z);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},P=n(y,{...I,channelInterpretation:"speakers",numberOfInputs:6}),J=i(y,{...z,gain:1}),$=i(y,{...I,gain:1}),se=i(y,{...I,gain:0}),V=i(y,{...I,gain:0}),F=i(y,{...I,gain:0}),Z=i(y,{...I,gain:0}),ie=i(y,{...I,gain:0}),ae=o(y,256,6,1),M=l(y,{...I,curve:new Float32Array([1,1]),oversample:"none"});let G=[C,w,O],ee=[B,N,j];const re=new Float32Array(1);ae.onaudioprocess=({inputBuffer:ue})=>{const ze=[d(ue,re,0),d(ue,re,1),d(ue,re,2)];ze.some((ye,Oe)=>ye!==G[Oe])&&(q.setOrientation(...ze),G=ze);const tt=[d(ue,re,3),d(ue,re,4),d(ue,re,5)];tt.some((ye,Oe)=>ye!==ee[Oe])&&(q.setPosition(...tt),ee=tt)},Object.defineProperty(se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0});const oe={get bufferSize(){},get channelCount(){return q.channelCount},set channelCount(ue){if(ue>2)throw u();J.channelCount=ue,q.channelCount=ue},get channelCountMode(){return q.channelCountMode},set channelCountMode(ue){if(ue==="max")throw u();J.channelCountMode=ue,q.channelCountMode=ue},get channelInterpretation(){return q.channelInterpretation},set channelInterpretation(ue){J.channelInterpretation=ue,q.channelInterpretation=ue},get coneInnerAngle(){return q.coneInnerAngle},set coneInnerAngle(ue){q.coneInnerAngle=ue},get coneOuterAngle(){return q.coneOuterAngle},set coneOuterAngle(ue){q.coneOuterAngle=ue},get coneOuterGain(){return q.coneOuterGain},set coneOuterGain(ue){if(ue<0||ue>1)throw e();q.coneOuterGain=ue},get context(){return q.context},get distanceModel(){return q.distanceModel},set distanceModel(ue){q.distanceModel=ue},get inputs(){return[J]},get maxDistance(){return q.maxDistance},set maxDistance(ue){if(ue<0)throw new RangeError;q.maxDistance=ue},get numberOfInputs(){return q.numberOfInputs},get numberOfOutputs(){return q.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return se.gain},get orientationZ(){return V.gain},get panningModel(){return q.panningModel},set panningModel(ue){q.panningModel=ue},get positionX(){return F.gain},get positionY(){return Z.gain},get positionZ(){return ie.gain},get refDistance(){return q.refDistance},set refDistance(ue){if(ue<0)throw new RangeError;q.refDistance=ue},get rolloffFactor(){return q.rolloffFactor},set rolloffFactor(ue){if(ue<0)throw new RangeError;q.rolloffFactor=ue},addEventListener(...ue){return J.addEventListener(ue[0],ue[1],ue[2])},dispatchEvent(...ue){return J.dispatchEvent(ue[0])},removeEventListener(...ue){return J.removeEventListener(ue[0],ue[1],ue[2])}};g!==oe.coneInnerAngle&&(oe.coneInnerAngle=g),_!==oe.coneOuterAngle&&(oe.coneOuterAngle=_),x!==oe.coneOuterGain&&(oe.coneOuterGain=x),v!==oe.distanceModel&&(oe.distanceModel=v),S!==oe.maxDistance&&(oe.maxDistance=S),C!==oe.orientationX.value&&(oe.orientationX.value=C),w!==oe.orientationY.value&&(oe.orientationY.value=w),O!==oe.orientationZ.value&&(oe.orientationZ.value=O),k!==oe.panningModel&&(oe.panningModel=k),B!==oe.positionX.value&&(oe.positionX.value=B),N!==oe.positionY.value&&(oe.positionY.value=N),j!==oe.positionZ.value&&(oe.positionZ.value=j),D!==oe.refDistance&&(oe.refDistance=D),R!==oe.rolloffFactor&&(oe.rolloffFactor=R),(G[0]!==1||G[1]!==0||G[2]!==0)&&q.setOrientation(...G),(ee[0]!==0||ee[1]!==0||ee[2]!==0)&&q.setPosition(...ee);const ce=()=>{J.connect(q),a(J,M,0,0),M.connect($).connect(P,0,0),M.connect(se).connect(P,0,1),M.connect(V).connect(P,0,2),M.connect(F).connect(P,0,3),M.connect(Z).connect(P,0,4),M.connect(ie).connect(P,0,5),P.connect(ae).connect(y.destination)},_e=()=>{J.disconnect(q),h(J,M,0,0),M.disconnect($),$.disconnect(P),M.disconnect(se),se.disconnect(P),M.disconnect(V),V.disconnect(P),M.disconnect(F),F.disconnect(P),M.disconnect(Z),Z.disconnect(P),M.disconnect(ie),ie.disconnect(P),P.disconnect(ae),ae.disconnect(y.destination)};return f(Fr(oe,q),ce,_e)},OO=a=>(e,{disableNormalization:n,imag:i,real:o})=>{const l=i instanceof Float32Array?i:new Float32Array(i),u=o instanceof Float32Array?o:new Float32Array(o),h=e.createPeriodicWave(u,l,{disableNormalization:n});if(Array.from(i).length<2)throw a();return h},_l=(a,e,n,i)=>a.createScriptProcessor(e,n,i),MO=(a,e)=>(n,i)=>{const o=i.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return a(n,i);const l=n.createStereoPanner();return zt(l,i),yt(l,i,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:u=>{if(u!==o)throw e()}}),l},kO=(a,e,n,i,o,l)=>{const h=new Float32Array([1,1]),d=Math.PI/2,f={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},y={...f,oversample:"none"},g=(v,S,C,w)=>{const O=new Float32Array(16385),k=new Float32Array(16385);for(let z=0;z<16385;z+=1){const q=z/16384*d;O[z]=Math.cos(q),k[z]=Math.sin(q)}const B=n(v,{...f,gain:0}),N=i(v,{...y,curve:O}),j=i(v,{...y,curve:h}),D=n(v,{...f,gain:0}),R=i(v,{...y,curve:k});return{connectGraph(){S.connect(B),S.connect(j.inputs===void 0?j:j.inputs[0]),S.connect(D),j.connect(C),C.connect(N.inputs===void 0?N:N.inputs[0]),C.connect(R.inputs===void 0?R:R.inputs[0]),N.connect(B.gain),R.connect(D.gain),B.connect(w,0,0),D.connect(w,0,1)},disconnectGraph(){S.disconnect(B),S.disconnect(j.inputs===void 0?j:j.inputs[0]),S.disconnect(D),j.disconnect(C),C.disconnect(N.inputs===void 0?N:N.inputs[0]),C.disconnect(R.inputs===void 0?R:R.inputs[0]),N.disconnect(B.gain),R.disconnect(D.gain),B.disconnect(w,0,0),D.disconnect(w,0,1)}}},_=(v,S,C,w)=>{const O=new Float32Array(16385),k=new Float32Array(16385),B=new Float32Array(16385),N=new Float32Array(16385),j=Math.floor(16385/2);for(let F=0;F<16385;F+=1)if(F>j){const Z=(F-j)/(16384-j)*d;O[F]=Math.cos(Z),k[F]=Math.sin(Z),B[F]=0,N[F]=1}else{const Z=F/(16384-j)*d;O[F]=1,k[F]=0,B[F]=Math.cos(Z),N[F]=Math.sin(Z)}const D=e(v,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),R=n(v,{...f,gain:0}),z=i(v,{...y,curve:O}),q=n(v,{...f,gain:0}),I=i(v,{...y,curve:k}),P=i(v,{...y,curve:h}),J=n(v,{...f,gain:0}),$=i(v,{...y,curve:B}),se=n(v,{...f,gain:0}),V=i(v,{...y,curve:N});return{connectGraph(){S.connect(D),S.connect(P.inputs===void 0?P:P.inputs[0]),D.connect(R,0),D.connect(q,0),D.connect(J,1),D.connect(se,1),P.connect(C),C.connect(z.inputs===void 0?z:z.inputs[0]),C.connect(I.inputs===void 0?I:I.inputs[0]),C.connect($.inputs===void 0?$:$.inputs[0]),C.connect(V.inputs===void 0?V:V.inputs[0]),z.connect(R.gain),I.connect(q.gain),$.connect(J.gain),V.connect(se.gain),R.connect(w,0,0),J.connect(w,0,0),q.connect(w,0,1),se.connect(w,0,1)},disconnectGraph(){S.disconnect(D),S.disconnect(P.inputs===void 0?P:P.inputs[0]),D.disconnect(R,0),D.disconnect(q,0),D.disconnect(J,1),D.disconnect(se,1),P.disconnect(C),C.disconnect(z.inputs===void 0?z:z.inputs[0]),C.disconnect(I.inputs===void 0?I:I.inputs[0]),C.disconnect($.inputs===void 0?$:$.inputs[0]),C.disconnect(V.inputs===void 0?V:V.inputs[0]),z.disconnect(R.gain),I.disconnect(q.gain),$.disconnect(J.gain),V.disconnect(se.gain),R.disconnect(w,0,0),J.disconnect(w,0,0),q.disconnect(w,0,1),se.disconnect(w,0,1)}}},x=(v,S,C,w,O)=>{if(S===1)return g(v,C,w,O);if(S===2)return _(v,C,w,O);throw o()};return(v,{channelCount:S,channelCountMode:C,pan:w,...O})=>{if(C==="max")throw o();const k=a(v,{...O,channelCount:1,channelCountMode:C,numberOfInputs:2}),B=n(v,{...O,channelCount:S,channelCountMode:C,gain:1}),N=n(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:w});let{connectGraph:j,disconnectGraph:D}=x(v,S,B,N,k);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});const R={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(P){B.channelCount!==P&&(z&&D(),{connectGraph:j,disconnectGraph:D}=x(v,P,B,N,k),z&&j()),B.channelCount=P},get channelCountMode(){return B.channelCountMode},set channelCountMode(P){if(P==="clamped-max"||P==="max")throw o();B.channelCountMode=P},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(P){B.channelInterpretation=P},get context(){return B.context},get inputs(){return[B]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get pan(){return N.gain},addEventListener(...P){return B.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return B.dispatchEvent(P[0])},removeEventListener(...P){return B.removeEventListener(P[0],P[1],P[2])}};let z=!1;const q=()=>{j(),z=!0},I=()=>{D(),z=!1};return l(Fr(R,k),q,I)}},DO=(a,e,n,i,o,l,u)=>(h,d)=>{const f=h.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&h.createGain().gain.automationRate===void 0)return n(h,d);zt(f,d);const y=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(y!==null&&y.length<2)throw e();dt(f,{curve:y},"curve"),dt(f,d,"oversample");let g=null,_=!1;return u(f,"curve",S=>()=>S.call(f),S=>C=>(S.call(f,C),_&&(i(C)&&g===null?g=a(h,f):!i(C)&&g!==null&&(g(),g=null)),C)),o(f,()=>{_=!0,i(f.curve)&&(g=a(h,f))},()=>{_=!1,g!==null&&(g(),g=null)})},RO=(a,e,n,i,o)=>(l,{curve:u,oversample:h,...d})=>{const f=l.createWaveShaper(),y=l.createWaveShaper();zt(f,d),zt(y,d);const g=n(l,{...d,gain:1}),_=n(l,{...d,gain:-1}),x=n(l,{...d,gain:1}),v=n(l,{...d,gain:-1});let S=null,C=!1,w=null;const O={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(N){g.channelCount=N,_.channelCount=N,f.channelCount=N,x.channelCount=N,y.channelCount=N,v.channelCount=N},get channelCountMode(){return f.channelCountMode},set channelCountMode(N){g.channelCountMode=N,_.channelCountMode=N,f.channelCountMode=N,x.channelCountMode=N,y.channelCountMode=N,v.channelCountMode=N},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(N){g.channelInterpretation=N,_.channelInterpretation=N,f.channelInterpretation=N,x.channelInterpretation=N,y.channelInterpretation=N,v.channelInterpretation=N},get context(){return f.context},get curve(){return w},set curve(N){if(N!==null&&N.length<2)throw e();if(N===null)f.curve=N,y.curve=N;else{const j=N.length,D=new Float32Array(j+2-j%2),R=new Float32Array(j+2-j%2);D[0]=N[0],R[0]=-N[j-1];const z=Math.ceil((j+1)/2),q=(j+1)/2-1;for(let I=1;I<z;I+=1){const P=I/z*q,J=Math.floor(P),$=Math.ceil(P);D[I]=J===$?N[J]:(1-(P-J))*N[J]+(1-($-P))*N[$],R[I]=J===$?-N[j-1-J]:-((1-(P-J))*N[j-1-J])-(1-($-P))*N[j-1-$]}D[z]=j%2===1?N[z-1]:(N[z-2]+N[z-1])/2,f.curve=D,y.curve=R}w=N,C&&(i(w)&&S===null?S=a(l,g):S!==null&&(S(),S=null))},get inputs(){return[g]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get oversample(){return f.oversample},set oversample(N){f.oversample=N,y.oversample=N},addEventListener(...N){return g.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return g.dispatchEvent(N[0])},removeEventListener(...N){return g.removeEventListener(N[0],N[1],N[2])}};u!==null&&(O.curve=u instanceof Float32Array?u:new Float32Array(u)),h!==O.oversample&&(O.oversample=h);const k=()=>{g.connect(f).connect(x),g.connect(_).connect(y).connect(v).connect(x),C=!0,i(w)&&(S=a(l,g))},B=()=>{g.disconnect(f),f.disconnect(x),g.disconnect(_),_.disconnect(y),y.disconnect(v),v.disconnect(x),C=!1,S!==null&&(S(),S=null)};return o(Fr(O,x),k,B)},pn=()=>new DOMException("","NotSupportedError"),jO={numberOfChannels:1},LO=(a,e,n,i,o)=>class extends a{constructor(u,h,d){let f;if(typeof u=="number"&&h!==void 0&&d!==void 0)f={length:h,numberOfChannels:u,sampleRate:d};else if(typeof u=="object")f=u;else throw new Error("The given parameters are not valid.");const{length:y,numberOfChannels:g,sampleRate:_}={...jO,...f},x=i(g,y,_);e(rl,()=>rl(x))||x.addEventListener("statechange",(()=>{let v=0;const S=C=>{this._state==="running"&&(v>0?(x.removeEventListener("statechange",S),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):v+=1)};return S})()),super(x,g),this._length=y,this._nativeOfflineAudioContext=x,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Ub(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},zO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},VO=(a,e,n,i,o,l,u)=>class extends a{constructor(d,f){const y=o(d),g={...zO,...f},_=n(y,g),x=l(y),v=x?i():null,S=d.sampleRate/2;super(d,!1,_,v),this._detune=e(this,x,_.detune,153600,-153600),this._frequency=e(this,x,_.frequency,S,-S),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=v,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?u(this,d):null;this._nativeOscillatorNode.onended=f;const y=this._nativeOscillatorNode.onended;this._onended=y!==null&&y===f?d:y}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){zr(this);const f=()=>{this._nativeOscillatorNode.removeEventListener("ended",f),hi(this)&&ml(this)};this._nativeOscillatorNode.addEventListener("ended",f)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},qO=(a,e,n,i,o)=>()=>{const l=new WeakMap;let u=null,h=null,d=null;const f=async(y,g)=>{let _=n(y);const x=an(_,g);if(!x){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:u===null?void 0:u,type:_.type};_=e(g,v),h!==null&&_.start(h),d!==null&&_.stop(d)}return l.set(g,_),x?(await a(g,y.detune,_.detune),await a(g,y.frequency,_.frequency)):(await i(g,y.detune,_.detune),await i(g,y.frequency,_.frequency)),await o(y,g,_),_};return{set periodicWave(y){u=y},set start(y){h=y},set stop(y){d=y},render(y,g){const _=l.get(g);return _!==void 0?Promise.resolve(_):f(y,g)}}},BO={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},UO=(a,e,n,i,o,l,u)=>class extends a{constructor(d,f){const y=o(d),g={...BO,...f},_=n(y,g),x=l(y),v=x?i():null;super(d,!1,_,v),this._nativePannerNode=_,this._orientationX=e(this,x,_.orientationX,un,En),this._orientationY=e(this,x,_.orientationY,un,En),this._orientationZ=e(this,x,_.orientationZ,un,En),this._positionX=e(this,x,_.positionX,un,En),this._positionY=e(this,x,_.positionY,un,En),this._positionZ=e(this,x,_.positionZ,un,En),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},IO=(a,e,n,i,o,l,u,h,d,f)=>()=>{const y=new WeakMap;let g=null;const _=async(x,v)=>{let S=null,C=l(x);const w={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},O={...w,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},k=an(C,v);if("bufferSize"in C)S=i(v,{...w,gain:1});else if(!k){const B={...O,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=o(v,B)}if(y.set(v,S===null?C:S),S!==null){if(g===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new u(6,x.context.length,v.sampleRate),P=e(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(I.destination),g=(async()=>{const J=await Promise.all([x.orientationX,x.orientationY,x.orientationZ,x.positionX,x.positionY,x.positionZ].map(async($,se)=>{const V=n(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se===0?1:0});return await h(I,$,V.offset),V}));for(let $=0;$<6;$+=1)J[$].connect(P,0,$),J[$].start(0);return f(I)})()}const B=await g,N=i(v,{...w,gain:1});await d(x,v,N);const j=[];for(let I=0;I<B.numberOfChannels;I+=1)j.push(B.getChannelData(I));let D=[j[0][0],j[1][0],j[2][0]],R=[j[3][0],j[4][0],j[5][0]],z=i(v,{...w,gain:1}),q=o(v,{...O,orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:R[0],positionY:R[1],positionZ:R[2]});N.connect(z).connect(q.inputs[0]),q.connect(S);for(let I=128;I<B.length;I+=128){const P=[j[0][I],j[1][I],j[2][I]],J=[j[3][I],j[4][I],j[5][I]];if(P.some(($,se)=>$!==D[se])||J.some(($,se)=>$!==R[se])){D=P,R=J;const $=I/v.sampleRate;z.gain.setValueAtTime(0,$),z=i(v,{...w,gain:0}),q=o(v,{...O,orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),z.gain.setValueAtTime(1,$),N.connect(z).connect(q.inputs[0]),q.connect(S)}}return S}return k?(await a(v,x.orientationX,C.orientationX),await a(v,x.orientationY,C.orientationY),await a(v,x.orientationZ,C.orientationZ),await a(v,x.positionX,C.positionX),await a(v,x.positionY,C.positionY),await a(v,x.positionZ,C.positionZ)):(await h(v,x.orientationX,C.orientationX),await h(v,x.orientationY,C.orientationY),await h(v,x.orientationZ,C.orientationZ),await h(v,x.positionX,C.positionX),await h(v,x.positionY,C.positionY),await h(v,x.positionZ,C.positionZ)),Hr(C)?await d(x,v,C.inputs[0]):await d(x,v,C),C};return{render(x,v){const S=y.get(v);return S!==void 0?Promise.resolve(S):_(x,v)}}},PO={disableNormalization:!1},HO=(a,e,n,i)=>class Qb{constructor(l,u){const h=e(l),d=i({...PO,...u}),f=a(h,d);return n.add(f),f}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===Qb.prototype||n.has(l)}},FO=(a,e)=>(n,i,o)=>(a(i).replay(o),e(i,n,o)),GO=(a,e,n)=>async(i,o,l)=>{const u=a(i);await Promise.all(u.activeInputs.map((h,d)=>Array.from(h).map(async([f,y])=>{const _=await e(f).render(f,o),x=i.context.destination;!n(f)&&(i!==x||!n(i))&&_.connect(l,y,d)})).reduce((h,d)=>[...h,...d],[]))},$O=(a,e,n)=>async(i,o,l)=>{const u=e(i);await Promise.all(Array.from(u.activeInputs).map(async([h,d])=>{const y=await a(h).render(h,o);n(h)||y.connect(l,d)}))},YO=(a,e,n,i)=>o=>a(rl,()=>rl(o))?Promise.resolve(a(i,i)).then(l=>{if(!l){const u=n(o,512,0,1);o.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>o.currentTime,u.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const u=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=h=>{u.disconnect(),l(h.renderedBuffer)},u.connect(o.destination),o.startRendering()}),XO=a=>(e,n)=>{a.set(e,n)},WO=a=>(e,n)=>a.set(e,n),QO=(a,e,n,i,o,l,u,h)=>(d,f)=>n(d).render(d,f).then(()=>Promise.all(Array.from(i(f)).map(y=>n(y).render(y,f)))).then(()=>o(f)).then(y=>(typeof y.copyFromChannel!="function"?(u(y),Rp(y)):e(l,()=>l(y))||h(y),a.add(y),y)),ZO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},KO=(a,e,n,i,o,l)=>class extends a{constructor(h,d){const f=o(h),y={...ZO,...d},g=n(f,y),_=l(f),x=_?i():null;super(h,!1,g,x),this._pan=e(this,_,g.pan)}get pan(){return this._pan}},JO=(a,e,n,i,o)=>()=>{const l=new WeakMap,u=async(h,d)=>{let f=n(h);const y=an(f,d);if(!y){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,pan:f.pan.value};f=e(d,g)}return l.set(d,f),y?await a(d,h.pan,f.pan):await i(d,h.pan,f.pan),Hr(f)?await o(h,d,f.inputs[0]):await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},eM=a=>()=>{if(a===null)return!1;try{new a({length:1,sampleRate:44100})}catch{return!1}return!0},tM=(a,e)=>async()=>{if(a===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),o=URL.createObjectURL(n);let l=!1,u=!1;try{await i.audioWorklet.addModule(o);const h=new a(i,"a",{numberOfOutputs:0}),d=i.createOscillator();h.port.onmessage=()=>l=!0,h.onprocessorerror=()=>u=!0,d.connect(h),d.start(0),await i.startRendering(),await new Promise(f=>setTimeout(f))}catch{}finally{URL.revokeObjectURL(o)}return l&&!u},nM=(a,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),i=a(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{i.disconnect(),o(n.currentTime!==0)},n.startRendering()})},sM=()=>new DOMException("","UnknownError"),iM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},aM=(a,e,n,i,o,l,u)=>class extends a{constructor(d,f){const y=o(d),g={...iM,...f},_=n(y,g),v=l(y)?i():null;super(d,!0,_,v),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},rM=(a,e,n)=>()=>{const i=new WeakMap,o=async(l,u)=>{let h=e(l);if(!an(h,u)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,curve:h.curve,oversample:h.oversample};h=a(u,f)}return i.set(u,h),Hr(h)?await n(l,u,h.inputs[0]):await n(l,u,h),h};return{render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):o(l,u)}}},oM=()=>typeof window>"u"?null:window,lM=(a,e)=>n=>{n.copyFromChannel=(i,o,l=0)=>{const u=a(l),h=a(o);if(h>=n.numberOfChannels)throw e();const d=n.length,f=n.getChannelData(h),y=i.length;for(let g=u<0?-u:0;g+u<d&&g<y;g+=1)i[g]=f[g+u]},n.copyToChannel=(i,o,l=0)=>{const u=a(l),h=a(o);if(h>=n.numberOfChannels)throw e();const d=n.length,f=n.getChannelData(h),y=i.length;for(let g=u<0?-u:0;g+u<d&&g<y;g+=1)f[g+u]=i[g]}},cM=a=>e=>{e.copyFromChannel=(n=>(i,o,l=0)=>{const u=a(l),h=a(o);if(u<e.length)return n.call(e,i,h,u)})(e.copyFromChannel),e.copyToChannel=(n=>(i,o,l=0)=>{const u=a(l),h=a(o);if(u<e.length)return n.call(e,i,h,u)})(e.copyToChannel)},uM=a=>(e,n)=>{const i=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),a(e,"buffer",o=>()=>{const l=o.call(e);return l===i?null:l},o=>l=>o.call(e,l===null?i:l))},hM=(a,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw a()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw a()}});const o=n.createBufferSource();e(i,()=>{const h=i.numberOfInputs;for(let d=0;d<h;d+=1)o.connect(i,0,d)},()=>o.disconnect(i))},Zb=(a,e,n)=>a.copyFromChannel===void 0?a.getChannelData(n)[0]:(a.copyFromChannel(e,n),e[0]),Kb=a=>{if(a===null)return!1;const e=a.length;return e%2!==0?a[Math.floor(e/2)]!==0:a[e/2-1]+a[e/2]!==0},bl=(a,e,n,i)=>{let o=a;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:l,set:u}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(a,e,{get:n(l),set:i(u)})},dM=a=>({...a,outputChannelCount:a.outputChannelCount!==void 0?a.outputChannelCount:a.numberOfInputs===1&&a.numberOfOutputs===1?[a.channelCount]:Array.from({length:a.numberOfOutputs},()=>1)}),fM=a=>({...a,channelCount:a.numberOfOutputs}),pM=a=>{const{imag:e,real:n}=a;return e===void 0?n===void 0?{...a,imag:[0,0],real:[0,0]}:{...a,imag:Array.from(n,()=>0),real:n}:n===void 0?{...a,imag:e,real:Array.from(e,()=>0)}:{...a,imag:e,real:n}},Jb=(a,e,n)=>{try{a.setValueAtTime(e,n)}catch(i){if(i.code!==9)throw i;Jb(a,e,n+1e-7)}},mM=a=>{const e=a.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},gM=a=>{const e=a.createBufferSource(),n=a.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},yM=a=>{const e=a.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},qp=a=>{const e=a.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},e1=a=>{const e=a.createBuffer(1,1,44100),n=a.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Bp=a=>{const e=a.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},vM=a=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(a)}finally{e.close(),n.close()}},_M=a=>{a.start=(e=>(n=0,i=0,o)=>{const l=a.buffer,u=l===null?i:Math.min(l.duration,i);l!==null&&u>l.duration-.5/a.context.sampleRate?e.call(a,n,0,0):e.call(a,n,u,o)})(a.start)},t1=(a,e)=>{const n=e.createGain();a.connect(n);const i=(o=>()=>{o.call(a,n),a.removeEventListener("ended",i)})(a.disconnect);a.addEventListener("ended",i),Fr(a,n),a.stop=(o=>{let l=!1;return(u=0)=>{if(l)try{o.call(a,u)}catch{n.gain.setValueAtTime(0,u)}else o.call(a,u),l=!0}})(a.stop)},Gr=(a,e)=>n=>{const i={value:a};return Object.defineProperties(n,{currentTarget:i,target:i}),typeof e=="function"?e.call(a,n):e.handleEvent.call(a,n)},bM=UE(Da),SM=$E(Da),xM=iN(Bu),n1=new WeakMap,TM=xN(n1),Ss=jA(new Map,new WeakMap),js=oM(),s1=KN(Ss,Vs),Up=SN(hn),Zt=GO(hn,Up,Aa),CM=ZE(s1,ct,Zt),at=wN(qu),mi=wO(js),et=PN(mi),i1=new WeakMap,a1=pN(Gr),Sl=nO(js),Ip=qN(Sl),Pp=BN(js),r1=UN(js),ol=iO(js),wt=xA(IE(Rb),GE(bM,SM,mu,xM,gu,hn,TM,pl,ct,Da,hi,Aa,su),Ss,RN(ap,gu,hn,ct,al,hi),Vs,Uu,pn,eN(mu,ap,hn,ct,al,at,hi,et),oN(i1,hn,gs),a1,at,Ip,Pp,r1,et,ol),wM=QE(wt,CM,Vs,s1,at,et),Hp=new WeakSet,x_=JN(js),o1=YA(new Uint32Array(1)),Fp=lM(o1,Vs),Gp=cM(o1),l1=JE(Hp,Ss,pn,x_,mi,eM(x_),Fp,Gp),Iu=YE(Nn),c1=$O(Up,gl,Aa),qs=IA(c1),$r=tO(Iu,Ss,mM,gM,yM,qp,e1,Bp,_M,uM(bl),t1),Bs=FO(TN(gl),c1),EM=nA(qs,$r,ct,Bs,Zt),xs=TA(PE(jb),i1,Dp,CA,jE,LE,zE,VE,qE,np,kb,Sl,Jb),AM=tA(wt,EM,xs,Pt,$r,at,et,Gr),NM=hA(wt,dA,Vs,Pt,sO(Nn,bl),at,et,Zt),OM=RA(qs,Xb,ct,Bs,Zt),Ra=WO(n1),MM=DA(wt,xs,OM,Uu,Xb,at,et,Ra),Ji=QN(Da,Pp),kM=hM(Pt,Ji),ea=hO(Sl,kM),DM=VA(ea,ct,Zt),RM=zA(wt,DM,ea,at,et),jM=UA(vl,ct,Zt),LM=BA(wt,jM,vl,at,et,fM),zM=pO(Iu,$r,Nn,Ji),Yr=fO(Iu,Ss,zM,qp,Bp),VM=$A(qs,Yr,ct,Bs,Zt),qM=GA(wt,xs,VM,Yr,at,et,Gr),u1=mO(pn,bl),BM=QA(u1,ct,Zt),UM=WA(wt,BM,u1,at,et,Ra),IM=sN(qs,Wb,ct,Bs,Zt),PM=nN(wt,xs,IM,Wb,at,et,Ra),h1=gO(pn),HM=hN(qs,h1,ct,Bs,Zt),FM=uN(wt,xs,HM,h1,pn,at,et,Ra),GM=_N(qs,Nn,ct,Bs,Zt),$M=vN(wt,xs,GM,Nn,at,et),YM=bO(Uu,Pt,_l,pn),Pu=YO(Ss,Nn,_l,nM(Nn,mi)),XM=DN($r,ct,mi,Zt,Pu),WM=yO(YM),QM=MN(wt,WM,XM,at,et,Ra),ZM=fA(xs,ea,Yr,_l,pn,Zb,et,bl),d1=new WeakMap,KM=WN(NM,ZM,a1,et,d1,Gr),f1=EO(Iu,Ss,qp,e1,Bp,t1),JM=qO(qs,f1,ct,Bs,Zt),ek=VO(wt,xs,f1,JM,at,et,Gr),p1=HA($r),tk=RO(p1,Pt,Nn,Kb,Ji),Hu=DO(p1,Pt,tk,Kb,Ji,Sl,bl),nk=NO(mu,Pt,ea,Nn,_l,Hu,pn,gu,Zb,Ji),m1=AO(nk),sk=IO(qs,ea,Yr,Nn,m1,ct,mi,Bs,Zt,Pu),ik=UO(wt,xs,m1,sk,at,et,Ra),ak=OO(Vs),rk=HO(ak,at,new WeakSet,pM),ok=kO(ea,vl,Nn,Hu,pn,Ji),g1=MO(ok,pn),lk=JO(qs,g1,ct,Bs,Zt),ck=KO(wt,xs,g1,lk,at,et),uk=rM(Hu,ct,Zt),hk=aM(wt,Pt,Hu,uk,at,et,Ra),y1=HN(js),$p=mN(js),v1=new WeakMap,dk=EN(v1,mi),fk=y1?FE(Ss,pn,fN(js),$p,gN(BE),at,dk,et,ol,new WeakMap,new WeakMap,tM(ol,mi),js):void 0,pk=IN(Ip,et),mk=JA(Hp,Ss,KA,dN,new WeakSet,at,pk,fu,rl,Fp,Gp),_1=MA(fk,wM,l1,AM,MM,RM,LM,qM,UM,mk,PM,FM,$M,QM,KM,ek,ik,rk,ck,hk),gk=FN(wt,SO,at,et),yk=$N(wt,xO,at,et),vk=YN(wt,TO,at,et),_k=CO(Pt,et),bk=XN(wt,_k,at),Sk=uA(_1,Pt,pn,sM,gk,yk,vk,bk,Sl),Yp=AN(d1),xk=XE(Yp),b1=PA(Vs),Tk=aN(Yp),S1=lN(Vs),x1=new WeakMap,Ck=bN(x1,gs),wk=uO(b1,Vs,Pt,ea,vl,Yr,Nn,_l,pn,S1,$p,Ck,Ji),Ek=rO(Pt,wk,Nn,pn,Ji),Ak=OA(qs,b1,$r,ea,vl,Yr,Nn,Tk,S1,$p,ct,ol,mi,Bs,Zt,Pu),Nk=CN(v1),Ok=XO(x1),T_=y1?EA(xk,wt,xs,Ak,Ek,hn,Nk,at,et,ol,dM,Ok,vM,Gr):void 0,Mk=ZA(pn,mi),kk=QO(Hp,Ss,Up,Yp,Pu,fu,Fp,Gp),Dk=LO(_1,Ss,Pt,Mk,kk),Rk=jN(qu,Ip),jk=LN(kp,Pp),Lk=zN(Dp,r1),zk=VN(qu,et);function Fn(a){return a===void 0}function Ne(a){return a!==void 0}function Vk(a){return typeof a=="function"}function ys(a){return typeof a=="number"}function Yi(a){return Object.prototype.toString.call(a)==="[object Object]"&&a.constructor===Object}function T1(a){return typeof a=="boolean"}function An(a){return Array.isArray(a)}function fi(a){return typeof a=="string"}function Kc(a){return fi(a)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(a)}function Se(a,e){if(!a)throw new Error(e)}function Pn(a,e,n=1/0){if(!(e<=a&&a<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${a}`)}function C1(a){!a.isOffline&&a.state!=="running"&&xl('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let w1=!1,C_=!1;function w_(a){w1=a}function qk(a){Fn(a)&&w1&&!C_&&(C_=!0,xl("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let E1=console;function Bk(...a){E1.log(...a)}function xl(...a){E1.warn(...a)}function Uk(a){return new Sk(a)}function Ik(a,e,n){return new Dk(a,e,n)}const In=typeof self=="object"?self:null,Pk=In&&(In.hasOwnProperty("AudioContext")||In.hasOwnProperty("webkitAudioContext"));function Hk(a,e,n){return Se(Ne(T_),"AudioWorkletNode only works in a secure context (https or localhost)"),new(a instanceof In?.BaseAudioContext?In?.AudioWorkletNode:T_)(a,e,n)}function Ts(a,e,n,i){var o=arguments.length,l=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(a,e,n,i);else for(var h=a.length-1;h>=0;h--)(u=a[h])&&(l=(o<3?u(l):o>3?u(e,n,l):u(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function Ct(a,e,n,i){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(y){try{f(i.next(y))}catch(g){u(g)}}function d(y){try{f(i.throw(y))}catch(g){u(g)}}function f(y){y.done?l(y.value):o(y.value).then(h,d)}f((i=i.apply(a,e||[])).next())})}class Fk{constructor(e,n,i,o){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),i=new Worker(n);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Na(a){return Lk(a)}function Xi(a){return jk(a)}function iu(a){return zk(a)}function Nr(a){return Rk(a)}function Gk(a){return a instanceof l1}function $k(a,e){return a==="value"||Na(e)||Xi(e)||Gk(e)}function wa(a,...e){if(!e.length)return a;const n=e.shift();if(Yi(a)&&Yi(n))for(const i in n)$k(i,n[i])?a[i]=n[i]:Yi(n[i])?(a[i]||Object.assign(a,{[i]:{}}),wa(a[i],n[i])):Object.assign(a,{[i]:n[i]});return wa(a,...e)}function Yk(a,e){return a.length===e.length&&a.every((n,i)=>e[i]===n)}function de(a,e,n=[],i){const o={},l=Array.from(e);if(Yi(l[0])&&i&&!Reflect.has(l[0],i)&&(Object.keys(l[0]).some(h=>Reflect.has(a,h))||(wa(o,{[i]:l[0]}),n.splice(n.indexOf(i),1),l.shift())),l.length===1&&Yi(l[0]))wa(o,l[0]);else for(let u=0;u<n.length;u++)Ne(l[u])&&(o[n[u]]=l[u]);return wa(a,o)}function Xk(a){return a.constructor.getDefaults()}function Ds(a,e){return Fn(a)?e:a}function up(a,e){return e.forEach(n=>{Reflect.has(a,n)&&delete a[n]}),a}class gi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||In&&this.toString()===In.TONE_DEBUG_CLASS)&&Bk(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}gi.version=Mb;const Xp=1e-6;function Vr(a,e){return a>e+Xp}function hp(a,e){return Vr(a,e)||ps(a,e)}function bu(a,e){return a+Xp<e}function ps(a,e){return Math.abs(a-e)<Xp}function Wk(a,e,n){return Math.max(Math.min(a,n),e)}let Rs=class A1 extends gi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=de(A1.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Se(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Se(hp(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const i=this._search(e,n);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const i=this._search(e,n);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(ps(this._timeline[n].time,e)){for(let i=n;i>=0&&ps(this._timeline[i].time,e);i--)n=i;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&hp(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let i=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;i<l;){let u=Math.floor(i+(l-i)/2);const h=this._timeline[u],d=this._timeline[u+1];if(ps(h[n],e)){for(let f=u;f<this._timeline.length;f++){const y=this._timeline[f];if(ps(y[n],e))u=f;else break}return u}else{if(bu(h[n],e)&&Vr(d[n],e))return u;Vr(h[n],e)?l=u:i=u+1}}return-1}_iterate(e,n=0,i=this._timeline.length-1){this._timeline.slice(n,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const i=this._search(e);return i!==-1&&this._iterate(n,0,i),this}forEachAfter(e,n){const i=this._search(e);return this._iterate(n,i+1),this}forEachBetween(e,n,i){let o=this._search(e),l=this._search(n);return o!==-1&&l!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[l].time===n&&(l-=1),this._iterate(i,o,l)):o===-1&&this._iterate(i,0,l),this}forEachFrom(e,n){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(n,i+1),this}forEachAtTime(e,n){const i=this._search(e);if(i!==-1&&ps(this._timeline[i].time,e)){let o=i;for(let l=i;l>=0&&ps(this._timeline[l].time,e);l--)o=l;this._iterate(l=>{n(l)},o,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const N1=[];function Fu(a){N1.push(a)}function Qk(a){N1.forEach(e=>e(a))}const O1=[];function Gu(a){O1.push(a)}function Zk(a){O1.forEach(e=>e(a))}class Tl extends gi{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{Fn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){const i=(...o)=>{n(...o),this.off(e,i)};return this.on(e,i),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(Fn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Fn(n))this._events[o]=[];else{const l=this._events[o];for(let u=l.length-1;u>=0;u--)l[u]===n&&l.splice(u,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let o=0,l=i.length;o<l;o++)i[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const i=Object.getOwnPropertyDescriptor(Tl.prototype,n);Object.defineProperty(e.prototype,n,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class M1 extends Tl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Cl extends M1{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Rs,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=de(Cl.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Uk({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new Fk(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Qk(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,i){return this._context.createBuffer(e,n,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,i){return this._context.createPeriodicWave(e,n,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Se(Nr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Se(Nr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Se(Nr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Se(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Se(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Se(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Se(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Hk(this.rawContext,e,n)}addAudioWorkletModule(e){return Ct(this,void 0,void 0,function*(){Se(Ne(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ct(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Nr(this._context)?this._context.resume():Promise.resolve()}close(){return Ct(this,void 0,void 0,function*(){Nr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Zk(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),i=n.getChannelData(0);for(let l=0;l<i.length;l++)i[l]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const i=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{e(),o()},id:i,time:l+n})};return o(),i}}class Kk extends M1{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ct(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function qe(a,e){An(e)?e.forEach(n=>qe(a,n)):Object.defineProperty(a,e,{enumerable:!0,writable:!1})}function Wp(a,e){An(e)?e.forEach(n=>Wp(a,n)):Object.defineProperty(a,e,{writable:!0})}const He=()=>{};class st extends gi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=He;const e=de(st.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,fi(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:He,onload:He,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:nn().sampleRate}set(e){return e instanceof st?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ct(this,void 0,void 0,function*(){const n=st.load(e).then(i=>{this.set(i),this.onload(this)});st.downloads.push(n);try{yield n}finally{const i=st.downloads.indexOf(n);st.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=An(e)&&e[0].length>0,i=n?e.length:1,o=n?e[0].length:e.length,l=nn(),u=l.createBuffer(i,o,l.sampleRate),h=!n&&i===1?[e]:e;for(let d=0;d<i;d++)u.copyToChannel(h[d],d);return this._buffer=u,this}toMono(e){if(ys(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const i=this.numberOfChannels;for(let o=0;o<i;o++){const l=this.toArray(o);for(let u=0;u<l.length;u++)n[u]+=l[u]}n=n.map(o=>o/i),this.fromArray(n)}return this}toArray(e){if(ys(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let i=0;i<this.numberOfChannels;i++)n[i]=this.getChannelData(i);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Se(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),o=Math.floor(n*this.sampleRate);Se(i<o,"The start time must be less than the end time");const l=o-i,u=nn().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let h=0;h<this.numberOfChannels;h++)u.copyToChannel(this.getChannelData(h).subarray(i,o),h);return new st(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new st().fromArray(e)}static fromUrl(e){return Ct(this,void 0,void 0,function*(){return yield new st().load(e)})}static load(e){return Ct(this,void 0,void 0,function*(){const n=st.baseUrl===""||st.baseUrl.endsWith("/")?st.baseUrl:st.baseUrl+"/",i=yield fetch(n+e);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield nn().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),i=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Ct(this,void 0,void 0,function*(){for(yield Promise.resolve();st.downloads.length;)yield st.downloads[0]})}}st.baseUrl="";st.downloads=[];class $u extends Cl{constructor(){super({clockSource:"offline",context:iu(arguments[0])?arguments[0]:Ik(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:iu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=iu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ct(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const i=Math.floor(this.sampleRate/128);e&&n%i===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Ct(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new st(n)})}close(){return Promise.resolve()}}const k1=new Kk;let Ta=k1;function nn(){return Ta===k1&&Pk&&Jk(new Cl),Ta}function Jk(a,e=!1){e&&Ta.dispose(),Nr(a)?Ta=new Cl(a):iu(a)?Ta=new $u(a):Ta=a}function eD(){return Ta.resume()}if(In&&!In.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Mb} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function tD(a){return Math.pow(10,a/20)}function Su(a){return 20*(Math.log(a)/Math.LN10)}function D1(a){return Math.pow(2,a/12)}let Yu=440;function nD(){return Yu}function sD(a){Yu=a}function Ca(a){return Math.round(R1(a))}function R1(a){return 69+12*Math.log2(a/Yu)}function j1(a){return Yu*Math.pow(2,(a-69)/12)}class Qp extends gi{constructor(e,n,i){super(),this.defaultUnits="s",this._val=n,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const i=parseInt(e,10),o=n==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/i)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,i)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Qp&&this.fromType(this._val),Fn(this._val))return this._noArg();if(fi(this._val)&&Fn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Yi(this._val)){let e=0;for(const n in this._val)if(Ne(this._val[n])){const i=this._val[n],o=new this.constructor(this.context,n).valueOf()*i;e+=o}return e}if(Ne(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return fi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class ms extends Qp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new ms(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const i=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),h=Math.round(o/i)*i-o;return o+h*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);n.push(u+"n."),n.push(u+"n"),n.push(u+"t")}n.push("0");let i=n[0],o=new ms(this.context,n[0]).toSeconds();return n.forEach(l=>{const u=new ms(this.context,l).toSeconds();Math.abs(u-e)<Math.abs(o-e)&&(i=l,o=u)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const i=Math.floor(n/this._getTimeSignature());let o=n%1*4;n=Math.floor(n)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[i,n,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ca(this.toFrequency())}_now(){return this.context.now()}}class Hn extends ms{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return nD()}static set A4(e){sD(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Hn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const o=iD[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:Hn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,i){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i)/4)),o}}})}transpose(e){return new Hn(this.context,this.valueOf()*D1(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Ca(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Hn.A4);let i=Math.round(12*n)+57;const o=Math.floor(i/12);return o<0&&(i+=-12*o),aD[i%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return j1(e)}static ftom(e){return Ca(e)}}const iD={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},aD=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Rr extends ms{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class sn extends gi{constructor(){super();const e=de(sn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:nn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return qk(e),new ms(this.context,e).toSeconds()}toFrequency(e){return new Hn(this.context,e).toFrequency()}toTicks(e){return new Rr(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(i=>{Fn(e[i])&&delete n[i]}),n}get(){const e=Xk(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const i=this[n];Ne(i)&&Ne(i.value)&&Ne(i.setValueAtTime)?e[n]=i.value:i instanceof sn?e[n]=i._getPartialProperties(e[n]):An(i)||ys(i)||fi(i)||T1(i)?e[n]=i:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Ne(this[n])&&(this[n]&&Ne(this[n].value)&&Ne(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof sn?this[n].set(e[n]):this[n]=e[n])}),this}}class wl extends Rs{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,i){return Pn(n,0),this.add(Object.assign({},i,{state:e,time:n})),this}getLastState(e,n){const i=this._search(n);for(let o=i;o>=0;o--){const l=this._timeline[o];if(l.state===e)return l}}getNextState(e,n){const i=this._search(n);if(i!==-1)for(let o=i;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===e)return l}}}class Ve extends sn{constructor(){const e=de(Ve.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Se(Ne(e.param)&&(Na(e.param)||e.param instanceof Ve),"param must be an AudioParam");!Na(e.param);)e.param=e.param._param;this._swappable=Ne(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Rs(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ne(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(sn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ne(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ne(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Ne(this.maxValue)&&Ne(this.minValue)&&Pn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?tD(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Su(e):e}setValueAtTime(e,n){const i=this.toSeconds(n),o=this._fromType(e);return Se(isFinite(o)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,i),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),i=this._events.getAfter(n),o=this._events.get(n);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const u=this._events.getBefore(o.time);let h;u===null?h=this._initialValue:h=u.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,h,o.value,o.constant,n))}else if(i===null)l=o.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let u=o.value;if(o.type==="setTargetAtTime"){const h=this._events.getBefore(o.time);h===null?u=this._initialValue:u=h.value}i.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,u,i.time,i.value,n):l=this._exponentialInterpolate(o.time,u,i.time,i.value,n)}else l=o.value;return this._toType(l)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const i=this._fromType(e),o=this.toSeconds(n);return Se(isFinite(i)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this._events.add({time:o,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(i,o),this}exponentialRampToValueAtTime(e,n){let i=this._fromType(e);i=ps(i,0)?this._minOutput:i,this._assertRange(i);const o=this.toSeconds(n);return Se(isFinite(i)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(i,o),this}exponentialRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(n)),this}linearRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(n)),this}targetRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,n),this}exponentialApproachValueAtTime(e,n,i){n=this.toSeconds(n),i=this.toSeconds(i);const o=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+i*.9),this.linearRampToValueAtTime(e,n+i),this}setTargetAtTime(e,n,i){const o=this._fromType(e);Se(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(n);return this._assertRange(o),Se(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:i,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,l,i),this._param.setTargetAtTime(o,l,i),this}setValueCurveAtTime(e,n,i,o=1){i=this.toSeconds(i),n=this.toSeconds(n);const l=this._fromType(e[0])*o;this.setValueAtTime(this._toType(l),n);const u=i/(e.length-1);for(let h=1;h<e.length;h++){const d=this._fromType(e[h])*o;this.linearRampToValueAtTime(this._toType(d),n+h*u)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Se(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),i=this._fromType(this.getValueAtTime(n));Se(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+i);const o=this._events.get(n),l=this._events.getAfter(n);return o&&ps(o.time,n)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),n):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),n)),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}rampTo(e,n=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,i):this.linearRampTo(e,n,i),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const i=this._events.get(n);if(i&&i.type==="setTargetAtTime"){const o=this._events.getAfter(i.time),l=o?o.time:n+2,u=(l-n)/10;for(let h=n;h<l;h+=u)e.linearRampToValueAtTime(this.getValueAtTime(h),h)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){Se(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,i,o,l){return i+(n-i)*Math.exp(-(l-e)/o)}_linearInterpolate(e,n,i,o,l){return n+(o-n)*((l-e)/(i-e))}_exponentialInterpolate(e,n,i,o,l){return n*Math.pow(o/n,(l-e)/(i-e))}}class ge extends sn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ne(this.input)?Na(this.input)||this.input instanceof Ve?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ne(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ne(e)&&(e instanceof ge||Xi(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Se(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,i=0){return vs(this,e,n,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return xl("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,i=0){return L1(this,e,n,i),this}chain(...e){return Wi(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Ne(this.input)&&(this.input instanceof ge?this.input.dispose():Xi(this.input)&&this.input.disconnect()),Ne(this.output)&&(this.output instanceof ge?this.output.dispose():Xi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Wi(...a){const e=a.shift();a.reduce((n,i)=>(n instanceof ge?n.connect(i):Xi(n)&&vs(n,i),i),e)}function vs(a,e,n=0,i=0){for(Se(Ne(a),"Cannot connect from undefined node"),Se(Ne(e),"Cannot connect to undefined node"),(e instanceof ge||Xi(e))&&Se(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Se(a.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ge||e instanceof Ve;)Ne(e.input)&&(e=e.input);for(;a instanceof ge;)Ne(a.output)&&(a=a.output);Na(e)?a.connect(e,n):a.connect(e,n,i)}function L1(a,e,n=0,i=0){if(Ne(e))for(;e instanceof ge;)e=e.input;for(;!Xi(a);)Ne(a.output)&&(a=a.output);Na(e)?a.disconnect(e,n):Xi(e)?a.disconnect(e,n,i):a.disconnect()}class Ee extends ge{constructor(){const e=de(Ee.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Ve({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),qe(this,"gain")}static getDefaults(){return Object.assign(ge.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class qr extends ge{constructor(e){super(e),this.onended=He,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ee({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const i=this.toSeconds(n);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ge.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:He})}_startGain(e,n=1){Se(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+i):this._gainNode.gain.exponentialApproachValueAtTime(n,e,i)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Se(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==He&&(this.onended(this),this.onended=He,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Se(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=He,this}}class Zp extends qr{constructor(){const e=de(Zp.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),vs(this._source,this._gainNode),this.offset=new Ve({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(qr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Je extends ge{constructor(){const e=de(Je.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Zp({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ge.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,i=0){return Xu(this,e,n,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,i){return this._param.exponentialRampTo(e,n,i),this}linearRampTo(e,n,i){return this._param.linearRampTo(e,n,i),this}targetRampTo(e,n,i){return this._param.targetRampTo(e,n,i),this}exponentialApproachValueAtTime(e,n,i){return this._param.exponentialApproachValueAtTime(e,n,i),this}setTargetAtTime(e,n,i){return this._param.setTargetAtTime(e,n,i),this}setValueCurveAtTime(e,n,i,o){return this._param.setValueCurveAtTime(e,n,i,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,i){return this._param.rampTo(e,n,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Xu(a,e,n,i){(e instanceof Ve||Na(e)||e instanceof Je&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Je&&(e.overridden=!0)),vs(a,e,n,i)}class Kp extends Ve{constructor(){const e=de(Kp.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Rs(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ve.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,i){n=this.toSeconds(n),this.setRampPoint(n);const o=this._fromType(e),l=this._events.get(n),u=Math.round(Math.max(1/i,1));for(let h=0;h<=u;h++){const d=i*h+n,f=this._exponentialApproach(l.time,l.value,o,i,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}setValueAtTime(e,n){const i=this.toSeconds(n);super.setValueAtTime(e,n);const o=this._events.get(i),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,i);return o.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,n){const i=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const o=this._events.get(i),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,i);return o.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const i=this._fromType(e),o=this._events.get(n),l=Math.round(Math.max((n-o.time)*10,1)),u=(n-o.time)/l;for(let h=0;h<=l;h++){const d=u*h+o.time,f=this._exponentialInterpolate(o.time,o.value,n,i,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Fn(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(n));const l=this._events.get(n);return l&&l.time===n&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(i+o)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),i=this._events.get(n);return Math.max(this._getTicksUntilEvent(i,n),0)}getDurationOfTicks(e,n){const i=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-i}getTimeOfTick(e){const n=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&i&&i.type==="linearRampToValueAtTime"&&n.value!==i.value){const o=this._fromType(this.getValueAtTime(n.time)),u=(this._fromType(this.getValueAtTime(i.time))-o)/(i.time-n.time),h=Math.sqrt(Math.pow(o,2)-2*u*(n.ticks-e)),d=(-o+h)/u,f=(-o-h)/u;return(d>0?d:f)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const i=this.toSeconds(n),o=this.toSeconds(e),l=this.getTicksAtTime(i);return this.getTicksAtTime(i+o)-l}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Jp extends Je{constructor(){const e=de(Jp.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Kp({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Je.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class em extends sn{constructor(){const e=de(em.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new wl,this._tickOffset=new Rs,this._ticksAtTime=new Rs,this._secondsAtTime=new Rs,this.frequency=new Jp({context:this.context,units:e.units,value:e.frequency}),qe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},sn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Ne(n)&&this.setTicksAtTime(n,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const i=this._state.get(n);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),i=this._state.getLastState("stopped",n),o=this._ticksAtTime.get(n),l={state:"paused",time:n};this._state.add(l);let u=o||i,h=o?o.ticks:0,d=null;return this._state.forEachBetween(u.time,n+this.sampleTime,f=>{let y=u.time;const g=this._tickOffset.get(f.time);g&&g.time>=u.time&&(h=g.ticks,y=g.time),u.state==="started"&&f.state!=="started"&&(h+=this.frequency.getTicksAtTime(f.time)-this.frequency.getTicksAtTime(y),f.time!==l.time&&(d={state:f.state,time:f.time,ticks:h})),u=f}),this._state.remove(l),d&&this._ticksAtTime.add(d),h}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),i=this.frequency.timeToTicks(e,n);this.setTicksAtTime(i,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const o=this._secondsAtTime.get(e);let l=o||n,u=o?o.seconds:0,h=null;return this._state.forEachBetween(l.time,e+this.sampleTime,d=>{let f=l.time;const y=this._tickOffset.get(d.time);y&&y.time>=l.time&&(u=y.seconds,f=y.time),l.state==="started"&&d.state!=="started"&&(u+=d.time-f,d.time!==i.time&&(h={state:d.state,time:d.time,seconds:u})),l=d}),this._state.remove(i),h&&this._secondsAtTime.add(h),u}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const i=this._tickOffset.get(n),o=this._state.get(n),l=Math.max(i.time,o.time),u=this.frequency.getTicksAtTime(l)+e-i.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,n,i){let o=this._state.get(e);this._state.forEachBetween(e,n,u=>{o&&o.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),u.time-this.sampleTime,i),o=u});let l=null;if(o&&o.state==="started"){const u=Math.max(o.time,e),h=this.frequency.getTicksAtTime(u),d=this.frequency.getTicksAtTime(o.time),f=h-d;let y=Math.ceil(f)-f;y=ps(y,1)?0:y;let g=this.frequency.getTimeOfTick(h+y);for(;g<n;){try{i(g,Math.round(this.getTicksAtTime(g)))}catch(_){l=_;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Wu extends sn{constructor(){const e=de(Wu.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=He,this._lastUpdate=0,this._state=new wl("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new em({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,qe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(sn.getDefaults(),{callback:He,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){C1(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,n),i<this._lastUpdate&&this.emit("start",i,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const i=this.toSeconds(n),o=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(o+e,i)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,i=>{switch(i.state){case"started":const o=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,o);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,n,(i,o)=>{this.callback(i,o)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Tl.mixin(Wu);class ll extends ge{constructor(){const e=de(ll.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new Ve({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),qe(this,"delayTime")}static getDefaults(){return Object.assign(ge.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class ja extends ge{constructor(){const e=de(ja.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ee({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,qe(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class tm extends ge{constructor(){const e=de(tm.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ja({context:this.context}),this.output=new Ee({context:this.context}),this.volume=this.input.volume,Wi(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Wi(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Fu(a=>{a.destination=new tm({context:a})});Gu(a=>{a.destination.dispose()});class rD extends ge{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ve({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ve({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ve({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ve({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ve({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ve({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ve({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ve({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ve({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ge.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Fu(a=>{a.listener=new rD({context:a})});Gu(a=>{a.listener.dispose()});class nm extends gi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=de(nm.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const i=e.urls[n];this.add(n,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:He,onload:He,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Se(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,i=He,o=He){return fi(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new st(this.baseUrl+n,i,o))):this._buffers.set(e.toString(),new st(n,i,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class xu extends Hn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Ca(super._frequencyToUnits(e))}_ticksToUnits(e){return Ca(super._ticksToUnits(e))}_beatsToUnits(e){return Ca(super._beatsToUnits(e))}_secondsToUnits(e){return Ca(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return j1(this.toMidi())}transpose(e){return new xu(this.context,this.toMidi()+e)}}class jt extends Rr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class oD extends sn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Rs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Fu(a=>{a.draw=new oD({context:a})});Gu(a=>{a.draw.dispose()});class lD extends gi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Se(Ne(e.time),"Events must have a time property"),Se(Ne(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new cD(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const i of n)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let i,o=null;if(n>0)if(e.left.right===null)i=e.left,i.right=e.right,o=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,o=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,o=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,o=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const n=e.parent,i=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?i?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){const n=e.parent,i=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?i?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let i=n[0];for(let o=1;o<n.length;o++)n[o].low>i.low&&(i=n[o]);return i.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(i=>n.push(i)),n.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class cD{constructor(e,n,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class uD extends gi{constructor(e){super(),this.name="TimelineValue",this._timeline=new Rs({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Ls extends ge{constructor(){super(de(Ls.getDefaults(),arguments,["context"]))}connect(e,n=0,i=0){return Xu(this,e,n,i),this}}class La extends Ls{constructor(){const e=de(La.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,An(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Vk(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Je.getDefaults(),{length:1024})}setMap(e,n=1024){const i=new Float32Array(n);for(let o=0,l=n;o<l;o++){const u=o/(l-1)*2-1;i[o]=e(u,o)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(i=>i.includes(e));Se(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class sm extends Ls{constructor(){const e=de(sm.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new La({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ls.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Qi{constructor(e,n){this.id=Qi._eventId++,this._remainderTime=0;const i=Object.assign(Qi.getDefaults(),n);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:He,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Qi._eventId=0;class im extends Qi{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(im.getDefaults(),n);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Qi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return bu(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new jt(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){bu(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new jt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Vr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Qu extends sn{constructor(){const e=de(Qu.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new uD(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Rs,this._repeatedEvents=new lD,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Wu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),qe(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(sn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const i=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(i*Math.PI)*this._swingAmount;e+=new jt(this.context,this._swingTicks*2/3).toSeconds()*o}w_(!0),this._timeline.forEachAtTime(n,i=>i.invoke(e)),w_(!1)}schedule(e,n){const i=new Qi(this,{callback:e,time:new Rr(this.context,n).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,n,i,o=1/0){const l=new im(this,{callback:e,duration:new ms(this.context,o).toTicks(),interval:new ms(this.context,n).toTicks(),time:new Rr(this.context,i).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(e,n){const i=new Qi(this,{callback:e,once:!0,time:new Rr(this.context,n).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(n,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new jt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let i;return Ne(n)&&(i=this.toTicks(n)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){An(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new ms(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new ms(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new jt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new jt(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),i=this._clock.frequency.timeToTicks(e,n);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,n),l=n+o;this.emit("stop",l),this._clock.setTicksAtTime(e,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),i=this.getTicksAtTime(n),o=e-i%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){const i=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(i)/this.PPQ),u=[];if(e.units==="time"){const d=.015625/l,f=new Ee(d),y=new sm(-1),g=new Ee(d);o.chain(f,y,g),o=g,l=1/l,u=[f,y,g]}n||(e.getValueAtTime(i)!==0?n=e.getValueAtTime(i)/l:n=0);const h=new Ee(n);return o.connect(h),h.connect(e._param),u.push(h),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const i=this._syncedSignals[n];i.signal===e&&(i.nodes.forEach(o=>o.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Wp(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Tl.mixin(Qu);Fu(a=>{a.transport=new Qu({context:a})});Gu(a=>{a.transport.dispose()});class dn extends ge{constructor(e){super(e),this.input=void 0,this._state=new wl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=He,this._syncedStop=He,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ja({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,qe(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,onstop:He,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,i){let o=Fn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Se(Vr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,i);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(Ds(n,0)),l.duration=i?this.toSeconds(i):void 0);const u=this.context.transport.schedule(h=>{this._start(h,n,i)},o);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else C1(this.context),this._start(o,n,i);return this}stop(e){let n=Fn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Ne(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const i=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(i)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Vr(n,0)){const i=this._state.get(n);if(i&&i.state==="started"&&i.time!==n){const o=n-this.toSeconds(i.time);let l;i.duration&&(l=this.toSeconds(i.duration)-o),this._start(e,this.toSeconds(i.offset)+o,l)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=He,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class El extends qr{constructor(){const e=de(El.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,vs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ve({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new st(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(qr.getDefaults(),{url:new st,loop:!1,loopEnd:0,loopStart:0,onload:He,onerror:He,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,i,o=1){Se(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(e);this._startGain(l,o),this.loop?n=Ds(n,this.loopStart):n=Ds(n,0);let u=Math.max(this.toSeconds(n),0);if(this.loop){const h=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),f=h-d;hp(u,h)&&(u=(u-d)%f+d),ps(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,bu(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),Ne(i)){let h=this.toSeconds(i);h=Math.max(h,0),this.stop(l+h)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Tu extends dn{constructor(){const e=de(Tu.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dn.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(Se(e in E_,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=E_[this._type];this._source=new El({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ar=44100*5,Vf=2,li={brown:null,pink:null,white:null},E_={get brown(){if(!li.brown){const a=[];for(let e=0;e<Vf;e++){const n=new Float32Array(Ar);a[e]=n;let i=0;for(let o=0;o<Ar;o++){const l=Math.random()*2-1;n[o]=(i+.02*l)/1.02,i=n[o],n[o]*=3.5}}li.brown=new st().fromArray(a)}return li.brown},get pink(){if(!li.pink){const a=[];for(let e=0;e<Vf;e++){const n=new Float32Array(Ar);a[e]=n;let i,o,l,u,h,d,f;i=o=l=u=h=d=f=0;for(let y=0;y<Ar;y++){const g=Math.random()*2-1;i=.99886*i+g*.0555179,o=.99332*o+g*.0750759,l=.969*l+g*.153852,u=.8665*u+g*.3104856,h=.55*h+g*.5329522,d=-.7616*d-g*.016898,n[y]=i+o+l+u+h+d+f+g*.5362,n[y]*=.11,f=g*.115926}}li.pink=new st().fromArray(a)}return li.pink},get white(){if(!li.white){const a=[];for(let e=0;e<Vf;e++){const n=new Float32Array(Ar);a[e]=n;for(let i=0;i<Ar;i++)n[i]=Math.random()*2-1}li.white=new st().fromArray(a)}return li.white}};function za(a,e){return Ct(this,void 0,void 0,function*(){const n=e/a.context.sampleRate,i=new $u(1,n,a.context.sampleRate);return new a.constructor(Object.assign(a.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class am extends qr{constructor(){const e=de(am.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],vs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Ve({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Ve({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),qe(this,["frequency","detune"])}static getDefaults(){return Object.assign(qr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class vt extends dn{constructor(){const e=de(vt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Je({context:this.context,units:"frequency",value:e.frequency}),qe(this,"frequency"),this.detune=new Je({context:this.context,units:"cents",value:e.detune}),qe(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(dn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),i=new am({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return vt._periodicWaveCache.find(n=>n.phase===this._phase&&Yk(n.partials,this._partials));{const e=vt._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(Ne(i)){const{partials:o,wave:l}=i;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(o,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),vt._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),vt._periodicWaveCache.length>100&&vt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Pn(e,0);let n=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(n=i[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const o=new Float32Array(e);this._partials.forEach((l,u)=>o[u]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,n){let o=2048;const l=new Float32Array(o),u=new Float32Array(o);let h=1;if(e==="custom"){if(h=this._partials.length+1,this._partialCount=this._partials.length,o=h,this._partials.length===0)return[l,u]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(h=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],h=Math.max(h,2),o=h):this._partialCount=0,this._partials=[]}for(let d=1;d<o;++d){const f=2/(d*Math.PI);let y;switch(e){case"sine":y=d<=h?1:0,this._partials[d-1]=y;break;case"square":y=d&1?2*f:0,this._partials[d-1]=y;break;case"sawtooth":y=f*(d&1?1:-1),this._partials[d-1]=y;break;case"triangle":d&1?y=2*(f*f)*(d-1>>1&1?-1:1):y=0,this._partials[d-1]=y;break;case"custom":y=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}y!==0?(l[d]=-y*Math.sin(n*d),u[d]=y*Math.cos(n*d)):(l[d]=0,u[d]=0)}return[l,u]}_inverseFFT(e,n,i){let o=0;const l=e.length;for(let u=0;u<l;u++)o+=e[u]*Math.cos(u*i)+n[u]*Math.sin(u*i);return o}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let i=0;const o=Math.PI*2,l=32;for(let u=0;u<l;u++)i=Math.max(this._inverseFFT(e,n,u/l*o),i);return Wk(-this._inverseFFT(e,n,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}vt._periodicWaveCache=[];class z1 extends Ls{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new La({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Oa extends Je{constructor(){const e=de(Oa.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ee({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Je.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Zu extends dn{constructor(){const e=de(Zu.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new z1({context:this.context}),this._modulationNode=new Ee({context:this.context}),this._carrier=new vt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new vt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Oa({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),qe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(vt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ku extends dn{constructor(){const e=de(Ku.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ee({context:this.context,gain:0}),this._carrier=new vt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Je({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new vt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Oa({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Oa({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),qe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(vt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Al extends dn{constructor(){const e=de(Al.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ee({context:this.context,gain:0}),this._thresh=new La({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Je({context:this.context,units:"audioRange",value:e.width}),this._triangle=new vt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),qe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(dn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ju extends dn{constructor(){const e=de(Ju.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Je({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Je({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,qe(this,["frequency","detune"])}static getDefaults(){return Object.assign(vt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,i=e/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=n+i*l)}}get count(){return this._oscillators.length}set count(e){if(Pn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const i=new vt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):He});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[n]=i}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,i)=>n.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class eh extends dn{constructor(){const e=de(eh.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Oa({context:this.context,value:2}),this._pulse=new Al({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new vt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),qe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(dn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const A_={am:Zu,fat:Ju,fm:Ku,oscillator:vt,pulse:Al,pwm:eh};class Cu extends dn{constructor(){const e=de(Cu.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Je({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Je({context:this.context,units:"cents",value:e.detune}),qe(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(vt.getDefaults(),Ku.getDefaults(),Zu.getDefaults(),Ju.getDefaults(),Al.getDefaults(),eh.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=A_[e],i=this.now();if(this._oscillator){const o=this._oscillator;o.stop(i),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof A_[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&ys(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&ys(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&fi(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return za(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class rm extends Je{constructor(){super(de(rm.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Ee({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Wi(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Je.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class om extends Ls{constructor(){const e=de(om.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Oa({context:this.context,value:e.max-e.min}),this._add=this.output=new rm({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Ls.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class lm extends Ls{constructor(){super(de(lm.getDefaults(),arguments)),this.name="Zero",this._gain=new Ee({context:this.context}),this.output=this._gain,this.input=void 0,vs(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),L1(this.context.getConstant(0),this._gain),this}}class cl extends ge{constructor(){const e=de(cl.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ve.prototype._fromType,this._toType=Ve.prototype._toType,this._is=Ve.prototype._is,this._clampValue=Ve.prototype._clampValue,this._oscillator=new vt(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ee({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Je({context:this.context,units:"audioRange",value:0}),this._zeros=new lm({context:this.context}),this._a2g=new z1({context:this.context}),this._scaler=this.output=new om({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),qe(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(vt.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,i=this.max;this._units=e,this.min=n,this.max=i}get state(){return this._oscillator.state}connect(e,n,i){return(e instanceof Ve||e instanceof Je)&&(this.convert=e.convert,this.units=e.units),Xu(this,e,n,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function V1(a,e=1/0){const n=new WeakMap;return function(i,o){Reflect.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(l){Pn(l,a,e),n.set(this,l)}})}}function yi(a,e=1/0){const n=new WeakMap;return function(i,o){Reflect.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(l){Pn(this.toSeconds(l),a,e),n.set(this,l)}})}}class Nl extends dn{constructor(){const e=de(Nl.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new st({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:He,onerror:He,playbackRate:1,reverse:!1})}load(e){return Ct(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=He){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,i){return super.start(e,n,i),this}_start(e,n,i){this._loop?n=Ds(n,this._loopStart):n=Ds(n,0);const o=this.toSeconds(n),l=i;i=Ds(i,Math.max(this._buffer.duration-o,0));let u=this.toSeconds(i);u=u/this._playbackRate,e=this.toSeconds(e);const h=new El({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(h),this._loop&&Fn(l)?h.start(e,o):h.start(e,o,u-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(n))}restart(e,n,i){return super.restart(e,n,i),this}_restart(e,n,i){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,n,i)}seek(e,n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="started"){const o=this.toSeconds(e);this._stop(i),this._start(i,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Pn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Pn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),i=this._state.getNextState("stopped",n);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ts([yi(0)],Nl.prototype,"fadeIn",void 0);Ts([yi(0)],Nl.prototype,"fadeOut",void 0);class hD extends Ls{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new La({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ta extends ge{constructor(){const e=de(ta.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Je({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ge.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(fi(e))return e;{let i;for(i in Jc)if(Jc[i][n]===e)return i;return e}}_setCurve(e,n,i){if(fi(i)&&Reflect.has(Jc,i)){const o=Jc[i];Yi(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(An(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const h=1/o;o=(1-u)/h}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let h=this._attackCurve;for(let d=1;d<h.length;d++)if(h[d-1]<=u&&u<=h[d]){h=this._attackCurve.slice(d),h[0]=u;break}this._sig.setValueCurveAtTime(h,e,o,n)}if(l&&this.sustain<1){const h=n*this.sustain,d=e+o;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(h,l+d):this._sig.exponentialApproachValueAtTime(h,d,l)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(Se(An(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,i=1){return n=this.toSeconds(n),this.triggerAttack(n,i),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,i=0){return Xu(this,e,n,i),this}asArray(){return Ct(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,i=new $u(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),u=l*.1,h=l+u,d=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/h,decay:n*this.toSeconds(this.decay)/h,release:n*this.toSeconds(this.release)/h,context:i}));return d._sig.toDestination(),d.triggerAttackRelease(n*(o+u)/h,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ts([yi(0)],ta.prototype,"attack",void 0);Ts([yi(0)],ta.prototype,"decay",void 0);Ts([V1(0,1)],ta.prototype,"sustain",void 0);Ts([yi(0)],ta.prototype,"release",void 0);const Jc=(()=>{let e,n;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const o=[],l=6.4;for(e=0;e<127;e++){n=e/127;const _=Math.sin(n*(Math.PI*2)*l-Math.PI/2)+1;o[e]=_/10+n*.83}o[127]=1;const u=[],h=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*h)/h;const d=[];for(e=0;e<128;e++)n=e/127,d[e]=.5*(1-Math.cos(Math.PI*n));const f=[];for(e=0;e<128;e++){n=e/127;const _=Math.pow(n,3)*4+.2,x=Math.cos(_*Math.PI*2*n);f[e]=Math.abs(x*(1-n))}function y(_){const x=new Array(_.length);for(let v=0;v<_.length;v++)x[v]=1-_[v];return x}function g(_){return _.slice(0).reverse()}return{bounce:{In:y(f),Out:f},cosine:{In:i,Out:g(i)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:y(o)},sine:{In:d,Out:y(d)},step:{In:u,Out:y(u)}}})();class Zi extends ge{constructor(){const e=de(Zi.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new ja({context:this.context,volume:e.volume}),this.volume=this._volume.volume,qe(this,"volume")}static getDefaults(){return Object.assign(ge.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const i=this["_original_"+e]=this[e];this[e]=(...o)=>{const l=o[n],u=this.context.transport.schedule(h=>{o[n]=h,i.apply(this,o)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,i,o){const l=this.toSeconds(i),u=this.toSeconds(n);return this.triggerAttack(e,l,o),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ma extends Zi{constructor(){const e=de(Ma.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Zi.getDefaults(),{detune:0,onsilence:He,portamento:0})}triggerAttack(e,n,i=1){this.log("triggerAttack",e,n,i);const o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,i),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const i=this.toSeconds(n),o=e instanceof Hn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,i)}else this.frequency.setValueAtTime(o,i);return this}}Ts([yi(0)],Ma.prototype,"portamento",void 0);class cm extends ta{constructor(){super(de(cm.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ee({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Br extends Ma{constructor(){const e=de(Br.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Cu(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new cm(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),qe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ma.getDefaults(),{envelope:Object.assign(up(ta.getDefaults(),Object.keys(ge.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(up(Cu.getDefaults(),[...Object.keys(dn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class wu extends ge{constructor(){const e=de(wu.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ve({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Ve({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Ve({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Ve({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Se(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let u=0;u<e;u++){const d=Math.pow(u/e,2)*19980+20;n[u]=d}const i=new Float32Array(e),o=new Float32Array(e),l=this.context.createBiquadFilter();return l.type=this.type,l.Q.value=this.Q.value,l.frequency.value=this.frequency.value,l.gain.value=this.gain.value,l.getFrequencyResponse(n,i,o),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class um extends ge{constructor(){const e=de(um.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Ee({context:this.context}),this.output=new Ee({context:this.context}),this._filters=[],this._filters=[],this.Q=new Je({context:this.context,units:"positive",value:e.Q}),this.frequency=new Je({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Je({context:this.context,units:"cents",value:e.detune}),this.gain=new Je({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,qe(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Se(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=ys(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let o=i.indexOf(n);Se(o!==-1,`rolloff can only be ${i.join(", ")}`),o+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(l=>l.disconnect()),this._filters=new Array(o);for(let l=0;l<o;l++){const u=new wu({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[l]=u}this._internalChannels=this._filters,Wi(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new wu({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((l,u)=>i[u]*=l)}),n.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Wp(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class th extends Br{constructor(){const e=de(th.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,qe(this,["oscillator","envelope"])}static getDefaults(){return wa(Ma.getDefaults(),Br.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const i=this.toSeconds(n),o=this.toFrequency(e instanceof Hn?e.toFrequency():e),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,i),this.oscillator.frequency.exponentialRampToValueAtTime(o,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ts([V1(0)],th.prototype,"octaves",void 0);Ts([yi(0)],th.prototype,"pitchDecay",void 0);const hm=new Set;function dm(a){hm.add(a)}function q1(a,e){const n=`registerProcessor("${a}", ${e})`;hm.add(n)}function dD(){return Array.from(hm).join(`
`)}class N_ extends ge{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=He;const n=URL.createObjectURL(new Blob([dD()],{type:"text/javascript"})),i=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(i,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const fD=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;dm(fD);const pD=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;dm(pD);const mD=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;dm(mD);const gD="feedback-comb-filter",yD=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;q1(gD,yD);class fm extends Zi{constructor(){const e=de(fm.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),Se(!ys(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Zi.getDefaults(),{maxPolyphony:32,options:{},voice:Br})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Se(e instanceof Ma,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else xl("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,i){e.forEach(o=>{const l=new xu(this.context,o).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(o,n,i),this._activeVoices.push({midi:l,voice:u,released:!1}),this.log("triggerAttack",o,n))})}_triggerRelease(e,n){e.forEach(i=>{const o=new xu(this.context,i).toMidi(),l=this._activeVoices.find(({midi:u,released:h})=>u===o&&!h);l&&(l.voice.triggerRelease(n),l.released=!0,this.log("triggerRelease",i,n))})}_scheduleEvent(e,n,i,o){Se(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(n,i,o):this._triggerRelease(n,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,i,o)},i-this.now())}triggerAttack(e,n,i){Array.isArray(e)||(e=[e]);const o=this.toSeconds(n);return this._scheduleEvent("attack",e,o,i),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const i=this.toSeconds(n);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,n,i,o){const l=this.toSeconds(i);if(this.triggerAttack(e,l,o),An(n)){Se(An(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const h=n[Math.min(u,n.length-1)],d=this.toSeconds(h);Se(d>0,"The duration must be greater than 0"),this.triggerRelease(e[u],l+d)}}else{const u=this.toSeconds(n);Se(u>0,"The duration must be greater than 0"),this.triggerRelease(e,l+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=up(e,["onsilence","context"]);return this.options=wa(this.options,n),this._voices.forEach(i=>i.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Ol extends Zi{constructor(){const e=de(Ol.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(i=>{const o=parseInt(i,10);if(Se(Kc(i)||ys(o)&&isFinite(o),`url key is neither a note or midi pitch: ${i}`),Kc(i)){const l=new Hn(this.context,i).toMidi();n[l]=e.urls[i]}else ys(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new nm({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Zi.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:He,onerror:He,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,i=1){return this.log("triggerAttack",e,n,i),Array.isArray(e)||(e=[e]),e.forEach(o=>{const l=R1(new Hn(this.context,o).toFrequency()),u=Math.round(l),h=l-u,d=this._findClosest(u),f=u-d,y=this._buffers.get(f),g=D1(d+h),_=new El({url:y,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);_.start(n,0,y.duration/g,i),An(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const x=this._activeSources.get(u),v=x.indexOf(_);v!==-1&&x.splice(v,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(i=>{const o=new Hn(this.context,i).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);n=this.toSeconds(n),l.forEach(u=>{u.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,i,o=1){const l=this.toSeconds(i);return this.triggerAttack(e,l,o),An(n)?(Se(An(e),"notes must be an array when duration is array"),e.forEach((u,h)=>{const d=n[Math.min(h,n.length-1)];this.triggerRelease(u,l+this.toSeconds(d))})):this.triggerRelease(e,l+this.toSeconds(n)),this}add(e,n,i){if(Se(Kc(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Kc(e)){const o=new Hn(this.context,e).toMidi();this._buffers.add(o,n,i)}else this._buffers.add(e,n,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ts([yi(0)],Ol.prototype,"attack",void 0);Ts([yi(0)],Ol.prototype,"release",void 0);class kr extends sn{constructor(){const e=de(kr.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new wl("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(sn.getDefaults(),{callback:He,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let i;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const o=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||ys(this._loop)&&this._loop>1){i=1/0,ys(this._loop)&&(i=this._loop*this._getLoopDuration());const l=this._state.getAfter(o);l!==null&&(i=Math.min(i,l.time-o)),i!==1/0&&(i=new jt(this.context,i));const u=new jt(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),u,new jt(this.context,o),i)}else n.id=this.context.transport.schedule(this._tick.bind(this),new jt(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const i=this._state.getBefore(n);let o=n;i!==null&&(o=i.time),this._rescheduleEvents(o)}return this}cancel(e){e=Ds(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,i=>{this.context.transport.clear(i.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let i=.02;T1(this.humanize)||(i=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*i}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new jt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new jt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const i=this._getLoopDuration();return(e-n.time)%i/i}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Eu extends kr{constructor(){const e=de(Eu.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new wl("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(n=>{An(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(kr.getDefaults(),{events:[]})}start(e,n){const i=this.toTicks(e);if(this._state.getValueAtTime(i)!=="started"){n=Ds(n,this._loop?this._loopStart:0),this._loop?n=Ds(n,this._loopStart):n=Ds(n,0);const o=this.toTicks(n);this._state.add({id:-1,offset:o,state:"started",time:i}),this._forEach(l=>{this._startNote(l,i,o)})}return this}_startNote(e,n,i){n-=i,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<i&&(n+=this._getLoopDuration()),e.start(new jt(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=i&&(e.loop=!1,e.start(new jt(this.context,n))):e.startOffset>=i&&e.start(new jt(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(i=>{i.stop(e)}),this}at(e,n){const i=new Rr(this.context,e).toTicks(),o=new jt(this.context,1).toSeconds(),l=this._events.values();let u=l.next();for(;!u.done;){const h=u.value;if(Math.abs(i-h.startOffset)<o)return Ne(n)&&(h.value=n),h;u=l.next()}return Ne(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const i=this.toTicks(e);let o;return n instanceof kr?(o=n,o.callback=this._tick.bind(this)):o=new kr({callback:this._tick.bind(this),context:this.context,value:n}),o.startOffset=i,o.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(o),this._restartEvent(o),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new jt(this.context,n.time))})}remove(e,n){return Yi(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(i=>{i.startOffset===e&&(Fn(n)||Ne(n)&&i.value===n)&&(this._events.delete(i),i.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof Eu?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(i=>{i[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new jt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new jt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class nh extends ge{constructor(){const e=de(nh.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new hD({context:this.context}),this.a=new Ee({context:this.context,gain:0}),this.b=new Ee({context:this.context,gain:0}),this.output=new Ee({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Je({context:this.context,units:"normalRange",value:e.fade}),qe(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",vs(this._split,this.a.gain,0),vs(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ge.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class zs extends ge{constructor(e){super(e),this.name="Effect",this._dryWet=new nh({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ee({context:this.context}),this.effectReturn=new Ee({context:this.context}),this.input=new Ee({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],qe(this,"wet")}static getDefaults(){return Object.assign(ge.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class O_ extends zs{constructor(e){super(e),this.name="LFOEffect",this._lfo=new cl({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,qe(this,["frequency","depth"])}static getDefaults(){return Object.assign(zs.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class pm extends O_{constructor(){const e=de(pm.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(e),this.name="AutoFilter",this.filter=new um(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(O_.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class mm extends ge{constructor(){const e=de(mm.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Ve({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",qe(this,"pan")}static getDefaults(){return Object.assign(ge.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const B1="bit-crusher",vD=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;q1(B1,vD);class gm extends zs{constructor(){const e=de(gm.getDefaults(),arguments,["bits"]);super(e),this.name="BitCrusher",this._bitCrusherWorklet=new ym({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(zs.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class ym extends N_{constructor(){const e=de(ym.getDefaults(),arguments);super(e),this.name="BitCrusherWorklet",this.input=new Ee({context:this.context}),this.output=new Ee({context:this.context}),this.bits=new Ve({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(N_.getDefaults(),{bits:12})}_audioWorkletName(){return B1}onReady(e){Wi(this.input,e,this.output);const n=e.parameters.get("bits");this.bits.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class ka extends ge{constructor(){const e=de(ka.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ge.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Xr extends ge{constructor(){const e=de(Xr.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(ge.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class M_ extends ge{constructor(e){super(e),this.name="StereoEffect",this.input=new Ee({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new nh({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new ka({context:this.context,channels:2}),this._merge=new Xr({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),qe(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Wi(...e),vs(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Wi(...e),vs(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ge.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class k_ extends M_{constructor(e){super(e),this.feedback=new Je({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Ee({context:this.context}),this._feedbackR=new Ee({context:this.context}),this._feedbackSplit=new ka({context:this.context,channels:2}),this._feedbackMerge=new Xr({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),qe(this,["feedback"])}static getDefaults(){return Object.assign(M_.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class vm extends k_{constructor(){const e=de(vm.getDefaults(),arguments,["frequency","delayTime","depth"]);super(e),this.name="Chorus",this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new cl({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new cl({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new ll({context:this.context}),this._delayNodeR=new ll({context:this.context}),this.frequency=this._lfoL.frequency,qe(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(k_.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class _m extends zs{constructor(){const e=de(_m.getDefaults(),arguments,["distortion"]);super(e),this.name="Distortion",this._shaper=new La({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(zs.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const n=e*100,i=Math.PI/180;this._shaper.setMap(o=>Math.abs(o)<.001?0:(3+n)*o*20*i/(Math.PI+n*Math.abs(o)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class D_ extends zs{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Ee({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,qe(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(zs.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class bm extends D_{constructor(){const e=de(bm.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="FeedbackDelay",this._delayNode=new ll({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),qe(this,"delayTime")}static getDefaults(){return Object.assign(D_.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Sm extends zs{constructor(){const e=de(Sm.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const n=this.toSeconds(e.decay);Pn(n,.001),this._decay=n;const i=this.toSeconds(e.preDelay);Pn(i,0),this._preDelay=i,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(zs.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Pn(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Pn(e,0),this._preDelay=e,this.generate()}generate(){return Ct(this,void 0,void 0,function*(){const e=this.ready,n=new $u(2,this._decay+this._preDelay,this.context.sampleRate),i=new Tu({context:n}),o=new Tu({context:n}),l=new Xr({context:n});i.connect(l,0,0),o.connect(l,0,1);const u=new Ee({context:n}).toDestination();l.connect(u),i.start(0),o.start(0),u.gain.setValueAtTime(0,0),u.gain.setValueAtTime(1,this._preDelay),u.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const h=n.render();return this.ready=h.then(He),yield e,this._convolver.buffer=(yield h).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Ml extends ge{constructor(){const e=de(Ml.getDefaults(),arguments,["type","size"]);super(e),this.name="Analyser",this._analysers=[],this._buffers=[],this.input=this.output=this._gain=new Ee({context:this.context}),this._split=new ka({context:this.context,channels:e.channels}),this.input.connect(this._split),Pn(e.channels,1);for(let n=0;n<e.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=e.size,this.type=e.type,this.smoothing=e.smoothing}static getDefaults(){return Object.assign(ge.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((e,n)=>{const i=this._buffers[n];this._type==="fft"?e.getFloatFrequencyData(i):this._type==="waveform"&&e.getFloatTimeDomainData(i)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((n,i)=>{n.fftSize=e*2,this._buffers[i]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){Se(e==="waveform"||e==="fft",`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(n=>n.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Au extends ge{constructor(){super(de(Au.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Ml({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Nu extends Au{constructor(){const e=de(Nu.getDefaults(),arguments,["smoothing"]);super(e),this.name="Meter",this.input=this.output=this._analyser=new Ml({context:this.context,size:256,type:"waveform",channels:e.channelCount}),this.smoothing=e.smoothing,this.normalRange=e.normalRange,this._rms=new Array(e.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(Au.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return xl("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),i=(this.channels===1?[e]:e).map((o,l)=>{const u=o.reduce((d,f)=>d+f*f,0),h=Math.sqrt(u/o.length);return this._rms[l]=Math.max(h,this._rms[l]*this.smoothing),this.normalRange?this._rms[l]:Su(this._rms[l])});return this.channels===1?i[0]:i}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class kt extends ge{constructor(){const e=de(kt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ee({context:this.context}),kt._allSolos.has(this.context)||kt._allSolos.set(this.context,new Set),kt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ge.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),kt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){kt._soloed.has(this.context)||kt._soloed.set(this.context,new Set),kt._soloed.get(this.context).add(this)}_removeSolo(){kt._soloed.has(this.context)&&kt._soloed.get(this.context).delete(this)}_isSoloed(){return kt._soloed.has(this.context)&&kt._soloed.get(this.context).has(this)}_noSolos(){return!kt._soloed.has(this.context)||kt._soloed.has(this.context)&&kt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),kt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}kt._allSolos=new Map;kt._soloed=new Map;class sh extends ge{constructor(){const e=de(sh.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new mm({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ja({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,qe(this,["pan","volume"])}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Dr extends ge{constructor(){const e=de(Dr.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new kt({solo:e.solo,context:this.context}),this._panVol=this.output=new sh({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),qe(this,["pan","volume"])}static getDefaults(){return Object.assign(ge.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Dr.buses.has(e)||Dr.buses.set(e,new Ee({context:this.context})),Dr.buses.get(e)}send(e,n=0){const i=this._getBus(e),o=new Ee({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(i),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Dr.buses=new Map;function qf(){return nn().now()}nn().transport;function lt(){return nn().transport}nn().destination;nn().destination;nn().listener;const _D=nn().draw;nn();class bD{tracks;masterInput;masterStrip;groups={};inserts={};channelEffects=new Map;started;constructor(){this.tracks=new Map,this.started=!1,this._ensureChannels()}_createMixerStrip(e){const n=new Ee(1);n.channelCount=2,n.channelCountMode="explicit";const i=new ja(0),o=new ka(2),l=new Ee(1),u=new Ee(1),h=new Xr(2);i.connect(o),o.connect(l,0),o.connect(u,1),l.connect(h,0,0),u.connect(h,0,1);const d=new Ee(1);d.channelCount=2,d.channelCountMode="explicit";const f=new ka(2),y=new Nu,g=new Nu;return n.connect(i),h.connect(d),d.connect(f),f.connect(y,0),f.connect(g,1),{input:n,volume:i,panL:l,panR:u,merge:h,muteGain:d,split:f,meterL:y,meterR:g,isMuted:!1,isSolo:!1}}_ensureChannels(){if(!this.masterStrip){this.masterStrip=this._createMixerStrip("master"),this.masterStrip.muteGain.toDestination(),["group-1","group-2","group-3","group-4"].forEach(e=>{const n=this._createMixerStrip(e);n.muteGain.connect(this.masterStrip.input),this.groups[e]=n});for(let e=1;e<=10;e++){const n=`insert-${e}`,i=this._createMixerStrip(n);i.muteGain.connect(this.masterStrip.input),this.inserts[n]=i}}}async initialize(){if(this.started)return console.log("[AudioEngine] Already started. State:",nn().state),!0;try{return console.log("[AudioEngine] Initializing..."),this._ensureChannels(),await eD(),console.log("[AudioEngine] Context Started. State:",nn().state),this.started=!0,!0}catch(e){return console.error("[AudioEngine] Failed to initialize:",e),!1}}_getChannelInput(e){if(e==="master")return this.masterStrip?.input;if(this.groups[e])return this.groups[e].input;if(this.inserts[e])return this.inserts[e].input}_getStrip(e){if(e==="master")return this.masterStrip;if(this.groups[e])return this.groups[e];if(this.inserts[e])return this.inserts[e]}async syncTrack(e){this._ensureChannels();let n=this.tracks.get(e.id);const i=e.mixerChannelId,o=this._getChannelInput(i)||this.masterStrip.input;if(n)n.destination!==o&&(n.panner.disconnect().connect(o),n.destination=o);else{const d=new Ee(1),f=new sh(0,0).connect(o);d.connect(f),n={id:e.id,type:e.type,destination:o,muteGain:d,panner:f,muted:!1,solo:!1},this.tracks.set(e.id,n)}const l=e.instrument.sampleId,u=e.type==="synth"&&(!n.polySynth||n.type!=="synth");if(e.type==="sampler"&&(!n.sampler||n.type!=="sampler"||!this._isSameSample(n,l))){if(n.sampler?.dispose(),n.polySynth?.dispose(),e.type==="sampler"){const d=this._resolveSampleUrl(l||"");n.sampler=new Ol({urls:{C4:d},onload:()=>{console.log(`[AudioEngine] Loaded ${d} for ${e.id}`)},onerror:f=>console.error(`[AudioEngine] Sample Load Failed for ${e.id}:`,f)}).connect(n.muteGain),n.loadedSampleUrl=d}n.type="sampler"}else u&&(n.sampler?.dispose(),n.polySynth?.dispose(),n.polySynth&&n.polySynth.dispose(),n.polySynth=new fm(Br,e.instrument.synthParams).connect(n.muteGain),n.type="synth");e.type==="synth"&&n.polySynth&&this.updateTrackInstrumentParams(e.id,e.instrument)}_resolveSampleUrl(e){if(e.includes("/")||e.includes("."))return e.startsWith("/")?e:e.startsWith("samples/")?`/${e}`:`/samples/${e}`;const n={kick:"kits/808/Kick.ogg",snare:"kits/808/Snare.ogg",hhc:"kits/808/ClosedHat.ogg",hho:"kits/808/ClosedHat.ogg",hh_closed:"kits/808/ClosedHat.ogg",hh_open:"kits/808/OpenHat.ogg",crash:"kits/808/Crash.ogg",perc:"kits/808/Crash.ogg",perc_02:"kits/808/ClosedHat.ogg",tom:"kits/808/Kick.ogg"},i=e.replace("track-","").replace("_01","").toLowerCase();return n[i]?`/samples/${n[i]}`:`/samples/${e}.wav`}_isSameSample(e,n){if(!n)return!0;const i=this._resolveSampleUrl(n);return e.loadedSampleUrl===i}setTrackClips(e,n,i){const o=this.tracks.get(e);if(!o||(o.part&&(o.part.stop(),o.part.dispose(),o.part=void 0),n.length===0))return;const l=n.map(u=>({time:u.time,note:u.note,duration:u.duration,velocity:u.velocity,probability:u.fill??1}));if(o.part=new Eu((u,h)=>{h.probability<1&&Math.random()>h.probability||(o.type==="sampler"&&o.sampler&&o.sampler.loaded?o.sampler.triggerAttack(h.note,u,h.velocity):o.type==="sampler"&&o.sampler&&!o.sampler.loaded||o.type==="synth"&&o.polySynth&&o.polySynth.triggerAttackRelease(h.note,h.duration,u,h.velocity))},l),i){o.part.loop=!0;const u=Math.floor(i/16);o.part.loopEnd=`${u}:0:0`}o.part.start(0)}setChannelVolume(e,n){const i=this._getStrip(e);i&&i.volume.volume.rampTo(Su(n),.1)}setChannelPan(e,n){const i=this._getStrip(e);if(i){let o=1,l=1;n>0?o=1-n:n<0&&(l=1+n),i.panL.gain.rampTo(o,.1),i.panR.gain.rampTo(l,.1)}}setChannelMute(e,n){const i=this._getStrip(e);i&&(i.isMuted=n,this._updateMixerSoloState())}setChannelSolo(e,n){const i=this._getStrip(e);i&&(i.isSolo=n,this._updateMixerSoloState())}_updateMixerSoloState(){const e=[...Object.values(this.groups),...Object.values(this.inserts)],n=e.some(i=>i.isSolo);e.forEach(i=>{let o=!0;n?o=i.isSolo:o=!i.isMuted;const l=o?1:0;i.muteGain.gain.cancelScheduledValues(qf()),i.muteGain.gain.rampTo(l,.05)})}setChannelOutput(e,n){const i=this._getStrip(e),o=this._getChannelInput(n||"master");i&&o&&(i.muteGain.disconnect(),i.muteGain.connect(o),i.muteGain.connect(i.split))}setTrackOutput(e,n){const i=this.tracks.get(e),o=this._getChannelInput(n)||this.masterStrip.input;i&&i.destination!==o&&(i.panner.disconnect().connect(o),i.destination=o)}setTrackVolume(e,n){const i=this.tracks.get(e);if(i){const o=Su(Math.max(.001,n));i.sampler&&i.sampler.volume.rampTo(o,.1),i.polySynth&&i.polySynth.volume.rampTo(o,.1)}}setTrackPan(e,n){const i=this.tracks.get(e);i&&i.panner.pan.rampTo(Math.max(-1,Math.min(1,n)),.1)}setTrackMute(e,n){const i=this.tracks.get(e);i&&(i.muteGain.gain.cancelScheduledValues(qf()),i.muteGain.gain.rampTo(n?0:1,.05),n?(i.part&&(i.part.mute=!0),i.polySynth&&i.polySynth.releaseAll()):i.part&&(i.part.mute=!1))}setTrackSolo(e,n){const i=this.tracks.get(e);i&&(i.solo=n,this._updateSoloState())}_updateSoloState(){const e=Array.from(this.tracks.values()).some(n=>n.solo);this.tracks.forEach(n=>{const i=e?!n.solo:n.muted;n.muteGain.gain.cancelScheduledValues(qf()),n.muteGain.gain.rampTo(i?0:1,.05),n.part&&(n.part.mute=i)})}rebuildChannelChain(e,n){const i=this._getStrip(e);if(!i)return;const o=i.input,l=i.volume,u=this.channelEffects.get(e)||[];o.disconnect(),u.forEach(d=>d.dispose());const h=[];n.forEach(d=>{if(!d.enabled)return;const f=this._createEffectNode(d);f&&h.push(f)}),h.length>0?o.chain(...h,l):o.connect(l),this.channelEffects.set(e,h)}_createEffectNode(e){try{switch(e.type){case"reverb":return new Sm({decay:e.params.decay||1.5,preDelay:e.params.preDelay||.01,wet:e.params.mix??.5});case"delay":return new bm({delayTime:e.params.time||.25,feedback:e.params.feedback||.5,wet:e.params.mix??.5});case"distortion":return new _m({distortion:e.params.amount||.4,wet:e.params.mix??.5,oversample:"2x"});case"chorus":return new vm({frequency:e.params.frequency||4,delayTime:e.params.delayTime||2.5,depth:e.params.depth||.5,wet:e.params.mix??.5}).start();case"bitcrusher":const n=new gm(e.params.bits||4);return n.wet.value=e.params.mix??.5,n;case"autofilter":return new pm({frequency:e.params.frequency||1,depth:e.params.depth||.5,baseFrequency:e.params.baseFrequency||200,wet:e.params.mix??.5}).start();default:return null}}catch(n){return console.error(`[AudioEngine] Error creating effect ${e.type}:`,n),null}}updateChannelEffectParams(e,n,i){}updateEffectNodeParams(e,n){n.mix!==void 0&&e.wet&&(e.wet.value=n.mix),e.name==="Reverb"?(n.decay&&(e.decay=n.decay),n.preDelay&&(e.preDelay=n.preDelay)):e.name==="FeedbackDelay"?(n.time&&(e.delayTime.value=n.time),n.feedback&&(e.feedback.value=n.feedback)):e.name==="Distortion"?n.amount&&(e.distortion=n.amount):e.name==="Chorus"?(n.frequency&&(e.frequency.value=n.frequency),n.delayTime&&(e.delayTime=n.delayTime),n.depth&&(e.depth=n.depth)):e.name==="BitCrusher"?n.bits&&(e.bits.value=n.bits):e.name==="AutoFilter"&&(n.frequency&&(e.frequency.value=n.frequency),n.depth&&(e.depth.value=n.depth),n.baseFrequency&&(e.baseFrequency=n.baseFrequency))}updateChannelEffect(e,n,i){const o=this.channelEffects.get(e);!o||!o[n]||this.updateEffectNodeParams(o[n],i)}onStepChange=null;_trackingId=null;setLoop(e,n,i){lt().loop=i,lt().loopStart=`${e}:0:0`,lt().loopEnd=`${n}:0:0`}_startStepTracker(){this._trackingId===null&&(this._trackingId=lt().scheduleRepeat(e=>{const n=lt().position,[i,o,l]=n.split(":").map(Number.parseFloat),u=i*16+o*4+l;this.onStepChange&&_D.schedule(()=>{this.onStepChange?.(Math.floor(u))},e)},"16n"))}async start(){await this.initialize(),this._startStepTracker(),lt().start()}stop(){lt().stop(),this.tracks.forEach(e=>e.polySynth?.releaseAll()),this.onStepChange&&this.onStepChange(-1)}pause(){lt().pause()}seekToTime(e){lt().seconds=e}getCurrentTime(){return lt().seconds}setBpm(e){lt().bpm.value=e}triggerTrack(e){const n=this.tracks.get(e);n?.sampler&&n.sampler.triggerAttack("C4"),n?.polySynth&&n.polySynth.triggerAttackRelease("C4","8n")}getStereoLevels(e){const n=this._getStrip(e);if(!n)return{l:-100,r:-100};try{const i=n.meterL.getValue(),o=n.meterR.getValue();return{l:typeof i=="number"?i:i[0],r:typeof o=="number"?o:o[0]}}catch{return{l:-100,r:-100}}}getMasterStereoLevels(){return this.getStereoLevels("master")}previewSample(e){const n=this._resolveSampleUrl(e),i=new Nl({url:n,autostart:!0,volume:-10,onload:()=>{},onstop:()=>{i.dispose()}}).toDestination()}updateTrackInstrumentParams(e,n){const i=this.tracks.get(e);!i||i.type!=="synth"||!i.polySynth||(n.synthParams?.oscillatorType&&i.polySynth.set({oscillator:{type:n.synthParams.oscillatorType}}),n.synthParams?.envelope&&i.polySynth.set({envelope:n.synthParams.envelope}))}reset(){lt().stop(),lt().cancel(0),this._trackingId!==null&&(lt().clear(this._trackingId),this._trackingId=null),this.tracks.forEach(e=>{e.sampler?.dispose(),e.polySynth?.dispose(),e.part?.dispose(),e.muteGain&&e.muteGain.dispose(),e.panner&&e.panner.dispose()}),this.tracks.clear(),this.channelEffects.forEach(e=>{e.forEach(n=>n.dispose())}),this.channelEffects.clear(),console.log("[AudioEngine] Reset Complete")}}const pe=new bD,Us=Vu(a=>({user:null,isAuthenticated:!1,theme:"dark",login:e=>a({user:e,isAuthenticated:!0}),logout:()=>a({user:null,isAuthenticated:!1}),toggleTheme:()=>a(e=>({theme:e.theme==="dark"?"light":"dark"})),bpm:120,isPlaying:!1,playingStep:-1,masterVolume:.8,isMasterMuted:!1,playMode:"PATTERN",viewMode:"trigger",setBpm:e=>{a({bpm:e}),pe.setBpm(e)},_initAudio:()=>{pe.onStepChange=e=>{a({playingStep:e})}},togglePlayMode:()=>a(e=>{const n=e.playMode==="SKYLINE"?"PATTERN":"SKYLINE";return n==="PATTERN"?pe.setLoop(0,2,!0):pe.setLoop(0,100,!1),{playMode:n}}),setViewMode:e=>a({viewMode:e}),setIsPlaying:async e=>{try{e?await pe.start():pe.pause(),a({isPlaying:e})}catch(n){console.error("Failed to toggle playback",n),a({isPlaying:!1})}},stop:()=>{pe.stop(),a({isPlaying:!1,playingStep:0})},setPlayingStep:e=>a({playingStep:e}),setMasterVolume:e=>{a({masterVolume:e}),pe.setChannelVolume("master",e)},setMasterMute:e=>{a({isMasterMuted:e}),pe.setChannelMute("master",e)},juicyVolume:.8,synthVolume:.8,setJuicyVolume:e=>{a({juicyVolume:e}),pe.setChannelVolume("group-1",e)},setSynthVolume:e=>{a({synthVolume:e}),pe.setChannelVolume("group-2",e)}})),SD="modulepreload",xD=function(a){return"/BoumbApp/"+a},R_={},Bf=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let f=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var u=f;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");o=f(n.map(y=>{if(y=xD(y),y in R_)return;R_[y]=!0;const g=y.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":SD,g||(x.as="script"),x.crossOrigin="",x.href=y,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((v,S)=>{x.addEventListener("load",v),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},Qt=[];for(let a=0;a<256;++a)Qt.push((a+256).toString(16).slice(1));function TD(a,e=0){return(Qt[a[e+0]]+Qt[a[e+1]]+Qt[a[e+2]]+Qt[a[e+3]]+"-"+Qt[a[e+4]]+Qt[a[e+5]]+"-"+Qt[a[e+6]]+Qt[a[e+7]]+"-"+Qt[a[e+8]]+Qt[a[e+9]]+"-"+Qt[a[e+10]]+Qt[a[e+11]]+Qt[a[e+12]]+Qt[a[e+13]]+Qt[a[e+14]]+Qt[a[e+15]]).toLowerCase()}let Uf;const CD=new Uint8Array(16);function wD(){if(!Uf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Uf=crypto.getRandomValues.bind(crypto)}return Uf(CD)}const ED=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j_={randomUUID:ED};function AD(a,e,n){a=a||{};const i=a.random??a.rng?.()??wD();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,TD(i)}function If(a,e,n){return j_.randomUUID&&!a?j_.randomUUID():AD(a)}const L_={PATTERNS:8},Sa=(a,e,n,i,o,l)=>({id:a,name:e,type:n,instrument:{type:i,sampleId:l,synthType:"fmsynth",synthParams:{oscillatorType:"sawtooth",envelope:{attack:.01,decay:.1,sustain:.5,release:.5}}},mixerChannelId:o,volume:.8,pan:0,muted:!1,solo:!1}),cn=(a,e,n="master")=>({id:a,name:e,volume:.8,pan:0,muted:!1,solo:!1,effects:[],output:n}),z_={id:"default",version:3,meta:{title:"New Project",bpm:120,swing:0,globalKey:{root:"C",scale:"Major"}},tracks:{"track-kick":Sa("track-kick","Kick","drums","sampler","insert-1","/BoumbApp/samples/kits/808/Kick.ogg"),"track-snare":Sa("track-snare","Snare","drums","sampler","insert-2","/BoumbApp/samples/kits/808/Snare.ogg"),"track-hhc":Sa("track-hhc","HiHat C","drums","sampler","insert-3","/BoumbApp/samples/kits/808/ClosedHat.ogg"),"track-hho":Sa("track-hho","HiHat O","drums","sampler","insert-4","/BoumbApp/samples/kits/808/OpenHat.ogg"),"track-perc1":Sa("track-perc1","Crash","drums","sampler","insert-5","/BoumbApp/samples/kits/808/Crash.ogg"),"track-lead":Sa("track-lead","Lead Synth","melody","synth","insert-9"),"track-bass":Sa("track-bass","Bass Synth","melody","synth","insert-10")},mixer:{master:cn("master","Master",""),groups:{"group-1":cn("group-1","CG 1"),"group-2":cn("group-2","CG 2"),"group-3":cn("group-3","CG 3"),"group-4":cn("group-4","CG 4")},inserts:{"insert-1":cn("insert-1","Insert 1","group-1"),"insert-2":cn("insert-2","Insert 2","group-1"),"insert-3":cn("insert-3","Insert 3","group-1"),"insert-4":cn("insert-4","Insert 4","group-1"),"insert-5":cn("insert-5","Insert 5","group-1"),"insert-6":cn("insert-6","Insert 6","group-1"),"insert-7":cn("insert-7","Insert 7","group-1"),"insert-8":cn("insert-8","Insert 8","group-1"),"insert-9":cn("insert-9","Insert 9","group-2"),"insert-10":cn("insert-10","Insert 10","group-2")}},drumPatterns:{"pattern-d1":{id:"pattern-d1",name:"A",duration:32,clips:{"track-kick":[{time:"0:0:0",note:"C4",duration:"16n",velocity:.9},{time:"0:1:0",note:"C4",duration:"16n",velocity:.9},{time:"0:2:0",note:"C4",duration:"16n",velocity:.9},{time:"0:3:0",note:"C4",duration:"16n",velocity:.9}]}}},melodicPatterns:{"pattern-m1":{id:"pattern-m1",name:"A",duration:64,clips:{}}},timeline:{clips:[]}},Ke=Vu((a,e)=>({project:structuredClone(z_),activePatterns:{drums:"pattern-d1",melody:"pattern-m1"},setGlobalKey:(n,i)=>{a(o=>({project:{...o.project,meta:{...o.project.meta,globalKey:{root:n,scale:i}}}}))},createPattern:(n,i)=>{const o=If(),l=e();if((n==="drums"?Object.keys(l.project.drumPatterns).length:Object.keys(l.project.melodicPatterns).length)>=L_.PATTERNS)return console.warn(`MVP Limit Reached: Cannot create more than ${L_.PATTERNS} patterns of type ${n}.`),"";const h={};n==="drums"&&Object.values(l.project.tracks).filter(f=>f.type==="drums").forEach(f=>{h[f.id]=[]});const d={id:o,name:i,duration:n==="drums"?32:64,clips:h};return a(f=>({project:{...f.project,[n==="drums"?"drumPatterns":"melodicPatterns"]:{...f.project[n==="drums"?"drumPatterns":"melodicPatterns"],[o]:d}}})),o},setActivePattern:(n,i)=>{a(o=>({activePatterns:{...o.activePatterns,[n]:i}}))},addTrack:(n,i,o="sampler")=>{const l=If(),h={id:l,name:i,type:n,instrument:{type:o,synthType:"fmsynth",synthParams:{oscillatorType:"triangle",envelope:{attack:.05,decay:.1,sustain:.3,release:1}}},mixerChannelId:"insert-1",volume:.8,pan:0,muted:!1,solo:!1};return a(d=>({project:{...d.project,tracks:{...d.project.tracks,[l]:h}}})),l},updateTrackVolume:(n,i)=>{a(o=>{const l={...o.project.tracks};return l[n]?(l[n]={...l[n],volume:i},pe.setTrackVolume(n,i),{project:{...o.project,tracks:l}}):{}})},updateTrackPan:(n,i)=>{a(o=>{const l={...o.project.tracks};return l[n]?(l[n]={...l[n],pan:i},pe.setTrackPan(n,i),{project:{...o.project,tracks:l}}):{}})},toggleTrackMute:n=>{a(i=>{const o={...i.project.tracks};if(!o[n])return{};const l=!o[n].muted;return o[n]={...o[n],muted:l},pe.setTrackMute(n,l),{project:{...i.project,tracks:o}}})},toggleTrackSolo:n=>{a(i=>{const o={...i.project.tracks};if(!o[n])return{};const l=!o[n].solo;return o[n]={...o[n],solo:l},pe.setTrackSolo(n,l),{project:{...i.project,tracks:o}}})},updateTrackRouting:(n,i)=>{a(o=>{const l={...o.project.tracks};return l[n]?(l[n]={...l[n],mixerChannelId:i},pe.setTrackOutput(n,i),{project:{...o.project,tracks:l}}):{}})},updateMixerChannel:(n,i)=>{a(o=>{const l={...o.project.mixer};let u,h;if(n==="master"?(u=l.master,h="master"):l.groups[n]?(u=l.groups[n],h="groups"):l.inserts[n]&&(u=l.inserts[n],h="inserts"),!u||!h)return{};i.volume!==void 0&&pe.setChannelVolume(n,i.volume),i.muted!==void 0&&pe.setChannelMute(n,i.muted),i.solo!==void 0&&pe.setChannelSolo(n,i.solo),i.pan!==void 0&&pe.setChannelPan(n,i.pan),i.output!==void 0&&pe.setChannelOutput(n,i.output);const d={...u,...i};return h==="master"?l.master=d:h==="groups"?l.groups[n]=d:h==="inserts"&&(l.inserts[n]=d),{project:{...o.project,mixer:l}}})},updateTrackInstrument:(n,i)=>{a(o=>{const l={...o.project.tracks};if(!l[n])return{};const u={...l[n].instrument,...i,synthParams:{...l[n].instrument.synthParams,...i.synthParams||{}}};return l[n]={...l[n],instrument:u},u.type==="synth"&&pe.updateTrackInstrumentParams(n,u),{project:{...o.project,tracks:l}}})},addChannelEffect:(n,i)=>{a(o=>{const l={...o.project.mixer};let u,h;if(n==="master"?(u=l.master,h="master"):l.groups[n]?(u=l.groups[n],h="groups"):l.inserts[n]&&(u=l.inserts[n],h="inserts"),!u||!h)return{};let d=i.params||{};if(Object.keys(d).length===0){const g=i.type||"reverb";g==="reverb"?d={decay:1.5,preDelay:.01,mix:.5}:g==="delay"?d={time:.25,feedback:.5,mix:.5}:g==="distortion"?d={amount:.4,mix:.5}:g==="chorus"?d={frequency:4,delayTime:2.5,depth:.5,mix:.5}:g==="bitcrusher"?d={bits:4,mix:.5}:g==="autofilter"&&(d={frequency:1,depth:.5,baseFrequency:200,mix:.5})}const f={id:If(),type:i.type||"reverb",enabled:i.enabled??!0,params:d},y={...u,effects:[...u.effects,f]};return h==="master"?l.master=y:h==="groups"?l.groups[n]=y:h==="inserts"&&(l.inserts[n]=y),pe.rebuildChannelChain(n,y.effects),{project:{...o.project,mixer:l}}})},updateChannelEffect:(n,i,o)=>{a(l=>{const u={...l.project.mixer};let h,d;if(n==="master"?(h=u.master,d="master"):u.groups[n]?(h=u.groups[n],d="groups"):u.inserts[n]&&(h=u.inserts[n],d="inserts"),!h||!d)return{};const f=h.effects.map(g=>{if(g.id!==i)return g;const _=o.type&&o.type!==g.type;let x=g.params;return o.params?_?x=o.params:x={...g.params,...o.params}:_&&(x={}),{...g,...o,params:x}}),y={...h,effects:f};if(d==="master"?u.master=y:d==="groups"?u.groups[n]=y:d==="inserts"&&(u.inserts[n]=y),o.params&&!o.type&&o.enabled===void 0){const g=y.effects.findIndex(_=>_.id===i);g!==-1?pe.updateChannelEffect(n,g,o.params):pe.rebuildChannelChain(n,y.effects)}else pe.rebuildChannelChain(n,y.effects);return{project:{...l.project,mixer:u}}})},removeChannelEffect:(n,i)=>{a(o=>{const l={...o.project.mixer};let u,h;if(n==="master"?(u=l.master,h="master"):l.groups[n]?(u=l.groups[n],h="groups"):l.inserts[n]&&(u=l.inserts[n],h="inserts"),!u||!h)return{};const d=u.effects.filter(y=>y.id!==i),f={...u,effects:d};return h==="master"?l.master=f:h==="groups"?l.groups[n]=f:h==="inserts"&&(l.inserts[n]=f),pe.rebuildChannelChain(n,f.effects),{project:{...o.project,mixer:l}}})},addNote:(n,i,o)=>{a(l=>{const u=!!l.project.drumPatterns[n],h=u?"drumPatterns":"melodicPatterns",d={...l.project[h]},f=d[n];if(!f)return{};const y={...f.clips},g=y[i]||[];return y[i]=[...g,o],d[n]={...f,clips:y},(u&&l.activePatterns.drums===n||!u&&l.activePatterns.melody===n)&&pe.setTrackClips(i,y[i],u?32:64),{project:{...l.project,[h]:d}}})},updateNote:(n,i,o,l)=>{a(u=>{const h=!!u.project.drumPatterns[n],d=h?"drumPatterns":"melodicPatterns",f={...u.project[d]},y=f[n];if(!y)return{};const g={...y.clips},_=g[i]||[];return g[i]=_.map(x=>x.time===o.time&&x.note===o.note?l:x),f[n]={...y,clips:g},(h&&u.activePatterns.drums===n||!h&&u.activePatterns.melody===n)&&pe.setTrackClips(i,g[i],h?32:64),{project:{...u.project,[d]:f}}})},removeNote:(n,i,o)=>{a(l=>{const u=!!l.project.drumPatterns[n],h=u?"drumPatterns":"melodicPatterns",d={...l.project[h]},f=d[n];if(!f)return{};const y={...f.clips},g=y[i]||[];return y[i]=g.filter(_=>!(_.time===o.time&&_.note===o.note)),d[n]={...f,clips:y},(u&&l.activePatterns.drums===n||!u&&l.activePatterns.melody===n)&&pe.setTrackClips(i,y[i],u?32:64),{project:{...l.project,[h]:d}}})},setClip:(n,i,o)=>{a(l=>{const h=!!l.project.drumPatterns[n]?"drumPatterns":"melodicPatterns",d={...l.project[h]},f=d[n];if(!f)return{};const y={...f.clips};return y[i]=o,d[n]={...f,clips:y},{project:{...l.project,[h]:d}}})},addTimelineClip:n=>{a(i=>({project:{...i.project,timeline:{clips:[...i.project.timeline.clips,n]}}}))},updateTimelineClip:(n,i)=>{a(o=>({project:{...o.project,timeline:{clips:o.project.timeline.clips.map(l=>l.id===n?{...l,...i}:l)}}}))},removeTimelineClip:n=>{a(i=>({project:{...i.project,timeline:{clips:i.project.timeline.clips.filter(o=>o.id!==n)}}}))},fetchAllProjects:async()=>{try{const{projectService:n}=await Bf(async()=>{const{projectService:o}=await Promise.resolve().then(()=>Hf);return{projectService:o}},[]),i=await n.getAllProjects();a({savedProjects:i})}catch(n){console.error("Failed to fetch projects",n)}},fetchProjectVersions:async n=>{console.log("[Lite] Fetch versions for",n)},saveProject:async()=>{const n=e();try{const{projectService:i}=await Bf(async()=>{const{projectService:u}=await Promise.resolve().then(()=>Hf);return{projectService:u}},void 0),o=n.project;let l=o.id;l==="default"?(l=(await i.createProject(o.meta.title,o)).id,a(h=>({project:{...h.project,id:l}}))):await i.saveVersion(l,o),console.log("Project Saved! ID:",l)}catch(i){console.error("Save Failed",i)}},loadProjectVersion:async n=>{try{const{projectService:i}=await Bf(async()=>{const{projectService:l}=await Promise.resolve().then(()=>Hf);return{projectService:l}},void 0),o=await i.getLatestVersion(n);o&&o.data&&e().setProject(o.data)}catch(i){console.error("Load Failed",i)}},reset:()=>{pe.reset(),a({project:structuredClone(z_),activePatterns:{drums:"pattern-d1",melody:"pattern-m1"}})},setProject:n=>{pe.reset(),a({project:n})},getActiveClips:n=>e().project.timeline.clips.filter(o=>n>=o.start&&n<o.start+o.duration)}));function ND(a,e){let n;try{n=a()}catch{return}return{getItem:o=>{var l;const u=d=>d===null?null:JSON.parse(d,void 0),h=(l=n.getItem(o))!=null?l:null;return h instanceof Promise?h.then(u):u(h)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const dp=a=>e=>{try{const n=a(e);return n instanceof Promise?n:{then(i){return dp(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return dp(i)(n)}}}},OD=(a,e)=>(n,i,o)=>{let l={storage:ND(()=>localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...e},u=!1;const h=new Set,d=new Set;let f=l.storage;if(!f)return a((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...S)},i,o);const y=()=>{const S=l.partialize({...i()});return f.setItem(l.name,{state:S,version:l.version})},g=o.setState;o.setState=(S,C)=>(g(S,C),y());const _=a((...S)=>(n(...S),y()),i,o);o.getInitialState=()=>_;let x;const v=()=>{var S,C;if(!f)return;u=!1,h.forEach(O=>{var k;return O((k=i())!=null?k:_)});const w=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(S=i())!=null?S:_))||void 0;return dp(f.getItem.bind(f))(l.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==l.version){if(l.migrate){const k=l.migrate(O.state,O.version);return k instanceof Promise?k.then(B=>[!0,B]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var k;const[B,N]=O;if(x=l.merge(N,(k=i())!=null?k:_),n(x,!0),B)return y()}).then(()=>{w?.(x,void 0),x=i(),u=!0,d.forEach(O=>O(x))}).catch(O=>{w?.(void 0,O)})};return o.persist={setOptions:S=>{l={...l,...S},S.storage&&(f=S.storage)},clearStorage:()=>{f?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>u,onHydrate:S=>(h.add(S),()=>{h.delete(S)}),onFinishHydration:S=>(d.add(S),()=>{d.delete(S)})},l.skipHydration||v(),x||_},MD=OD,kD=Vu()(MD(a=>({token:"demo-token",user:{id:1,email:"producer@boumb.app",username:"Demo Producer",roles:["ROLE_USER"]},isAuthenticated:!0,login:(e,n)=>a({token:e,user:n,isAuthenticated:!0}),logout:()=>a({token:null,user:null,isAuthenticated:!1})}),{name:"boumbapp-auth"})),Un=Vu(a=>({isLoading:!1,message:null,setLoading:(e,n)=>a({isLoading:e,message:e?n||"Loading...":null})})),U1="lite_projects_v1";function Yo(){try{return JSON.parse(localStorage.getItem(U1)||"[]")}catch{return[]}}function Pf(a){localStorage.setItem(U1,JSON.stringify(a))}const Zo={getAllProjects:async()=>Yo(),getLatestVersion:async a=>{const n=Yo().find(i=>i.id===String(a));return n?{id:1,versionNumber:1,data:n.data,createdAt:new Date(n.updatedAt).toISOString()}:null},getProjectVersions:async a=>{const n=Yo().find(i=>i.id===String(a));return n?[{id:1,versionNumber:1,data:n.data,createdAt:new Date(n.updatedAt).toISOString()}]:[]},createProject:async(a,e)=>{const n=Yo(),i={id:crypto.randomUUID?.()??String(Date.now()),name:a,isPublic:!1,data:e,createdAt:new Date().toISOString(),updatedAt:Date.now()};return n.unshift(i),Pf(n),i},saveVersion:async(a,e)=>{const n=Yo(),i=n.findIndex(o=>o.id===String(a));return i>=0?(n[i]={...n[i],data:e,updatedAt:Date.now()},Pf(n)):(n.unshift({id:a,name:"Untitled",data:e,updatedAt:Date.now()}),Pf(n)),console.log("[LITE] Fake saveVersion",{projectId:a,data:e}),2}},Hf=Object.freeze(Object.defineProperty({__proto__:null,projectService:Zo},Symbol.toStringTag,{value:"Module"})),Or=({variant:a="primary",size:e="md",icon:n,className:i="",children:o,label:l,...u})=>{const d=`btn--${a}`,f=`btn--${e}`,y=o||l;return T.jsxs("button",{className:`btn ${d} ${f} ${i}`,...u,children:[n&&T.jsx("span",{className:"btn__icon",children:n}),y&&T.jsx("span",{className:"btn__label",children:y})]})},ih=({active:a=!1,color:e,size:n=12,className:i="",style:o,...l})=>{const u={width:n,height:n,...o,...e&&{"--led-color":e}};return T.jsx("div",{className:`led ${a?"led--active":""} ${i}`,style:u,...l})},DD=({step:a})=>{const e=Math.floor(a/16)+1,n=Math.floor(a%16/4)+1,i=a%4+1,o=u=>u.toString().padStart(2,"0"),l=u=>u.toString().padStart(3,"0");return T.jsxs("div",{style:{fontFamily:"'Inter', 'Roboto Mono', monospace",fontSize:"13px",color:"#e0e0e0",backgroundColor:"rgba(255, 255, 255, 0.05)",padding:"6px 10px",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)",minWidth:"110px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.2)"},children:[T.jsx("span",{style:{color:"#fff",fontWeight:600},children:l(e)}),T.jsx("span",{style:{color:"#666"},children:":"}),T.jsx("span",{children:o(n)}),T.jsx("span",{style:{color:"#666"},children:":"}),T.jsx("span",{style:{color:"#aaa"},children:o(i)})]})},RD=({isPlaying:a=!1,isPaused:e=!1,isRecording:n=!1,bpm:i=120,onPlay:o,onPause:l,onStop:u,onRecord:h,onBpmChange:d,playMode:f="PATTERN",onToggleMode:y,currentStep:g=0})=>T.jsxs("div",{className:"transport-controls",children:[T.jsxs("div",{className:"transport-controls__group",children:[T.jsx(DD,{step:g}),T.jsxs("div",{className:"transport-controls__bpm",children:[T.jsx("span",{className:"transport-controls__bpm-label",children:"BPM"}),T.jsx("input",{type:"number",className:"transport-controls__bpm-input",value:i,onChange:_=>d?.(Number(_.target.value)),"aria-label":"BPM"})]}),T.jsx(Or,{variant:a?"primary":"secondary",onClick:o,"aria-label":"Play",children:""}),T.jsx(Or,{variant:e?"primary":"secondary",onClick:l,"aria-label":"Pause",children:""}),T.jsx(Or,{variant:"secondary",onClick:u,"aria-label":"Stop",children:""})]}),T.jsx("div",{className:"transport-controls__group",children:T.jsx(Or,{variant:f==="SKYLINE"?"primary":"secondary",onClick:y,"aria-label":"Toggle Play Mode",title:f==="SKYLINE"?"Mode: Skyline (Song)":"Mode: Pattern (Loop)",children:f==="SKYLINE"?T.jsx(b2,{size:18}):T.jsx(cE,{size:18})})}),T.jsxs("div",{className:"transport-controls__rec-wrapper",children:[T.jsx(Or,{variant:n?"primary":"secondary",onClick:h,"aria-label":"Record",style:n?{backgroundColor:"#ff4444",borderColor:"#ff4444"}:{},className:n?"btn--recording":"",children:""}),T.jsx(ih,{active:n,color:"#ff0000",size:10})]})]}),ks=({value:a=0,min:e=0,max:n=100,size:i=60,label:o,onChange:l,hideLabel:u,...h})=>{const d=A.useRef(null),[f,y]=A.useState(!1),g=A.useRef(0),_=A.useRef(0),x=Math.min(Math.max(a,e),n),S=(x-e)/(n-e)*270-135,C=i/2,w=i/2,O=C*.7,k=N=>{N.preventDefault(),y(!0),g.current=N.clientY,_.current=x},B=N=>{if(!l)return;const j=(n-e)/100;let D;if(N.key==="ArrowUp"||N.key==="ArrowRight")D=Math.min(x+j,n);else if(N.key==="ArrowDown"||N.key==="ArrowLeft")D=Math.max(x-j,e);else return;N.preventDefault(),l(D)};return A.useEffect(()=>{const N=D=>{if(!f||!l)return;const R=g.current-D.clientY,z=n-e,q=R/200*z;let I=_.current+q;I=Math.min(Math.max(I,e),n),l(I)},j=()=>{y(!1)};return f&&(globalThis.addEventListener("mousemove",N),globalThis.addEventListener("mouseup",j)),()=>{globalThis.removeEventListener("mousemove",N),globalThis.removeEventListener("mouseup",j)}},[f,n,e,l]),T.jsxs("div",{className:`knob ${f?"knob--active":""}`,role:"slider","aria-valuenow":x,"aria-valuemin":e,"aria-valuemax":n,"aria-label":o,tabIndex:0,ref:d,onMouseDown:k,onKeyDown:B,style:{width:i,cursor:f?"grabbing":"grab"},...h,children:[o&&T.jsx("div",{className:"knob__label",children:o}),T.jsxs("svg",{width:i,height:i,className:"knob__svg",children:[T.jsx("circle",{cx:w,cy:w,r:C-5,className:"knob__track",fill:"none",stroke:"currentColor",strokeWidth:"4"}),T.jsx("line",{x1:w,y1:w,x2:w,y2:w-O,className:"knob__pointer",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",transform:`rotate(${S}, ${w}, ${w})`})]})]})},au=({isOpen:a,onClose:e,title:n,children:i})=>a?T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:T.jsxs("div",{style:{backgroundColor:"#1e1e1e",padding:"24px",borderRadius:"8px",minWidth:"400px",maxWidth:"90%",maxHeight:"80vh",overflowY:"auto",border:"1px solid #333",color:"#eee",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #333",paddingBottom:"10px"},children:[T.jsx("h3",{style:{margin:0,fontSize:"1.2rem"},children:n}),T.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#aaa",cursor:"pointer",fontSize:"1.2rem",padding:"0 5px"},children:""})]}),i]})}):null,jD=({isOpen:a,onClose:e,onConfirm:n,title:i,message:o,confirmLabel:l="Confirm",cancelLabel:u="Cancel",isDestructive:h=!1})=>T.jsx(au,{isOpen:a,onClose:e,title:i,children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",padding:"10px 0"},children:[T.jsx("p",{style:{color:"#ccc",fontSize:"1rem",lineHeight:"1.5",margin:0},children:o}),T.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"10px"},children:[T.jsx("button",{onClick:e,style:{padding:"8px 16px",background:"transparent",border:"1px solid #444",borderRadius:"4px",color:"#aaa",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s"},onMouseOver:d=>{d.currentTarget.style.borderColor="#666",d.currentTarget.style.color="#fff"},onMouseOut:d=>{d.currentTarget.style.borderColor="#444",d.currentTarget.style.color="#aaa"},onFocus:d=>{d.currentTarget.style.borderColor="#666",d.currentTarget.style.color="#fff"},onBlur:d=>{d.currentTarget.style.borderColor="#444",d.currentTarget.style.color="#aaa"},children:u}),T.jsx("button",{onClick:n,style:{padding:"8px 16px",background:h?"#d32f2f":"#4CAF50",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseOver:d=>{d.currentTarget.style.filter="brightness(1.1)"},onMouseOut:d=>{d.currentTarget.style.filter="brightness(1)"},onFocus:d=>{d.currentTarget.style.filter="brightness(1.1)"},onBlur:d=>{d.currentTarget.style.filter="brightness(1)"},children:l})]})]})}),V_=({label:a,items:e,icon:n})=>{const[i,o]=A.useState(!1),l=A.useRef(null);A.useEffect(()=>{const h=d=>{l.current&&!l.current.contains(d.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const u=h=>{h.disabled||h.divider||(h.onClick&&h.onClick(),o(!1))};return T.jsxs("div",{ref:l,style:{position:"relative"},children:[T.jsxs("button",{onClick:()=>o(!i),style:{background:"transparent",border:"none",color:"#e1e1e6",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",borderRadius:"4px",fontSize:"0.9rem",fontWeight:500,transition:"background 0.2s",backgroundColor:i?"rgba(255, 255, 255, 0.1)":"transparent"},onMouseOver:h=>{i||(h.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onFocus:h=>{i||(h.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseOut:h=>{i||(h.currentTarget.style.backgroundColor="transparent")},onBlur:h=>{i||(h.currentTarget.style.backgroundColor="transparent")},children:[n,a,T.jsx(Op,{size:14,style:{opacity:.7}})]}),i&&T.jsx("div",{style:{position:"absolute",top:"100%",left:0,minWidth:"180px",backgroundColor:"#252525",border:"1px solid #333",borderRadius:"4px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",padding:"5px 0",zIndex:1e3,marginTop:"5px"},children:e.map((h,d)=>T.jsx(gt.Fragment,{children:h.divider?T.jsx("div",{style:{height:"1px",background:"#333",margin:"5px 0"}}):T.jsxs("button",{onClick:()=>u(h),disabled:h.disabled,style:{width:"100%",textAlign:"left",background:"transparent",border:"none",color:h.disabled?"#666":"#e1e1e6",padding:"8px 15px",fontSize:"0.85rem",cursor:h.disabled?"default":"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.1s"},onMouseOver:f=>{h.disabled||(f.currentTarget.style.backgroundColor="#333")},onFocus:f=>{h.disabled||(f.currentTarget.style.backgroundColor="#333")},onMouseOut:f=>{h.disabled||(f.currentTarget.style.backgroundColor="transparent")},onBlur:f=>{h.disabled||(f.currentTarget.style.backgroundColor="transparent")},children:[h.icon&&T.jsx("span",{style:{opacity:.8},children:h.icon}),h.label]})},d))})]})},LD=({onSave:a}={})=>{const{isPlaying:e,setIsPlaying:n,stop:i}=Us();A.useEffect(()=>{const o=l=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(l.code==="Space"&&!l.shiftKey&&(l.preventDefault(),n(!e)),l.code==="Space"&&l.shiftKey&&(l.preventDefault(),i()),(l.ctrlKey||l.metaKey)&&l.key.toLowerCase()==="s"&&(l.preventDefault(),a&&a()))};return globalThis.addEventListener("keydown",o),()=>globalThis.removeEventListener("keydown",o)},[e,n,i,a])},zD="_topBar_oyq5l_2",VD="_leftSection_oyq5l_13",qD="_centerSection_oyq5l_20",BD="_rightSection_oyq5l_28",UD="_projectInfo_oyq5l_40",ID="_badge_oyq5l_49",PD="_local_oyq5l_55",HD="_notification_oyq5l_60",FD="_mixControls_oyq5l_74",GD="_masterControl_oyq5l_81",$D="_muteBtn_oyq5l_93",YD="_ledContainer_oyq5l_106",XD="_active_oyq5l_116",WD="_userSection_oyq5l_120",QD="_langBtn_oyq5l_128",ZD="_userInfo_oyq5l_153",KD="_username_oyq5l_159",JD="_modalForm_oyq5l_193",eR="_createBtn_oyq5l_209",tR="_projectList_oyq5l_219",nR="_projectItem_oyq5l_226",sR="_aboutContent_oyq5l_240",Ye={topBar:zD,leftSection:VD,centerSection:qD,rightSection:BD,projectInfo:UD,badge:ID,local:PD,notification:HD,mixControls:FD,masterControl:GD,muteBtn:$D,ledContainer:YD,active:XD,userSection:WD,langBtn:QD,userInfo:ZD,username:KD,modalForm:JD,createBtn:eR,projectList:tR,projectItem:nR,aboutContent:sR},iR="_container_1xq5b_1",aR="_trigger_1xq5b_7",rR="_label_1xq5b_23",oR="_value_1xq5b_30",lR="_popover_1xq5b_38",cR="_column_1xq5b_64",uR="_grid_1xq5b_77",hR="_optionBtn_1xq5b_83",dR="_selected_1xq5b_98",fR="_scaleList_1xq5b_104",Bn={container:iR,trigger:aR,label:rR,value:oR,popover:lR,column:cR,grid:uR,optionBtn:hR,selected:dR,scaleList:fR},pR=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],mR=["Major","Minor","Dorian","Phrygian","Lydian","Mixolydian","Locrian"],gR=({root:a,scale:e,onChange:n})=>{const[i,o]=A.useState(!1),l=A.useRef(null);A.useEffect(()=>{const d=f=>{l.current&&!l.current.contains(f.target)&&o(!1)};return i&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[i]);const u=d=>{n(d,e)},h=d=>{n(a,d)};return T.jsxs("div",{className:Bn.container,ref:l,children:[T.jsxs("div",{role:"button",className:Bn.trigger,onClick:()=>o(!i),title:"Global Key",children:[T.jsx("span",{className:Bn.label,children:"KEY"}),T.jsxs("span",{className:Bn.value,children:[a," ",e]})]}),i&&T.jsxs("div",{className:Bn.popover,children:[T.jsxs("div",{className:Bn.column,children:[T.jsx("h5",{children:"Root"}),T.jsx("div",{className:Bn.grid,children:pR.map(d=>T.jsx("button",{className:`${Bn.optionBtn} ${a===d?Bn.selected:""}`,onClick:()=>u(d),children:d},d))})]}),T.jsxs("div",{className:Bn.column,children:[T.jsx("h5",{children:"Scale"}),T.jsx("div",{className:Bn.scaleList,children:mR.map(d=>T.jsx("button",{className:`${Bn.optionBtn} ${e===d?Bn.selected:""}`,onClick:()=>h(d),children:d},d))})]})]})]})},Ff=({value:a,onChange:e,color:n,label:i,size:o=28})=>T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[T.jsx(ks,{value:a*100,onChange:l=>e(l/100),size:o,min:0,max:100,color:n}),T.jsx("span",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase"},children:i})]}),yR=()=>{const{t:a,i18n:e}=bp(),{bpm:n,isPlaying:i,playingStep:o,playMode:l,masterVolume:u,isMasterMuted:h,juicyVolume:d,synthVolume:f,setIsPlaying:y,setBpm:g,stop:_,togglePlayMode:x,setMasterVolume:v,setMasterMute:S,setJuicyVolume:C,setSynthVolume:w}=Us(),{project:O,setProject:k}=Ke(),{user:B}=kD(),[N,j]=A.useState(!1),[D,R]=A.useState(!1),[z,q]=A.useState(!1),[I,P]=A.useState(!1),[J,$]=A.useState(""),[se,V]=A.useState([]),[F,Z]=A.useState(null),[ie,ae]=A.useState([]),[M,G]=A.useState(null),ee=ye=>{G(ye),setTimeout(()=>G(null),3e3)},re=()=>{P(!0)},oe=()=>{Ke.getState().reset(),ee(a("topbar.notifications.new_success")),P(!1)},ce=()=>{const ye=e.language==="en"?"fr":"en";e.changeLanguage(ye)},_e=async()=>{if(!B){ee(a("topbar.notifications.save_auth"));return}if(!O.backendId)$(O.meta.title||"My Song"),j(!0);else{Un.getState().setLoading(!0,"Sauvegarde de la version...");try{const ye=await Zo.saveVersion(O.backendId,O);ee(a("topbar.notifications.saved",{version:ye}))}catch(ye){console.error(ye),ee(a("auth.errors.generic"))}finally{Un.getState().setLoading(!1)}}};LD({onSave:_e});const ue=async()=>{Un.getState().setLoading(!0,"Cration du projet...");try{Ke.setState(Mn=>({project:{...Mn.project,meta:{...Mn.project.meta,title:J}}}));const ye={...O,meta:{...O.meta,title:J}},Oe=await Zo.createProject(J,ye);Ke.setState(Mn=>({project:{...Mn.project,meta:{...Mn.project.meta,title:J},backendId:Oe.id}})),j(!1),ee(a("topbar.notifications.created",{name:Oe.name}))}catch(ye){console.error(ye),ee(a("auth.errors.generic"))}finally{Un.getState().setLoading(!1)}},ze=async()=>{if(!B){ee(a("topbar.notifications.load_auth"));return}Un.getState().setLoading(!0,"Rcupration des projets...");try{const ye=await Zo.getAllProjects();V(ye),R(!0)}catch(ye){console.error(ye),ee(a("auth.errors.generic"))}finally{Un.getState().setLoading(!1)}},tt=ye=>{Un.getState().setLoading(!0,"Chargement du projet...");try{if(ye&&ye.data){const Oe={...ye.data,backendId:F};k(Oe),Oe.meta&&Oe.meta.bpm&&g(Oe.meta.bpm),R(!1),Z(null),ae([]),ee(a("topbar.notifications.loaded",{name:J,version:ye.versionNumber})),_()}else ee("No content for this version")}catch(Oe){console.error(Oe),ee(a("auth.errors.generic"))}finally{Un.getState().setLoading(!1)}};return T.jsxs("div",{className:Ye.topBar,children:[T.jsxs("div",{className:Ye.leftSection,children:[T.jsx(RD,{isPlaying:i,isPaused:!i&&o>0,bpm:n,onPlay:()=>y(!0),onPause:()=>y(!1),onStop:()=>_(),onBpmChange:ye=>{g(ye),Ke.setState(Oe=>({project:{...Oe.project,meta:{...Oe.project.meta,bpm:ye}}}))},playMode:l,onToggleMode:x,currentStep:o}),T.jsx("div",{style:{marginLeft:"12px",borderRight:"1px solid #333",paddingRight:"12px",display:"flex",alignItems:"center"},children:T.jsx(gR,{root:O.meta.globalKey?.root||"C",scale:O.meta.globalKey?.scale||"Major",onChange:(ye,Oe)=>Ke.getState().setGlobalKey(ye,Oe)})})]}),T.jsxs("div",{className:Ye.centerSection,children:[T.jsx(V_,{label:a("topbar.menu.project"),icon:T.jsx(i_,{size:16}),items:[{label:a("topbar.menu.new"),icon:T.jsx(q2,{size:16}),onClick:re},{label:a("topbar.menu.open"),icon:T.jsx(i_,{size:16}),onClick:ze},{label:a("topbar.menu.save"),icon:T.jsx(hE,{size:16}),onClick:_e},{divider:!0,label:"divider"},{label:a("topbar.menu.export_wav"),icon:T.jsx(D2,{size:16}),onClick:()=>ee(a("topbar.notifications.wip")),disabled:!0}]}),T.jsx(V_,{label:a("topbar.menu.help"),icon:T.jsx(N2,{size:16}),items:[{label:a("topbar.menu.docs"),icon:T.jsx(x2,{size:16}),onClick:()=>globalThis.open("/manual/index.html","_blank")},{label:a("topbar.menu.about"),icon:T.jsx($2,{size:16}),onClick:()=>q(!0)}]}),T.jsxs("span",{className:Ye.projectInfo,children:[O.meta.title," ",O.backendId?T.jsx("span",{className:Ye.badge,children:a("topbar.cloud")}):T.jsx("span",{className:`${Ye.badge} ${Ye.local}`,children:a("topbar.local")})]}),M&&T.jsx("div",{className:Ye.notification,children:M})]}),T.jsxs("div",{className:Ye.rightSection,children:[T.jsxs("div",{className:Ye.mixControls,children:[T.jsx(Ff,{value:d,onChange:C,color:"#FF5722",label:a("topbar.mix.juicy")}),T.jsx(Ff,{value:f,onChange:w,color:"#2196F3",label:a("topbar.mix.synth")}),T.jsxs("div",{className:Ye.masterControl,children:[T.jsx(Ff,{value:u,onChange:v,color:"#4CAF50",label:"MASTER",size:40}),T.jsx("button",{onClick:()=>S(!h),className:Ye.muteBtn,children:T.jsx("div",{className:`${Ye.ledContainer} ${h?"":Ye.active}`,children:T.jsx(ih,{active:!h,color:"#4CAF50",size:8})})})]})]}),T.jsxs("div",{className:Ye.userSection,children:[T.jsxs("button",{onClick:ce,className:Ye.langBtn,title:"Switch Language",children:[T.jsx(Eb,{size:16,style:{marginRight:"5px"}}),T.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:e.language.toUpperCase()})]}),B?T.jsx("div",{className:Ye.userInfo,children:T.jsx("span",{className:Ye.username,children:B.username})}):T.jsx("div",{className:Ye.userInfo,children:T.jsx("span",{className:Ye.username,children:"Guest"})})]})]}),T.jsx(jD,{isOpen:I,onClose:()=>P(!1),onConfirm:oe,title:a("topbar.modals.confirm_new_title"),message:a("topbar.notifications.new_confirm"),confirmLabel:"Reset Studio",isDestructive:!0}),T.jsx(au,{isOpen:N,onClose:()=>j(!1),title:a("topbar.modals.save_title"),children:T.jsxs("div",{className:Ye.modalForm,children:[T.jsx("label",{children:a("topbar.modals.project_name")}),T.jsx("input",{value:J,onChange:ye=>$(ye.target.value),autoFocus:!0}),T.jsx("button",{onClick:ue,className:Ye.createBtn,children:a("topbar.modals.create_btn")})]})}),T.jsx(au,{isOpen:D,onClose:()=>{R(!1),V([]),ae([]),Z(null)},title:a("topbar.modals.load_title"),children:F?T.jsxs("div",{className:Ye.versionView,children:[T.jsxs("div",{className:Ye.versionHeader,style:{display:"flex",alignItems:"center",marginBottom:"10px",gap:"10px"},children:[T.jsx("button",{onClick:()=>Z(null),style:{background:"none",border:"none",cursor:"pointer",color:"#888"},children:" Back"}),T.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:J})]}),T.jsx("div",{className:Ye.projectList,children:ie.map(ye=>T.jsxs("div",{className:Ye.projectItem,onClick:()=>tt(ye),role:"button",tabIndex:0,children:[T.jsxs("span",{style:{fontWeight:"bold"},children:["v",ye.versionNumber]}),T.jsx("span",{style:{fontSize:"0.8rem",color:"#666"},children:new Date(ye.createdAt).toLocaleString()})]},ye.id))})]}):T.jsx("div",{className:Ye.projectList,children:se.length===0?T.jsx("p",{style:{color:"#666",textAlign:"center"},children:a("topbar.modals.no_projects")}):se.map(ye=>T.jsxs("div",{className:Ye.projectItem,onClick:async()=>{Un.getState().setLoading(!0,"Rcupration des versions...");try{const Oe=await Zo.getProjectVersions(ye.id);ae(Oe),Z(ye.id),$(ye.name)}catch(Oe){console.error(Oe),ee("Error fetching versions")}finally{Un.getState().setLoading(!1)}},role:"button",tabIndex:0,children:[T.jsx("span",{style:{fontWeight:"bold"},children:ye.name}),T.jsx("span",{style:{fontSize:"0.8rem",color:"#666"},children:new Date(ye.updatedAt||ye.createdAt).toLocaleDateString()})]},ye.id))})}),T.jsx(au,{isOpen:z,onClose:()=>q(!1),title:a("topbar.menu.about"),children:T.jsxs("div",{className:Ye.aboutContent,children:[T.jsx("h2",{children:"BOUMBAPP"}),T.jsx("p",{style:{color:"#aaa",marginBottom:"20px"},children:"v0.1.0 (MVP)"}),T.jsxs("p",{style:{lineHeight:"1.6",marginBottom:"20px"},children:[a("hero.subtitle"),T.jsx("br",{}),"Built with React, Tone.js & Symfony."]}),T.jsxs("div",{style:{fontSize:"0.8rem",color:"#666"},children:[" ",new Date().getFullYear()," - Boumb'App Studio"]})]})})]})},vR="_browserPanel_1ow3z_1",_R="_header_1ow3z_15",bR="_content_1ow3z_31",SR="_kitSection_1ow3z_44",xR="_kitHeader_1ow3z_52",TR="_sampleList_1ow3z_70",CR="_sampleItem_1ow3z_75",xa={browserPanel:vR,header:_R,content:bR,kitSection:SR,kitHeader:xR,sampleList:TR,sampleItem:CR},ah=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wr(a){const e=Object.prototype.toString.call(a);return e==="[object Window]"||e==="[object global]"}function xm(a){return"nodeType"in a}function On(a){var e,n;return a?Wr(a)?a:xm(a)&&(e=(n=a.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Tm(a){const{Document:e}=On(a);return a instanceof e}function kl(a){return Wr(a)?!1:a instanceof On(a).HTMLElement}function I1(a){return a instanceof On(a).SVGElement}function Qr(a){return a?Wr(a)?a.document:xm(a)?Tm(a)?a:kl(a)||I1(a)?a.ownerDocument:document:document:document}const Ki=ah?A.useLayoutEffect:A.useEffect;function Cm(a){const e=A.useRef(a);return Ki(()=>{e.current=a}),A.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.current==null?void 0:e.current(...i)},[])}function wR(){const a=A.useRef(null),e=A.useCallback((i,o)=>{a.current=setInterval(i,o)},[]),n=A.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[e,n]}function ul(a,e){e===void 0&&(e=[a]);const n=A.useRef(a);return Ki(()=>{n.current!==a&&(n.current=a)},e),n}function Dl(a,e){const n=A.useRef();return A.useMemo(()=>{const i=a(n.current);return n.current=i,i},[...e])}function Ou(a){const e=Cm(a),n=A.useRef(null),i=A.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,i]}function fp(a){const e=A.useRef();return A.useEffect(()=>{e.current=a},[a]),e.current}let Gf={};function rh(a,e){return A.useMemo(()=>{if(e)return e;const n=Gf[a]==null?0:Gf[a]+1;return Gf[a]=n,a+"-"+n},[a,e])}function P1(a){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>{const h=Object.entries(u);for(const[d,f]of h){const y=l[d];y!=null&&(l[d]=y+a*f)}return l},{...e})}}const jr=P1(1),Mu=P1(-1);function ER(a){return"clientX"in a&&"clientY"in a}function H1(a){if(!a)return!1;const{KeyboardEvent:e}=On(a.target);return e&&a instanceof e}function AR(a){if(!a)return!1;const{TouchEvent:e}=On(a.target);return e&&a instanceof e}function pp(a){if(AR(a)){if(a.touches&&a.touches.length){const{clientX:e,clientY:n}=a.touches[0];return{x:e,y:n}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:e,clientY:n}=a.changedTouches[0];return{x:e,y:n}}}return ER(a)?{x:a.clientX,y:a.clientY}:null}const mp=Object.freeze({Translate:{toString(a){if(!a)return;const{x:e,y:n}=a;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:e,scaleY:n}=a;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(a){if(a)return[mp.Translate.toString(a),mp.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:e,duration:n,easing:i}=a;return e+" "+n+"ms "+i}}}),q_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function NR(a){return a.matches(q_)?a:a.querySelector(q_)}const OR={display:"none"};function MR(a){let{id:e,value:n}=a;return gt.createElement("div",{id:e,style:OR},n)}function kR(a){let{id:e,announcement:n,ariaLiveType:i="assertive"}=a;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gt.createElement("div",{id:e,style:o,role:"status","aria-live":i,"aria-atomic":!0},n)}function DR(){const[a,e]=A.useState("");return{announce:A.useCallback(i=>{i!=null&&e(i)},[]),announcement:a}}const F1=A.createContext(null);function RR(a){const e=A.useContext(F1);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(a)},[a,e])}function jR(){const[a]=A.useState(()=>new Set),e=A.useCallback(i=>(a.add(i),()=>a.delete(i)),[a]);return[A.useCallback(i=>{let{type:o,event:l}=i;a.forEach(u=>{var h;return(h=u[o])==null?void 0:h.call(u,l)})},[a]),e]}const LR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},zR={onDragStart(a){let{active:e}=a;return"Picked up draggable item "+e.id+"."},onDragOver(a){let{active:e,over:n}=a;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(a){let{active:e,over:n}=a;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(a){let{active:e}=a;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function VR(a){let{announcements:e=zR,container:n,hiddenTextDescribedById:i,screenReaderInstructions:o=LR}=a;const{announce:l,announcement:u}=DR(),h=rh("DndLiveRegion"),[d,f]=A.useState(!1);if(A.useEffect(()=>{f(!0)},[]),RR(A.useMemo(()=>({onDragStart(g){let{active:_}=g;l(e.onDragStart({active:_}))},onDragMove(g){let{active:_,over:x}=g;e.onDragMove&&l(e.onDragMove({active:_,over:x}))},onDragOver(g){let{active:_,over:x}=g;l(e.onDragOver({active:_,over:x}))},onDragEnd(g){let{active:_,over:x}=g;l(e.onDragEnd({active:_,over:x}))},onDragCancel(g){let{active:_,over:x}=g;l(e.onDragCancel({active:_,over:x}))}}),[l,e])),!d)return null;const y=gt.createElement(gt.Fragment,null,gt.createElement(MR,{id:i,value:o.draggable}),gt.createElement(kR,{id:h,announcement:u}));return n?Qo.createPortal(y,n):y}var Lt;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(Lt||(Lt={}));function ku(){}function qR(a,e){return A.useMemo(()=>({sensor:a,options:e??{}}),[a,e])}function BR(){for(var a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const _s=Object.freeze({x:0,y:0});function UR(a,e){let{data:{value:n}}=a,{data:{value:i}}=e;return i-n}function IR(a,e){if(!a||a.length===0)return null;const[n]=a;return n[e]}function PR(a,e){const n=Math.max(e.top,a.top),i=Math.max(e.left,a.left),o=Math.min(e.left+e.width,a.left+a.width),l=Math.min(e.top+e.height,a.top+a.height),u=o-i,h=l-n;if(i<o&&n<l){const d=e.width*e.height,f=a.width*a.height,y=u*h,g=y/(d+f-y);return Number(g.toFixed(4))}return 0}const HR=a=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=a;const o=[];for(const l of i){const{id:u}=l,h=n.get(u);if(h){const d=PR(h,e);d>0&&o.push({id:u,data:{droppableContainer:l,value:d}})}}return o.sort(UR)};function FR(a,e,n){return{...a,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function G1(a,e){return a&&e?{x:a.left-e.left,y:a.top-e.top}:_s}function GR(a){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return o.reduce((u,h)=>({...u,top:u.top+a*h.y,bottom:u.bottom+a*h.y,left:u.left+a*h.x,right:u.right+a*h.x}),{...n})}}const $R=GR(1);function YR(a){if(a.startsWith("matrix3d(")){const e=a.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(a.startsWith("matrix(")){const e=a.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function XR(a,e,n){const i=YR(e);if(!i)return a;const{scaleX:o,scaleY:l,x:u,y:h}=i,d=a.left-u-(1-o)*parseFloat(n),f=a.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),y=o?a.width/o:a.width,g=l?a.height/l:a.height;return{width:y,height:g,top:f,right:d+y,bottom:f+g,left:d}}const WR={ignoreTransform:!1};function Rl(a,e){e===void 0&&(e=WR);let n=a.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:y}=On(a).getComputedStyle(a);f&&(n=XR(n,f,y))}const{top:i,left:o,width:l,height:u,bottom:h,right:d}=n;return{top:i,left:o,width:l,height:u,bottom:h,right:d}}function B_(a){return Rl(a,{ignoreTransform:!0})}function QR(a){const e=a.innerWidth,n=a.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function ZR(a,e){return e===void 0&&(e=On(a).getComputedStyle(a)),e.position==="fixed"}function KR(a,e){e===void 0&&(e=On(a).getComputedStyle(a));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=e[o];return typeof l=="string"?n.test(l):!1})}function wm(a,e){const n=[];function i(o){if(e!=null&&n.length>=e||!o)return n;if(Tm(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!kl(o)||I1(o)||n.includes(o))return n;const l=On(a).getComputedStyle(o);return o!==a&&KR(o,l)&&n.push(o),ZR(o,l)?n:i(o.parentNode)}return a?i(a):n}function $1(a){const[e]=wm(a,1);return e??null}function $f(a){return!ah||!a?null:Wr(a)?a:xm(a)?Tm(a)||a===Qr(a).scrollingElement?window:kl(a)?a:null:null}function Y1(a){return Wr(a)?a.scrollX:a.scrollLeft}function X1(a){return Wr(a)?a.scrollY:a.scrollTop}function gp(a){return{x:Y1(a),y:X1(a)}}var It;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(It||(It={}));function W1(a){return!ah||!a?!1:a===document.scrollingElement}function Q1(a){const e={x:0,y:0},n=W1(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},i={x:a.scrollWidth-n.width,y:a.scrollHeight-n.height},o=a.scrollTop<=e.y,l=a.scrollLeft<=e.x,u=a.scrollTop>=i.y,h=a.scrollLeft>=i.x;return{isTop:o,isLeft:l,isBottom:u,isRight:h,maxScroll:i,minScroll:e}}const JR={x:.2,y:.2};function ej(a,e,n,i,o){let{top:l,left:u,right:h,bottom:d}=n;i===void 0&&(i=10),o===void 0&&(o=JR);const{isTop:f,isBottom:y,isLeft:g,isRight:_}=Q1(a),x={x:0,y:0},v={x:0,y:0},S={height:e.height*o.y,width:e.width*o.x};return!f&&l<=e.top+S.height?(x.y=It.Backward,v.y=i*Math.abs((e.top+S.height-l)/S.height)):!y&&d>=e.bottom-S.height&&(x.y=It.Forward,v.y=i*Math.abs((e.bottom-S.height-d)/S.height)),!_&&h>=e.right-S.width?(x.x=It.Forward,v.x=i*Math.abs((e.right-S.width-h)/S.width)):!g&&u<=e.left+S.width&&(x.x=It.Backward,v.x=i*Math.abs((e.left+S.width-u)/S.width)),{direction:x,speed:v}}function tj(a){if(a===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:n,right:i,bottom:o}=a.getBoundingClientRect();return{top:e,left:n,right:i,bottom:o,width:a.clientWidth,height:a.clientHeight}}function Z1(a){return a.reduce((e,n)=>jr(e,gp(n)),_s)}function nj(a){return a.reduce((e,n)=>e+Y1(n),0)}function sj(a){return a.reduce((e,n)=>e+X1(n),0)}function ij(a,e){if(e===void 0&&(e=Rl),!a)return;const{top:n,left:i,bottom:o,right:l}=e(a);$1(a)&&(o<=0||l<=0||n>=window.innerHeight||i>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const aj=[["x",["left","right"],nj],["y",["top","bottom"],sj]];class Em{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=wm(n),o=Z1(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,h]of aj)for(const d of u)Object.defineProperty(this,d,{get:()=>{const f=h(i),y=o[l]-f;return this.rect[d]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class el{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var o;(o=this.target)==null||o.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function rj(a){const{EventTarget:e}=On(a);return a instanceof e?a:Qr(a)}function Yf(a,e){const n=Math.abs(a.x),i=Math.abs(a.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var as;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(as||(as={}));function U_(a){a.preventDefault()}function oj(a){a.stopPropagation()}var it;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(it||(it={}));const K1={start:[it.Space,it.Enter],cancel:[it.Esc],end:[it.Space,it.Enter,it.Tab]},lj=(a,e)=>{let{currentCoordinates:n}=e;switch(a.code){case it.Right:return{...n,x:n.x+25};case it.Left:return{...n,x:n.x-25};case it.Down:return{...n,y:n.y+25};case it.Up:return{...n,y:n.y-25}}};class J1{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new el(Qr(n)),this.windowListeners=new el(On(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(as.Resize,this.handleCancel),this.windowListeners.add(as.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(as.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&ij(i),n(_s)}handleKeyDown(e){if(H1(e)){const{active:n,context:i,options:o}=this.props,{keyboardCodes:l=K1,coordinateGetter:u=lj,scrollBehavior:h="smooth"}=o,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=i.current,y=f?{x:f.left,y:f.top}:_s;this.referenceCoordinates||(this.referenceCoordinates=y);const g=u(e,{active:n,context:i.current,currentCoordinates:y});if(g){const _=Mu(g,y),x={x:0,y:0},{scrollableAncestors:v}=i.current;for(const S of v){const C=e.code,{isTop:w,isRight:O,isLeft:k,isBottom:B,maxScroll:N,minScroll:j}=Q1(S),D=tj(S),R={x:Math.min(C===it.Right?D.right-D.width/2:D.right,Math.max(C===it.Right?D.left:D.left+D.width/2,g.x)),y:Math.min(C===it.Down?D.bottom-D.height/2:D.bottom,Math.max(C===it.Down?D.top:D.top+D.height/2,g.y))},z=C===it.Right&&!O||C===it.Left&&!k,q=C===it.Down&&!B||C===it.Up&&!w;if(z&&R.x!==g.x){const I=S.scrollLeft+_.x,P=C===it.Right&&I<=N.x||C===it.Left&&I>=j.x;if(P&&!_.y){S.scrollTo({left:I,behavior:h});return}P?x.x=S.scrollLeft-I:x.x=C===it.Right?S.scrollLeft-N.x:S.scrollLeft-j.x,x.x&&S.scrollBy({left:-x.x,behavior:h});break}else if(q&&R.y!==g.y){const I=S.scrollTop+_.y,P=C===it.Down&&I<=N.y||C===it.Up&&I>=j.y;if(P&&!_.x){S.scrollTo({top:I,behavior:h});return}P?x.y=S.scrollTop-I:x.y=C===it.Down?S.scrollTop-N.y:S.scrollTop-j.y,x.y&&S.scrollBy({top:-x.y,behavior:h});break}}this.handleMove(e,jr(Mu(g,this.referenceCoordinates),x))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}J1.activators=[{eventName:"onKeyDown",handler:(a,e,n)=>{let{keyboardCodes:i=K1,onActivation:o}=e,{active:l}=n;const{code:u}=a.nativeEvent;if(i.start.includes(u)){const h=l.activatorNode.current;return h&&a.target!==h?!1:(a.preventDefault(),o?.({event:a.nativeEvent}),!0)}return!1}}];function I_(a){return!!(a&&"distance"in a)}function P_(a){return!!(a&&"delay"in a)}class Am{constructor(e,n,i){var o;i===void 0&&(i=rj(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:u}=l;this.props=e,this.events=n,this.document=Qr(u),this.documentListeners=new el(this.document),this.listeners=new el(i),this.windowListeners=new el(On(u)),this.initialCoordinates=(o=pp(l))!=null?o:_s,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(as.Resize,this.handleCancel),this.windowListeners.add(as.DragStart,U_),this.windowListeners.add(as.VisibilityChange,this.handleCancel),this.windowListeners.add(as.ContextMenu,U_),this.documentListeners.add(as.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(P_(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(I_(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:o}=this.props;o(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(as.Click,oj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(as.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:o,props:l}=this,{onMove:u,options:{activationConstraint:h}}=l;if(!o)return;const d=(n=pp(e))!=null?n:_s,f=Mu(o,d);if(!i&&h){if(I_(h)){if(h.tolerance!=null&&Yf(f,h.tolerance))return this.handleCancel();if(Yf(f,h.distance))return this.handleStart()}if(P_(h)&&Yf(f,h.tolerance))return this.handleCancel();this.handlePending(h,f);return}e.cancelable&&e.preventDefault(),u(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===it.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const cj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Nm extends Am{constructor(e){const{event:n}=e,i=Qr(n.target);super(e,cj,i)}}Nm.activators=[{eventName:"onPointerDown",handler:(a,e)=>{let{nativeEvent:n}=a,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const uj={move:{name:"mousemove"},end:{name:"mouseup"}};var yp;(function(a){a[a.RightClick=2]="RightClick"})(yp||(yp={}));class hj extends Am{constructor(e){super(e,uj,Qr(e.event.target))}}hj.activators=[{eventName:"onMouseDown",handler:(a,e)=>{let{nativeEvent:n}=a,{onActivation:i}=e;return n.button===yp.RightClick?!1:(i?.({event:n}),!0)}}];const Xf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dj extends Am{constructor(e){super(e,Xf)}static setup(){return window.addEventListener(Xf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Xf.move.name,e)};function e(){}}}dj.activators=[{eventName:"onTouchStart",handler:(a,e)=>{let{nativeEvent:n}=a,{onActivation:i}=e;const{touches:o}=n;return o.length>1?!1:(i?.({event:n}),!0)}}];var tl;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(tl||(tl={}));var Du;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})(Du||(Du={}));function fj(a){let{acceleration:e,activator:n=tl.Pointer,canScroll:i,draggingRect:o,enabled:l,interval:u=5,order:h=Du.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:y,delta:g,threshold:_}=a;const x=mj({delta:g,disabled:!l}),[v,S]=wR(),C=A.useRef({x:0,y:0}),w=A.useRef({x:0,y:0}),O=A.useMemo(()=>{switch(n){case tl.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case tl.DraggableRect:return o}},[n,o,d]),k=A.useRef(null),B=A.useCallback(()=>{const j=k.current;if(!j)return;const D=C.current.x*w.current.x,R=C.current.y*w.current.y;j.scrollBy(D,R)},[]),N=A.useMemo(()=>h===Du.TreeOrder?[...f].reverse():f,[h,f]);A.useEffect(()=>{if(!l||!f.length||!O){S();return}for(const j of N){if(i?.(j)===!1)continue;const D=f.indexOf(j),R=y[D];if(!R)continue;const{direction:z,speed:q}=ej(j,R,O,e,_);for(const I of["x","y"])x[I][z[I]]||(q[I]=0,z[I]=0);if(q.x>0||q.y>0){S(),k.current=j,v(B,u),C.current=q,w.current=z;return}}C.current={x:0,y:0},w.current={x:0,y:0},S()},[e,B,i,S,l,u,JSON.stringify(O),JSON.stringify(x),v,f,N,y,JSON.stringify(_)])}const pj={x:{[It.Backward]:!1,[It.Forward]:!1},y:{[It.Backward]:!1,[It.Forward]:!1}};function mj(a){let{delta:e,disabled:n}=a;const i=fp(e);return Dl(o=>{if(n||!i||!o)return pj;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[It.Backward]:o.x[It.Backward]||l.x===-1,[It.Forward]:o.x[It.Forward]||l.x===1},y:{[It.Backward]:o.y[It.Backward]||l.y===-1,[It.Forward]:o.y[It.Forward]||l.y===1}}},[n,e,i])}function gj(a,e){const n=e!=null?a.get(e):void 0,i=n?n.node.current:null;return Dl(o=>{var l;return e==null?null:(l=i??o)!=null?l:null},[i,e])}function yj(a,e){return A.useMemo(()=>a.reduce((n,i)=>{const{sensor:o}=i,l=o.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,i)}));return[...n,...l]},[]),[a,e])}var hl;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(hl||(hl={}));var vp;(function(a){a.Optimized="optimized"})(vp||(vp={}));const H_=new Map;function vj(a,e){let{dragging:n,dependencies:i,config:o}=e;const[l,u]=A.useState(null),{frequency:h,measure:d,strategy:f}=o,y=A.useRef(a),g=C(),_=ul(g),x=A.useCallback(function(w){w===void 0&&(w=[]),!_.current&&u(O=>O===null?w:O.concat(w.filter(k=>!O.includes(k))))},[_]),v=A.useRef(null),S=Dl(w=>{if(g&&!n)return H_;if(!w||w===H_||y.current!==a||l!=null){const O=new Map;for(let k of a){if(!k)continue;if(l&&l.length>0&&!l.includes(k.id)&&k.rect.current){O.set(k.id,k.rect.current);continue}const B=k.node.current,N=B?new Em(d(B),B):null;k.rect.current=N,N&&O.set(k.id,N)}return O}return w},[a,l,n,g,d]);return A.useEffect(()=>{y.current=a},[a]),A.useEffect(()=>{g||x()},[n,g]),A.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),A.useEffect(()=>{g||typeof h!="number"||v.current!==null||(v.current=setTimeout(()=>{x(),v.current=null},h))},[h,g,x,...i]),{droppableRects:S,measureDroppableContainers:x,measuringScheduled:l!=null};function C(){switch(f){case hl.Always:return!1;case hl.BeforeDragging:return n;default:return!n}}}function eS(a,e){return Dl(n=>a?n||(typeof e=="function"?e(a):a):null,[e,a])}function _j(a,e){return eS(a,e)}function bj(a){let{callback:e,disabled:n}=a;const i=Cm(e),o=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,n]);return A.useEffect(()=>()=>o?.disconnect(),[o]),o}function oh(a){let{callback:e,disabled:n}=a;const i=Cm(e),o=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[n]);return A.useEffect(()=>()=>o?.disconnect(),[o]),o}function Sj(a){return new Em(Rl(a),a)}function F_(a,e,n){e===void 0&&(e=Sj);const[i,o]=A.useState(null);function l(){o(d=>{if(!a)return null;if(a.isConnected===!1){var f;return(f=d??n)!=null?f:null}const y=e(a);return JSON.stringify(d)===JSON.stringify(y)?d:y})}const u=bj({callback(d){if(a)for(const f of d){const{type:y,target:g}=f;if(y==="childList"&&g instanceof HTMLElement&&g.contains(a)){l();break}}}}),h=oh({callback:l});return Ki(()=>{l(),a?(h?.observe(a),u?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),u?.disconnect())},[a]),i}function xj(a){const e=eS(a);return G1(a,e)}const G_=[];function Tj(a){const e=A.useRef(a),n=Dl(i=>a?i&&i!==G_&&a&&e.current&&a.parentNode===e.current.parentNode?i:wm(a):G_,[a]);return A.useEffect(()=>{e.current=a},[a]),n}function Cj(a){const[e,n]=A.useState(null),i=A.useRef(a),o=A.useCallback(l=>{const u=$f(l.target);u&&n(h=>h?(h.set(u,gp(u)),new Map(h)):null)},[]);return A.useEffect(()=>{const l=i.current;if(a!==l){u(l);const h=a.map(d=>{const f=$f(d);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,gp(f)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),i.current=a}return()=>{u(a),u(l)};function u(h){h.forEach(d=>{const f=$f(d);f?.removeEventListener("scroll",o)})}},[o,a]),A.useMemo(()=>a.length?e?Array.from(e.values()).reduce((l,u)=>jr(l,u),_s):Z1(a):_s,[a,e])}function $_(a,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const i=a!==_s;i&&!n.current&&(n.current=a),!i&&n.current&&(n.current=null)},[a]),n.current?Mu(a,n.current):_s}function wj(a){A.useEffect(()=>{if(!ah)return;const e=a.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},a.map(e=>{let{sensor:n}=e;return n}))}function Ej(a,e){return A.useMemo(()=>a.reduce((n,i)=>{let{eventName:o,handler:l}=i;return n[o]=u=>{l(u,e)},n},{}),[a,e])}function tS(a){return A.useMemo(()=>a?QR(a):null,[a])}const Y_=[];function Aj(a,e){e===void 0&&(e=Rl);const[n]=a,i=tS(n?On(n):null),[o,l]=A.useState(Y_);function u(){l(()=>a.length?a.map(d=>W1(d)?i:new Em(e(d),d)):Y_)}const h=oh({callback:u});return Ki(()=>{h?.disconnect(),u(),a.forEach(d=>h?.observe(d))},[a]),o}function Nj(a){if(!a)return null;if(a.children.length>1)return a;const e=a.children[0];return kl(e)?e:a}function Oj(a){let{measure:e}=a;const[n,i]=A.useState(null),o=A.useCallback(f=>{for(const{target:y}of f)if(kl(y)){i(g=>{const _=e(y);return g?{...g,width:_.width,height:_.height}:_});break}},[e]),l=oh({callback:o}),u=A.useCallback(f=>{const y=Nj(f);l?.disconnect(),y&&l?.observe(y),i(y?e(y):null)},[e,l]),[h,d]=Ou(u);return A.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const Mj=[{sensor:Nm,options:{}},{sensor:J1,options:{}}],kj={current:{}},ru={draggable:{measure:B_},droppable:{measure:B_,strategy:hl.WhileDragging,frequency:vp.Optimized},dragOverlay:{measure:Rl}};class nl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const Dj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ku},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ru,measureDroppableContainers:ku,windowRect:null,measuringScheduled:!1},Rj={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ku,draggableNodes:new Map,over:null,measureDroppableContainers:ku},lh=A.createContext(Rj),jj=A.createContext(Dj);function Lj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nl}}}function zj(a,e){switch(e.type){case Lt.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Lt.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:e.coordinates.x-a.draggable.initialCoordinates.x,y:e.coordinates.y-a.draggable.initialCoordinates.y}}};case Lt.DragEnd:case Lt.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Lt.RegisterDroppable:{const{element:n}=e,{id:i}=n,o=new nl(a.droppable.containers);return o.set(i,n),{...a,droppable:{...a.droppable,containers:o}}}case Lt.SetDroppableDisabled:{const{id:n,key:i,disabled:o}=e,l=a.droppable.containers.get(n);if(!l||i!==l.key)return a;const u=new nl(a.droppable.containers);return u.set(n,{...l,disabled:o}),{...a,droppable:{...a.droppable,containers:u}}}case Lt.UnregisterDroppable:{const{id:n,key:i}=e,o=a.droppable.containers.get(n);if(!o||i!==o.key)return a;const l=new nl(a.droppable.containers);return l.delete(n),{...a,droppable:{...a.droppable,containers:l}}}default:return a}}function Vj(a){let{disabled:e}=a;const{active:n,activatorEvent:i,draggableNodes:o}=A.useContext(lh),l=fp(i),u=fp(n?.id);return A.useEffect(()=>{if(!e&&!i&&l&&u!=null){if(!H1(l)||document.activeElement===l.target)return;const h=o.get(u);if(!h)return;const{activatorNode:d,node:f}=h;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const y of[d.current,f.current]){if(!y)continue;const g=NR(y);if(g){g.focus();break}}})}},[i,e,o,u,l]),null}function qj(a,e){let{transform:n,...i}=e;return a!=null&&a.length?a.reduce((o,l)=>l({transform:o,...i}),n):n}function Bj(a){return A.useMemo(()=>({draggable:{...ru.draggable,...a?.draggable},droppable:{...ru.droppable,...a?.droppable},dragOverlay:{...ru.dragOverlay,...a?.dragOverlay}}),[a?.draggable,a?.droppable,a?.dragOverlay])}function Uj(a){let{activeNode:e,measure:n,initialRect:i,config:o=!0}=a;const l=A.useRef(!1),{x:u,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Ki(()=>{if(!u&&!h||!e){l.current=!1;return}if(l.current||!i)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const y=n(f),g=G1(y,i);if(u||(g.x=0),h||(g.y=0),l.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const _=$1(f);_&&_.scrollBy({top:g.y,left:g.x})}},[e,u,h,i,n])}const nS=A.createContext({..._s,scaleX:1,scaleY:1});var $i;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})($i||($i={}));const Ij=A.memo(function(e){var n,i,o,l;let{id:u,accessibility:h,autoScroll:d=!0,children:f,sensors:y=Mj,collisionDetection:g=HR,measuring:_,modifiers:x,...v}=e;const S=A.useReducer(zj,void 0,Lj),[C,w]=S,[O,k]=jR(),[B,N]=A.useState($i.Uninitialized),j=B===$i.Initialized,{draggable:{active:D,nodes:R,translate:z},droppable:{containers:q}}=C,I=D!=null?R.get(D):null,P=A.useRef({initial:null,translated:null}),J=A.useMemo(()=>{var bt;return D!=null?{id:D,data:(bt=I?.data)!=null?bt:kj,rect:P}:null},[D,I]),$=A.useRef(null),[se,V]=A.useState(null),[F,Z]=A.useState(null),ie=ul(v,Object.values(v)),ae=rh("DndDescribedBy",u),M=A.useMemo(()=>q.getEnabled(),[q]),G=Bj(_),{droppableRects:ee,measureDroppableContainers:re,measuringScheduled:oe}=vj(M,{dragging:j,dependencies:[z.x,z.y],config:G.droppable}),ce=gj(R,D),_e=A.useMemo(()=>F?pp(F):null,[F]),ue=Ba(),ze=_j(ce,G.draggable.measure);Uj({activeNode:D!=null?R.get(D):null,config:ue.layoutShiftCompensation,initialRect:ze,measure:G.draggable.measure});const tt=F_(ce,G.draggable.measure,ze),ye=F_(ce?ce.parentElement:null),Oe=A.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Mn=q.getNodeFor((n=Oe.current.over)==null?void 0:n.id),Ht=Oj({measure:G.dragOverlay.measure}),le=(i=Ht.nodeRef.current)!=null?i:ce,me=j?(o=Ht.rect)!=null?o:tt:null,ut=!!(Ht.nodeRef.current&&Ht.rect),Fe=xj(ut?null:tt),Ae=tS(le?On(le):null),je=Tj(j?Mn??ce:null),_t=Aj(je),rn=qj(x,{transform:{x:z.x-Fe.x,y:z.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:F,active:J,activeNodeRect:tt,containerNodeRect:ye,draggingNodeRect:me,over:Oe.current.over,overlayNodeRect:Ht.rect,scrollableAncestors:je,scrollableAncestorRects:_t,windowRect:Ae}),Cs=_e?jr(_e,z):null,Et=Cj(je),Zr=$_(Et),Va=$_(Et,[tt]),Is=jr(rn,Zr),ls=me?$R(me,rn):null,na=J&&ls?g({active:J,collisionRect:ls,droppableRects:ee,droppableContainers:M,pointerCoordinates:Cs}):null,Kr=IR(na,"id"),[ws,jl]=A.useState(null),sa=ut?rn:jr(rn,Va),on=FR(sa,(l=ws?.rect)!=null?l:null,tt),Gn=A.useRef(null),Kt=A.useCallback((bt,St)=>{let{sensor:Vt,options:mn}=St;if($.current==null)return;const gn=R.get($.current);if(!gn)return;const Jt=bt.nativeEvent,yn=new Vt({active:$.current,activeNode:gn,event:Jt,options:mn,context:Oe,onAbort(Dt){if(!R.get(Dt))return;const{onDragAbort:kn}=ie.current,Yn={id:Dt};kn?.(Yn),O({type:"onDragAbort",event:Yn})},onPending(Dt,cs,kn,Yn){if(!R.get(Dt))return;const{onDragPending:Hs}=ie.current,us={id:Dt,constraint:cs,initialCoordinates:kn,offset:Yn};Hs?.(us),O({type:"onDragPending",event:us})},onStart(Dt){const cs=$.current;if(cs==null)return;const kn=R.get(cs);if(!kn)return;const{onDragStart:Yn}=ie.current,Ps={activatorEvent:Jt,active:{id:cs,data:kn.data,rect:P}};Qo.unstable_batchedUpdates(()=>{Yn?.(Ps),N($i.Initializing),w({type:Lt.DragStart,initialCoordinates:Dt,active:cs}),O({type:"onDragStart",event:Ps}),V(Gn.current),Z(Jt)})},onMove(Dt){w({type:Lt.DragMove,coordinates:Dt})},onEnd:$n(Lt.DragEnd),onCancel:$n(Lt.DragCancel)});Gn.current=yn;function $n(Dt){return async function(){const{active:kn,collisions:Yn,over:Ps,scrollAdjustedTranslate:Hs}=Oe.current;let us=null;if(kn&&Hs){const{cancelDrop:vi}=ie.current;us={activatorEvent:Jt,active:kn,collisions:Yn,delta:Hs,over:Ps},Dt===Lt.DragEnd&&typeof vi=="function"&&await Promise.resolve(vi(us))&&(Dt=Lt.DragCancel)}$.current=null,Qo.unstable_batchedUpdates(()=>{w({type:Dt}),N($i.Uninitialized),jl(null),V(null),Z(null),Gn.current=null;const vi=Dt===Lt.DragEnd?"onDragEnd":"onDragCancel";if(us){const Xn=ie.current[vi];Xn?.(us),O({type:vi,event:us})}})}}},[R]),hh=A.useCallback((bt,St)=>(Vt,mn)=>{const gn=Vt.nativeEvent,Jt=R.get(mn);if($.current!==null||!Jt||gn.dndKit||gn.defaultPrevented)return;const yn={active:Jt};bt(Vt,St.options,yn)===!0&&(gn.dndKit={capturedBy:St.sensor},$.current=mn,Kt(Vt,St))},[R,Kt]),Ll=yj(y,hh);wj(y),Ki(()=>{tt&&B===$i.Initializing&&N($i.Initialized)},[tt,B]),A.useEffect(()=>{const{onDragMove:bt}=ie.current,{active:St,activatorEvent:Vt,collisions:mn,over:gn}=Oe.current;if(!St||!Vt)return;const Jt={active:St,activatorEvent:Vt,collisions:mn,delta:{x:Is.x,y:Is.y},over:gn};Qo.unstable_batchedUpdates(()=>{bt?.(Jt),O({type:"onDragMove",event:Jt})})},[Is.x,Is.y]),A.useEffect(()=>{const{active:bt,activatorEvent:St,collisions:Vt,droppableContainers:mn,scrollAdjustedTranslate:gn}=Oe.current;if(!bt||$.current==null||!St||!gn)return;const{onDragOver:Jt}=ie.current,yn=mn.get(Kr),$n=yn&&yn.rect.current?{id:yn.id,rect:yn.rect.current,data:yn.data,disabled:yn.disabled}:null,Dt={active:bt,activatorEvent:St,collisions:Vt,delta:{x:gn.x,y:gn.y},over:$n};Qo.unstable_batchedUpdates(()=>{jl($n),Jt?.(Dt),O({type:"onDragOver",event:Dt})})},[Kr]),Ki(()=>{Oe.current={activatorEvent:F,active:J,activeNode:ce,collisionRect:ls,collisions:na,droppableRects:ee,draggableNodes:R,draggingNode:le,draggingNodeRect:me,droppableContainers:q,over:ws,scrollableAncestors:je,scrollAdjustedTranslate:Is},P.current={initial:me,translated:ls}},[J,ce,na,ls,R,le,me,ee,q,ws,je,Is]),fj({...ue,delta:z,draggingRect:ls,pointerCoordinates:Cs,scrollableAncestors:je,scrollableAncestorRects:_t});const dh=A.useMemo(()=>({active:J,activeNode:ce,activeNodeRect:tt,activatorEvent:F,collisions:na,containerNodeRect:ye,dragOverlay:Ht,draggableNodes:R,droppableContainers:q,droppableRects:ee,over:ws,measureDroppableContainers:re,scrollableAncestors:je,scrollableAncestorRects:_t,measuringConfiguration:G,measuringScheduled:oe,windowRect:Ae}),[J,ce,tt,F,na,ye,Ht,R,q,ee,ws,re,je,_t,G,oe,Ae]),qa=A.useMemo(()=>({activatorEvent:F,activators:Ll,active:J,activeNodeRect:tt,ariaDescribedById:{draggable:ae},dispatch:w,draggableNodes:R,over:ws,measureDroppableContainers:re}),[F,Ll,J,tt,w,ae,R,ws,re]);return gt.createElement(F1.Provider,{value:k},gt.createElement(lh.Provider,{value:qa},gt.createElement(jj.Provider,{value:dh},gt.createElement(nS.Provider,{value:on},f)),gt.createElement(Vj,{disabled:h?.restoreFocus===!1})),gt.createElement(VR,{...h,hiddenTextDescribedById:ae}));function Ba(){const bt=se?.autoScrollEnabled===!1,St=typeof d=="object"?d.enabled===!1:d===!1,Vt=j&&!bt&&!St;return typeof d=="object"?{...d,enabled:Vt}:{enabled:Vt}}}),Pj=A.createContext(null),X_="button",Hj="Draggable";function Fj(a){let{id:e,data:n,disabled:i=!1,attributes:o}=a;const l=rh(Hj),{activators:u,activatorEvent:h,active:d,activeNodeRect:f,ariaDescribedById:y,draggableNodes:g,over:_}=A.useContext(lh),{role:x=X_,roleDescription:v="draggable",tabIndex:S=0}=o??{},C=d?.id===e,w=A.useContext(C?nS:Pj),[O,k]=Ou(),[B,N]=Ou(),j=Ej(u,e),D=ul(n);Ki(()=>(g.set(e,{id:e,key:l,node:O,activatorNode:B,data:D}),()=>{const z=g.get(e);z&&z.key===l&&g.delete(e)}),[g,e]);const R=A.useMemo(()=>({role:x,tabIndex:S,"aria-disabled":i,"aria-pressed":C&&x===X_?!0:void 0,"aria-roledescription":v,"aria-describedby":y.draggable}),[i,x,S,C,v,y.draggable]);return{active:d,activatorEvent:h,activeNodeRect:f,attributes:R,isDragging:C,listeners:i?void 0:j,node:O,over:_,setNodeRef:k,setActivatorNodeRef:N,transform:w}}const Gj="Droppable",$j={timeout:25};function sS(a){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:o}=a;const l=rh(Gj),{active:u,dispatch:h,over:d,measureDroppableContainers:f}=A.useContext(lh),y=A.useRef({disabled:n}),g=A.useRef(!1),_=A.useRef(null),x=A.useRef(null),{disabled:v,updateMeasurementsFor:S,timeout:C}={...$j,...o},w=ul(S??i),O=A.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{f(Array.isArray(w.current)?w.current:[w.current]),x.current=null},C)},[C]),k=oh({callback:O,disabled:v||!u}),B=A.useCallback((R,z)=>{k&&(z&&(k.unobserve(z),g.current=!1),R&&k.observe(R))},[k]),[N,j]=Ou(B),D=ul(e);return A.useEffect(()=>{!k||!N.current||(k.disconnect(),g.current=!1,k.observe(N.current))},[N,k]),A.useEffect(()=>(h({type:Lt.RegisterDroppable,element:{id:i,key:l,disabled:n,node:N,rect:_,data:D}}),()=>h({type:Lt.UnregisterDroppable,key:l,id:i})),[i]),A.useEffect(()=>{n!==y.current.disabled&&(h({type:Lt.SetDroppableDisabled,id:i,key:l,disabled:n}),y.current.disabled=n)},[i,l,n,h]),{active:u,rect:_,isOver:d?.id===i,node:N,over:d,setNodeRef:j}}const Yj=({id:a,data:e,children:n,className:i})=>{const{attributes:o,listeners:l,setNodeRef:u,transform:h,isDragging:d}=Fj({id:a,data:e}),f={transform:mp.Translate.toString(h),opacity:d?.5:1};return T.jsx("div",{ref:u,style:f,...l,...o,className:i,children:n})},Xj={kick:"Grosse Caisse",snare:"Caisse Claire",closedHat:"Hi-Hat Ferm",openHat:"Hi-Hat Ouvert",crash:"Cymbale Crash",tom:"Tom",perc:"Percussion"},Wj=()=>{const[a,e]=A.useState({}),[n,i]=A.useState({});A.useEffect(()=>{console.log("BrowserPanel: Mounting and fetching kits..."),Un.getState().setLoading(!0,"Chargement de la bibliothque...");const l="/BoumbApp/",u=`${l.endsWith("/")?l:l+"/"}samples/kits.json`;console.log("Fetching manifest from:",u),fetch(u).then(h=>{if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return h.json()}).then(h=>{console.log("BrowserPanel: Kits Loaded",h),e(h.kits);const d={},f=Object.keys(h.kits);f.length>0&&(d[f[0]]=!0),i(d)}).catch(h=>{console.error("Failed to load kits.json",h),e({debug:{name:"DEBUG KIT (Fetch Failed)",samples:{kick:"debug_kick"}}}),i({debug:!0})}).finally(()=>{Un.getState().setLoading(!1)})},[]);const o=l=>{i(u=>({...u,[l]:!u[l]}))};return T.jsxs("div",{className:xa.browserPanel,children:[T.jsx("div",{className:xa.header,children:T.jsx("h3",{children:"Bibliothque"})}),T.jsx("div",{className:xa.content,children:Object.entries(a).map(([l,u])=>T.jsxs("div",{className:xa.kitSection,children:[T.jsx("div",{className:xa.kitHeader,style:{cursor:"pointer",display:"flex",alignItems:"center",padding:"6px"},children:T.jsxs("div",{role:"button",tabIndex:0,style:{display:"flex",alignItems:"center",gap:"8px",flex:1,outline:"none"},onClick:h=>{h.stopPropagation(),o(l)},onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&o(l)},children:[n[l]?T.jsx(Op,{size:14}):T.jsx(wb,{size:14}),T.jsx(Ab,{size:14,color:"#ff5722"})," ",T.jsx("span",{style:{fontWeight:600,fontSize:"13px"},children:u.name})]})}),n[l]&&T.jsx("div",{className:xa.sampleList,children:Object.entries(u.samples).map(([h,d])=>{const f="/BoumbApp/",y=`${f.endsWith("/")?f:f+"/"}${d}`;return T.jsx(Yj,{id:`sample-${l}-${h}`,data:{type:"sample",kitId:l,sampleType:h,path:y},className:xa.sampleItem,children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,width:"100%"},onClick:()=>pe.previewSample(y),children:[T.jsx(z2,{size:12,color:"#888"}),T.jsx("span",{children:Xj[h]||h})]})},`${l}-${h}`)})})]},l))})]})},Qj=()=>{const{isLoading:a,message:e}=Un();return a?T.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",zIndex:9999,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",fontFamily:"'Inter', sans-serif"},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",background:"#1e1e1e",padding:"32px 48px",borderRadius:"12px",border:"1px solid #333",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[T.jsx(Q2,{size:48,className:"animate-spin",color:"#bb86fc",style:{animation:"spin 1s linear infinite"}}),T.jsx("span",{style:{fontSize:"1.1rem",fontWeight:500,letterSpacing:"0.05em"},children:e||"Loading..."})]}),T.jsx("style",{children:`
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]}):null},Zj=()=>{const a=pi(),e=Cp(),[n,i]=A.useState(!1),{project:o,updateTrackInstrument:l,addTrack:u}=Ke(),h=BR(qR(Nm,{activationConstraint:{distance:8}})),d=g=>{const{active:_,over:x}=g;if(!x)return;const v=_.data.current,S=x.data.current;if(!(!v||!S)){if(console.log("DnD Drop:",{source:v,target:S}),v.type==="sample"&&S.type==="track-target"){const C=S.trackId,w=v.path;C&&w&&l(C,{sampleId:w})}else if(v.type==="sample"&&S.type==="kit-target"){const C=v.path;if(Object.values(o.tracks).filter(N=>N.type==="drums").length>=8){console.warn("Max drum tracks (8) reached.");return}const k=(C.split("/").pop()||"New Track").split(".")[0],B=u("drums",k,"sampler");l(B,{sampleId:C})}}},f=A.useMemo(()=>{const g=a.pathname;return g.includes("/song")?"skyline":g.includes("/juicy")?"studio":g.includes("/synth")?"synthlab":g.includes("/mixer")?"mixer":"studio"},[a.pathname]),y=g=>{switch(g){case"skyline":e("/app/song");break;case"studio":e("/app/juicy");break;case"synthlab":e("/app/synth");break;case"mixer":e("/app/mixer");break;default:console.log("Navigate to:",g)}};return T.jsxs(Ij,{sensors:h,onDragEnd:d,children:[T.jsx(Qj,{}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",overflow:"hidden",backgroundColor:"#1e1e1e",color:"#fff"},children:[T.jsx(yR,{}),T.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[T.jsx(AE,{currentView:f,onViewChange:y,toggleBrowser:()=>i(!n),isBrowserOpen:n}),n&&T.jsx(Wj,{}),T.jsx("div",{style:{flex:1,overflow:"hidden",position:"relative"},children:T.jsx(Dw,{})})]})]})]})},ch=a=>{const{project:e,activePatterns:n}=Ke(),{playMode:i}=Us(),o=A.useRef(a);return A.useEffect(()=>{o.current=a},[a]),A.useEffect(()=>{Object.values(e.tracks).forEach(l=>{pe.syncTrack({id:l.id,type:l.type==="drums"?"sampler":"synth",instrument:l.instrument,mixerChannelId:l.mixerChannelId}),pe.setTrackVolume(l.id,l.volume),pe.setTrackPan(l.id,l.pan),pe.setTrackMute(l.id,l.muted),pe.setTrackSolo(l.id,l.solo)})},[e.tracks]),A.useEffect(()=>{if(!e.mixer)return;const l=e.mixer;pe.setChannelVolume("master",l.master.volume),pe.setChannelMute("master",l.master.muted),pe.rebuildChannelChain("master",l.master.effects),Object.values(l.groups).forEach(u=>{pe.setChannelVolume(u.id,u.volume),pe.setChannelMute(u.id,u.muted),pe.setChannelOutput(u.id,u.output),pe.rebuildChannelChain(u.id,u.effects)}),Object.values(l.inserts).forEach(u=>{pe.setChannelVolume(u.id,u.volume),pe.setChannelMute(u.id,u.muted),pe.setChannelOutput(u.id,u.output),pe.rebuildChannelChain(u.id,u.effects)})},[e.mixer]),A.useEffect(()=>{if(i==="PATTERN"){const l=n.drums;Object.values(e.tracks).filter(h=>h.type==="drums").forEach(h=>{let d=[];l&&e.drumPatterns[l]&&e.drumPatterns[l].clips[h.id]&&(d=e.drumPatterns[l].clips[h.id]),pe.setTrackClips(h.id,d,32)});const u=n.melody;Object.values(e.tracks).filter(h=>h.type==="melody").forEach(h=>{let d=[];u&&e.melodicPatterns[u]&&e.melodicPatterns[u].clips[h.id]&&(d=e.melodicPatterns[u].clips[h.id]),pe.setTrackClips(h.id,d,64)}),lt().loop=!0,lt().loopStart=0,lt().loopEnd="2:0:0"}else{const l={};Object.keys(e.tracks).forEach(f=>{l[f]=[]}),e.timeline.clips.forEach(f=>{const g=!!e.drumPatterns[f.patternId]?e.drumPatterns[f.patternId]:e.melodicPatterns[f.patternId];if(!g){console.warn(`[useProjectAudio] Pattern not found for clip ${f.id} (PatternID: ${f.patternId})`);return}Object.keys(g.clips).forEach(_=>{if(!l[_])return;const x=g.clips[_],v=f.start;x.forEach(S=>{const[C,w,O]=S.time.split(":").map(Number),k=C*16+w*4+O;let B=v+k;B<0&&(B=0),B=Math.round(B);const N=Math.floor(B/16),j=B%16,D=Math.floor(j/4),R=j%4;l[_].push({...S,time:`${N}:${D}:${R}`})})})}),console.log(`[useProjectAudio] Scheduling Song Mode. Clips: ${e.timeline.clips.length}`),Object.keys(l).forEach(f=>{const y=l[f];y.length>0&&console.log(`[useProjectAudio] Track ${f}: Scheduling ${y.length} events. Range: ${y[0].time} to ${y[y.length-1].time}`),pe.setTrackClips(f,y)});let u=0;e.timeline.clips.forEach(f=>{const y=f.start+f.duration;y>u&&(u=y)});const d=`${Math.ceil(u/16)}:0:0`;console.log(`[useProjectAudio] Song Mode: MaxSteps=${u}, LoopEnd=${d}`),lt().loop=!0,lt().loopStart=0,lt().loopEnd=d}},[e.drumPatterns,e.melodicPatterns,n,i,e.tracks,e.timeline]),A.useEffect(()=>{const l=lt().scheduleRepeat(()=>{const u=lt().ticks,h=Math.floor(u/(lt().PPQ/4));o.current&&o.current(h)},"16n");return()=>{lt().clear(l)}},[]),null},Kj="_viewSelector_wtqkh_24",Jj="_active_wtqkh_42",W_={viewSelector:Kj,active:Jj},e3="_moduleHeader_1wweq_1",t3="_leftSection_1wweq_16",n3="_rightSection_1wweq_31",Wf={moduleHeader:e3,leftSection:t3,rightSection:n3},uh=({title:a,icon:e,color:n,children:i})=>T.jsxs("div",{className:Wf.moduleHeader,style:{borderBottomColor:`${n}4D`},children:[T.jsx("div",{className:Wf.leftSection,children:T.jsxs("h2",{style:{color:n},children:[T.jsx(e,{size:24,style:{color:n}}),T.jsx("span",{style:{marginLeft:"10px"},children:a})]})}),T.jsx("div",{className:Wf.rightSection,children:i})]}),iS=({value:a,onChange:e,min:n=0,max:i=100,label:o,hideLabel:l=!1,sensitivity:u=2})=>{const[h,d]=A.useState(!1),[f,y]=A.useState(0),[g,_]=A.useState(0),x=A.useCallback(C=>{if(!h)return;C.preventDefault();const w=f-C.clientY,O=Math.floor(w/u);let k=g+O;k=Math.min(Math.max(k,n),i),k!==a&&e(k)},[h,f,g,n,i,u,a,e]),v=A.useCallback(()=>{d(!1),globalThis.document.body.style.cursor="",globalThis.document.body.style.userSelect=""},[]),S=C=>{d(!0),y(C.clientY),_(a),globalThis.document.body.style.cursor="ns-resize",globalThis.document.body.style.userSelect="none",C.preventDefault()};return A.useEffect(()=>(h&&(globalThis.addEventListener("mousemove",x),globalThis.addEventListener("mouseup",v)),()=>{globalThis.removeEventListener("mousemove",x),globalThis.removeEventListener("mouseup",v)}),[h,x,v]),T.jsxs("div",{className:`drag-input ${h?"drag-input--active":""}`,role:"spinbutton",tabIndex:0,"aria-valuenow":a,"aria-valuemin":n,"aria-valuemax":i,"aria-label":o,children:[T.jsx("span",{className:"drag-input__value",children:a}),!l&&T.jsx("span",{className:"drag-input__label",children:o}),T.jsx("input",{type:"hidden",value:a,name:o,readOnly:!0}),T.jsx("div",{className:"drag-input__overlay",onMouseDown:S,style:{cursor:"ns-resize",position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10}})]})},s3=({track:a,onVolumeChange:e,onMuteChange:n,onSoloChange:i,onOutputChange:o})=>{const{setNodeRef:l,isOver:u}=sS({id:`track-header-${a.id}`,data:{type:"track-target",trackId:a.id}}),h=a.volume??.8,d=a.isMuted??a.muted??!1,f=a.isSolo??a.solo??!1,y=Number.parseInt((a.output||"insert-1").replace(/^(insert-|ci)/,""),10),g=Number.isNaN(y)?1:y,_=x=>{o?.(x)};return T.jsxs("div",{ref:l,className:`track-header ${u?"drag-over":""}`,style:{transition:"border-color 0.2s",boxSizing:"border-box"},children:[T.jsxs("div",{className:"track-header__left",children:[T.jsx("button",{className:"control-led-wrapper",onClick:()=>n?.(!d),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),n?.(!d))},title:d?"Unmute":"Mute",type:"button","aria-label":d?"Unmute Track":"Mute Track",children:T.jsx(ih,{active:!d,color:"#4caf50",size:10})}),T.jsx(Or,{size:"sm",variant:"secondary",className:f?"btn--warning":"",onClick:()=>i?.(!f),"aria-label":"Solo",title:f?"Disable Solo":"Solo Track",style:{padding:"0",width:"20px",height:"20px",fontSize:"10px",minWidth:"unset",borderRadius:"2px",lineHeight:"20px",color:f?"#FFF":"#555",backgroundColor:f?void 0:"#222",borderColor:f?void 0:"#333"},children:"S"})]}),T.jsxs("div",{className:"track-header__right",children:[T.jsx("div",{className:"track-header__right-top",children:T.jsx("span",{className:"track-name",title:a.name,style:{fontSize:"0.85em",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:"block"},children:(()=>{if(!a.sample)return a.name;const x=a.sample.match(/kits\/([^/]+)\//),v=a.sample.split("/").pop()?.replace(/\.[^/.]+$/,"")||a.sample;return x?`${v} (${x[1]})`:v})()})}),T.jsxs("div",{className:"track-header__right-bottom",children:[T.jsx(ks,{value:h*100,min:0,max:100,size:24,"aria-label":"Volume",onChange:x=>e?.(x/100)}),T.jsx("div",{style:{width:"8px"}}),T.jsxs("div",{className:"track-output-wrapper",style:{display:"flex",alignItems:"center",gap:"4px"},children:[T.jsx("span",{style:{fontSize:"0.6rem",color:"#666",marginRight:"2px"},children:"CI"}),T.jsx(iS,{value:g,min:1,max:4,onChange:_,label:"Output Channel",hideLabel:!0})]})]})]})]})},i3=({isActive:a=!1,isPlaying:e=!1,mode:n="trigger",value:i=1,onClick:o,onChange:l,isAltBeat:u=!1})=>{const h=A.useRef(null),d=A.useRef(i),f=A.useRef(!1),y=()=>{let v="";return i>=.9?v="1":i>=.45?v="1/2":i>=.3?v="1/3":v="1/4",T.jsx("span",{className:"step-cell__fill-text",children:v})},g=v=>{n==="volume"&&(v.currentTarget.setPointerCapture(v.pointerId),h.current=v.clientY,d.current=i,f.current=!1)},_=v=>{if(n==="volume"&&h.current!==null){const S=h.current-v.clientY;if(Math.abs(S)>5&&(f.current=!0),f.current&&l){const C=S/150;let w=d.current+C;w=Math.max(0,Math.min(1,w)),w=Math.round(w*10)/10,l(w)}}},x=v=>{n==="volume"&&h.current!==null&&(v.currentTarget.releasePointerCapture(v.pointerId),h.current=null,f.current||o?.(),f.current=!1)};return T.jsxs("button",{className:`step-cell step-cell--${n} ${a?"step-cell--active":""} ${e?"step-cell--playing":""} ${u?"step-cell--alt-beat":""}`,onPointerDown:n==="volume"?g:void 0,onPointerMove:n==="volume"?_:void 0,onPointerUp:n==="volume"?x:void 0,onClick:n!=="volume"?o:void 0,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),o?.())},type:"button","aria-label":`Step ${n}`,style:n==="volume"?{touchAction:"none"}:void 0,children:[n==="volume"&&a&&T.jsx("div",{className:"step-cell__bar",style:{height:`${Math.min(100,Math.max(0,i*100))}%`}}),n==="fill"&&a&&y(),n==="trigger"&&a&&T.jsx("div",{className:"step-cell__led"})]})},a3=({steps:a=[],onStepChange:e,playingStep:n=-1,mode:i="trigger"})=>{const o=A.useMemo(()=>{const l=a.map(h=>typeof h=="number"?{active:h>0,value:h}:h);if(l.length>=32)return l;const u=[...l];for(;u.length<32;)u.push({active:!1,value:0});return u},[a]);return T.jsx("div",{className:"sequencer",children:o.map((l,u)=>T.jsx(i3,{isActive:l.active,value:l.value,mode:i,isPlaying:n===u,isAltBeat:Math.floor(u/4)%2!==0,onClick:()=>e?.(u),onChange:h=>e?.(u,h)},u))})},r3=({tracks:a=[],onUpdateTrack:e,playingStep:n=-1,onTrackVolumeChange:i,onTrackMuteChange:o,onTrackSoloChange:l,onTrackOutputChange:u})=>{const h=Us(f=>f.viewMode),d=(f,y,g)=>{const _=a.find(C=>C.id===f);if(!_)return;const x=[..._.steps];let v=x[y];typeof v=="number"?v={active:v>0,value:v,volume:.8,fill:1}:(v={...v},v.volume===void 0&&(v.volume=.8),v.fill===void 0&&(v.fill=1));const S=v;h==="trigger"?S.active=!S.active:h==="volume"?g!==void 0?(S.active=!0,S.volume=g):S.active||(S.active=!0,S.volume=.8):h==="fill"&&(g!==void 0?(S.active=!0,S.fill=g):S.active?S.fill>=.9?S.fill=.5:S.fill>=.45?S.fill=.33:S.fill>=.3?S.fill=.25:S.fill=1:(S.active=!0,S.fill=1)),x[y]=S,e&&e({..._,steps:x})};return T.jsx("div",{className:"juicy-box",children:T.jsxs("div",{className:"juicy-box__main-layout",children:[T.jsxs("div",{className:"juicy-box__headers",children:[T.jsx("div",{className:"juicy-timeline-spacer"}),a.map(f=>T.jsx("div",{className:"juicy-row-header",children:T.jsx(s3,{track:f,onVolumeChange:y=>i?.(f.id,y),onMuteChange:y=>o?.(f.id,y),onSoloChange:y=>l?.(f.id,y),onOutputChange:y=>u?.(f.id,y)})},f.id))]}),T.jsxs("div",{className:"juicy-box__sequencers",children:[T.jsx("div",{className:"juicy-timeline-row",children:(()=>{const f=Math.max(32,...a.map(y=>y.steps.length));return new Array(f).fill(null).map((y,g)=>T.jsx("div",{className:`timeline-cell ${g%4===0?"beat-marker":""}`,children:g%4===0?g/4+1:""},`timeline-${g}`))})()}),a.map(f=>T.jsx("div",{className:"juicy-row-sequencer",children:T.jsx(a3,{steps:f.steps.map(y=>{const _=typeof y=="number"?{volume:.8,fill:1}:y;let x=1;return h==="volume"?x=_.volume??.8:h==="fill"&&(x=_.fill??1),{...typeof y=="object"?y:{active:y>0},value:x}}),onStepChange:(y,g)=>d(f.id,y,g),playingStep:n,mode:h})},f.id))]})]})})},o3="_patternSelector_nv6s5_1",l3="_blue_nv6s5_11",c3="_green_nv6s5_14",u3="_orange_nv6s5_17",h3="_purple_nv6s5_20",d3="_patternList_nv6s5_24",f3="_patternBtn_nv6s5_29",p3="_active_nv6s5_49",Xo={patternSelector:o3,blue:l3,green:c3,orange:u3,purple:h3,patternList:d3,patternBtn:f3,active:p3},Q_={blue:{border:"#2196F3",bg:"#2196F333"},green:{border:"#4CAF50",bg:"#4CAF5033"},orange:{border:"#FF9800",bg:"#FF980033"},purple:{border:"#E91E63",bg:"#E91E6333"}},aS=({patterns:a,activePatternId:e,onSelectPattern:n,onCreatePattern:i,color:o})=>{const l=["A","B","C","D","E","F","G","H"],u=Q_[o]||Q_.blue;return T.jsx("div",{className:`${Xo.patternSelector} ${Xo[o]}`,children:T.jsx("div",{className:Xo.patternList,children:l.map((h,d)=>{const f=a[d],y=!!f,g=!y&&d===a.length,_=y||g;return T.jsx("button",{className:`${Xo.patternBtn} ${e===f?.id?Xo.active:""}`,onClick:()=>{y?n(f.id):g&&i()},disabled:!_,style:{borderColor:y?u.border:g?"#444":"#222",backgroundColor:e===f?.id?u.bg:"transparent",color:e===f?.id?"#fff":y?"#aaa":"#444",cursor:_?"pointer":"default",borderStyle:y?"solid":"dashed"},title:y?f.name:g?"Create Pattern":"Locked",children:h},h)})})})},m3=()=>{const[a,e]=gt.useState(-1),{setNodeRef:n,isOver:i}=sS({id:"juicybox-main",data:{type:"kit-target"}});ch(e);const{project:o,activePatterns:l,createPattern:u,setActivePattern:h,updateTrackVolume:d,toggleTrackMute:f,toggleTrackSolo:y,updateTrackRouting:g,addNote:_,removeNote:x,updateNote:v}=Ke(),S=l.drums,C=o.drumPatterns,w=S?C[S]:null,O=A.useMemo(()=>Object.values(o.tracks).filter(I=>I.type==="drums").map(I=>{const P=w?.clips[I.id]||[],J=new Array(32).fill(0).map(($,se)=>{const V=P.find(F=>{const[Z,ie,ae]=F.time.split(":").map(Number);return Z*16+ie*4+ae===se});return V?{active:!0,value:1,volume:V.velocity,fill:V.fill??1}:{active:!1,value:0}});return{id:I.id,name:I.name,sample:I.instrument.sampleId||"",pan:I.pan,muted:I.muted,solo:I.solo,volume:I.volume,output:I.mixerChannelId,steps:J,isMuted:I.muted,isSolo:I.solo}}),[o.tracks,w]),k=(q,I)=>{d(q,I)},B=(q,I)=>{const P=o.tracks[q];P&&P.muted!==I&&f(q)},N=(q,I)=>{const P=o.tracks[q];P&&P.solo!==I&&y(q)},j=(q,I)=>{g(q,`insert-${I}`)},D=q=>{if(!S||!w)return;const I=P=>{const J=Math.floor(P/16),$=Math.floor(P%16/4),se=P%4;return`${J}:${$}:${se}`};q.steps.forEach((P,J)=>{const $=I(J),se=typeof P=="number"?{active:P>0,volume:.8,fill:1}:P,V=se.active,F=se.volume||.8,Z=se.fill??1,ae=(w.clips[q.id]||[]).find(M=>M.time===$);V?ae?(Math.abs(ae.velocity-F)>.01||Math.abs((ae.fill??1)-Z)>.01)&&v(S,q.id,ae,{...ae,velocity:F,fill:Z}):_(S,q.id,{time:$,note:"C4",duration:"16n",velocity:F,fill:Z}):ae&&x(S,q.id,ae)})},{viewMode:R,setViewMode:z}=Us();return T.jsxs("div",{ref:n,className:"juicy-box-container",style:{display:"flex",flexDirection:"column",height:"100%",gap:"10px",border:i?"2px dashed #E91E63":"none",boxSizing:"border-box",transition:"all 0.2s"},children:[T.jsxs(uh,{title:"JuicyBox",icon:M2,color:"#ff9800",children:[T.jsx("div",{style:{margin:"0 auto"},children:T.jsx(aS,{patterns:Object.values(C),activePatternId:S,onSelectPattern:q=>h("drums",q),onCreatePattern:()=>{const q=Object.keys(C).length,I=String.fromCharCode(65+q);u("drums",I)},color:"orange"})}),T.jsx("div",{className:W_.viewSelector,children:["trigger","volume","fill"].map(q=>T.jsx("button",{type:"button",onClick:()=>z(q),className:R===q?W_.active:"",children:q==="volume"?"Vel":q},q))})]}),T.jsx(r3,{tracks:O,onUpdateTrack:D,playingStep:a>=0?a%(w?.duration||32):-1,onTrackVolumeChange:k,onTrackMuteChange:B,onTrackSoloChange:N,onTrackOutputChange:j})]})},g3=()=>{const a=Us(e=>e.theme);return gt.useEffect(()=>{document.body.dataset.theme=a},[a]),T.jsx("div",{style:{height:"100%",width:"100%"},children:T.jsx(m3,{})})},y3="_content_llre9_43",v3="_sidebar_llre9_48",_3="_sidebarHeader_llre9_57",b3="_addButton_llre9_69",S3="_trackList_llre9_83",x3="_trackRow_llre9_95",T3="_trackHeader_llre9_101",C3="_selected_llre9_112",w3="_left_llre9_116",E3="_icon_llre9_123",A3="_open_llre9_128",N3="_name_llre9_131",O3="_controls_llre9_138",M3="_muteBtn_llre9_143",k3="_trackDrawer_llre9_149",D3="_mainArea_llre9_159",R3="_emptyState_llre9_166",Ut={content:y3,sidebar:v3,sidebarHeader:_3,addButton:b3,trackList:S3,trackRow:x3,trackHeader:T3,selected:C3,left:w3,icon:E3,open:A3,name:N3,controls:O3,muteBtn:M3,trackDrawer:k3,mainArea:D3,emptyState:R3},j3=({trackId:a,patternId:e,isPlaying:n=!1,playingStep:i=-1})=>{const{project:o,addNote:l,removeNote:u,updateNote:h}=Ke(),f=o.melodicPatterns[e]?.clips?.[a]||[],y=40,g=32,_=A.useRef(null),x=A.useRef(null),v=A.useRef(null),S=36,C=83,[w,O]=gt.useState(null),k=$=>{const se=$%12;return[1,3,6,8,10].includes(se)},B=$=>{const se=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],V=Math.floor($/12)-1,F=$%12;return`${se[F]}${V}`},N=$=>{const se=Math.floor($/16),V=Math.floor($%16/4),F=$%4;return`${se}:${V}:${F}`},j=$=>{const[se,V,F]=$.split(":").map(Number);return se*16+V*4+F},D=$=>$==="16n"?1:$==="8n"?2:$==="4n"?4:$.includes(":")?j($):1,R=$=>$===1?"16n":$===2?"8n":$===4?"4n":N($);gt.useEffect(()=>{if(!w)return;const $=V=>{const F=V.clientX-w.startX,Z=Math.round(F/y),ie=Math.max(1,w.originalDurationSteps+Z);ie!==w.currentDurationSteps&&O(ae=>ae?{...ae,currentDurationSteps:ie}:null)},se=()=>{if(w.currentDurationSteps!==w.originalDurationSteps){const V={...w.note,duration:R(w.currentDurationSteps)};h(e,a,w.note,V)}O(null)};return globalThis.addEventListener("mousemove",$),globalThis.addEventListener("mouseup",se),()=>{globalThis.removeEventListener("mousemove",$),globalThis.removeEventListener("mouseup",se)}},[w,e,a,h]);const z=($,se)=>{if(w)return;const V=$.nativeEvent.offsetX,F=Math.floor(V/y);if(F<0||F>=g)return;const Z=B(se),ie=f.findIndex(M=>M.note===Z&&j(M.time)===F);if(!f[ie]){const M={note:Z,time:N(F),duration:"16n",velocity:.8};l(e,a,M);const G=pe.tracks.get(a);G&&(G.type==="synth"&&G.polySynth?G.polySynth.triggerAttackRelease(Z,"8n"):G.type==="sampler"&&G.sampler&&G.sampler.triggerAttack(Z))}},q=($,se)=>{$.stopPropagation(),u(e,a,se)},I=($,se)=>{$.stopPropagation(),$.preventDefault(),O({note:se,startX:$.clientX,originalDurationSteps:D(se.duration),currentDurationSteps:D(se.duration)})},P=A.useMemo(()=>{const $=[];for(let se=C;se>=S;se--)$.push(se);return $},[]),J=A.useMemo(()=>Array.from({length:g},($,se)=>se),[]);return T.jsxs("div",{"data-testid":"piano-roll-container",className:"piano-roll",children:[T.jsx("div",{className:"piano-roll__controls",children:T.jsxs("div",{className:"controls-left",children:[T.jsxs("h3",{className:"piano-roll-title",children:["Piano Roll (Track ",a,")"]}),T.jsx("div",{className:"controls-separator"})]})}),T.jsx("div",{className:"piano-roll__scroller",ref:v,children:T.jsxs("div",{className:"piano-roll__content",style:{minWidth:`${g*y+60}px`,position:"relative"},children:[n&&i!==void 0&&i>=0&&T.jsx("div",{"data-testid":"playhead",className:"piano-roll__playhead",style:{left:`${i*y+60}px`,height:"100%",position:"absolute",top:0,width:"2px",backgroundColor:"#f44336",zIndex:100,pointerEvents:"none",boxShadow:"0 0 4px rgba(244, 67, 54, 0.8)"}}),T.jsxs("div",{className:"piano-roll__header",ref:x,children:[T.jsx("div",{className:"piano-roll__corner"}),T.jsx("div",{className:"piano-roll__timeline",style:{width:`${g*y}px`},children:J.map($=>{const se=$%4===0;return T.jsx("div",{className:"piano-roll__header-step","data-is-beat":se,children:$+1},$)})})]}),T.jsx("div",{className:"piano-roll__body",ref:_,children:P.map($=>{const se=B($),V=k($),F=f.filter(Z=>Z.note===se);return T.jsxs("div",{className:"piano-roll__row",children:[T.jsx("div",{className:"piano-roll__key","data-is-black":V,children:T.jsx("span",{className:"piano-roll__key-label",children:se})}),T.jsx("div",{className:"piano-roll__grid-row","data-is-black":V,onClick:Z=>z(Z,$),role:"button",tabIndex:0,onKeyDown:Z=>{(Z.key==="Enter"||Z.key===" ")&&z(Z,$)},style:{width:`${g*y}px`},children:F.map((Z,ie)=>{const ae=j(Z.time),G=w?.note.time===Z.time&&w?.note.note===Z.note?w.currentDurationSteps:D(Z.duration);return T.jsx("div",{className:"piano-roll__note",style:{left:`${ae*y}px`,width:`${G*y-2}px`},onClick:ee=>q(ee,Z),role:"button",tabIndex:0,onKeyDown:ee=>ee.stopPropagation(),children:T.jsx("div",{className:"resize-handle",onMouseDown:ee=>I(ee,Z),onClick:ee=>ee.stopPropagation(),style:{position:"absolute",right:0,top:0,bottom:0,width:"10px",cursor:"ew-resize",backgroundColor:"rgba(255,255,255,0.3)"}})},`${Z.time}-${ie}`)})})]},$)})})]})})]})},L3="_synthPanel_aa2df_1",z3="_body_aa2df_43",V3="_adsrSection_aa2df_48",q3="_graphContainer_aa2df_54",B3="_knobsRow_aa2df_62",U3="_oscSection_aa2df_67",I3="_oscBtn_aa2df_76",P3="_active_aa2df_95",Hi={synthPanel:L3,body:z3,adsrSection:V3,graphContainer:q3,knobsRow:B3,oscSection:U3,oscBtn:I3,active:P3},H3=({attack:a,decay:e,sustain:n,release:i,width:o=200,height:l=100,color:u="#4CAF50"})=>{const h=A.useRef(null);return A.useEffect(()=>{const d=h.current;if(!d)return;const f=d.getContext("2d");if(!f)return;f.clearRect(0,0,o,l),f.strokeStyle=u,f.lineWidth=2,f.lineJoin="round",f.fillStyle=u.replace(")",", 0.2)").replace("rgb","rgba");const y=Math.max(a+e+i+.5,2),g=o/y,_=0,x=l,v=_+a*g,S=0,C=v+e*g,w=l-n*l,k=C+.5*g,B=w,N=k+i*g,j=l;f.beginPath(),f.moveTo(_,x),f.lineTo(v,S),f.lineTo(C,w),f.lineTo(k,B),f.lineTo(N,j),f.stroke(),f.lineTo(N,l),f.lineTo(_,l),f.fill()},[a,e,n,i,o,l,u]),T.jsx("canvas",{ref:h,width:o,height:l,className:"adsr-graph",style:{border:"1px solid #333",borderRadius:"4px",background:"#111"}})},F3=({trackId:a})=>{const{project:e,updateTrackInstrument:n}=Ke(),i=e.tracks[a];if(!i||i.instrument.type!=="synth"||!i.instrument.synthParams)return T.jsx("div",{className:"synth-panel--empty",children:"No Synth Track Selected"});const{oscillatorType:o,envelope:l}=i.instrument.synthParams,u=l||{attack:.05,decay:.1,sustain:.3,release:1},{attack:h,decay:d,sustain:f,release:y}=u,g=v=>{n(a,{synthParams:{...i.instrument.synthParams,oscillatorType:v}})},_=(v,S)=>{n(a,{synthParams:{...i.instrument.synthParams,envelope:{...i.instrument.synthParams.envelope,[v]:S}}})},x=[{id:"triangle",icon:T.jsx(vE,{size:12,fill:"currentColor"}),label:"Tri"},{id:"sine",icon:T.jsx(Ob,{size:12}),label:"Sin"},{id:"square",icon:T.jsx(pE,{size:12,fill:"currentColor"}),label:"Sqr"},{id:"sawtooth",icon:T.jsx(Cb,{size:12}),label:"Saw"}];return T.jsx("div",{className:Hi.synthPanel,children:T.jsxs("div",{className:Hi.body,children:[T.jsxs("div",{className:Hi.adsrSection,children:[T.jsx("div",{className:Hi.graphContainer,children:T.jsx(H3,{attack:h,decay:d,sustain:f,release:y,width:160,height:40,color:"#4CAF50"})}),T.jsxs("div",{className:Hi.knobsRow,children:[T.jsx(ks,{label:"A",size:28,value:h,min:.01,max:2,step:.01,onChange:v=>_("attack",v)}),T.jsx(ks,{label:"D",size:28,value:d,min:.01,max:2,step:.01,onChange:v=>_("decay",v)}),T.jsx(ks,{label:"S",size:28,value:f,min:0,max:1,step:.01,onChange:v=>_("sustain",v)}),T.jsx(ks,{label:"R",size:28,value:y,min:.01,max:4,step:.01,onChange:v=>_("release",v)})]})]}),T.jsx("div",{className:Hi.oscSection,children:x.map(v=>T.jsx("button",{type:"button",className:`${Hi.oscBtn} ${o===v.id?Hi.active:""}`,onClick:()=>g(v.id),title:v.label,children:v.icon},v.id))})]})})},G3=()=>{const{project:a,activePatterns:e,createPattern:n,setActivePattern:i,addTrack:o,updateTrackVolume:l,toggleTrackMute:u,updateTrackRouting:h}=Ke(),{isPlaying:d,playingStep:f}=Us();ch();const[y,g]=A.useState(null),_=e.melody,x=_?a.melodicPatterns[_]:null;A.useEffect(()=>{if(!_){const C=Object.keys(a.melodicPatterns);if(C.length>0)i("melody",C[0]);else{const w=n("melody","Pattern 1");i("melody",w)}}},[_,a.melodicPatterns,n,i]);const v=()=>{const C=o("melody","New Synth","synth");g(C)};if(A.useEffect(()=>{const C=Object.values(a.tracks).filter(w=>w.type==="melody");if(C.length===0){const w=o("melody","Lead Synth","synth");g(w)}else y||g(C[0].id)},[a.tracks,y,o]),!_||!x)return T.jsx("div",{children:"Loading SynthLab..."});const S=Object.values(a.tracks).filter(C=>C.type==="melody");return T.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[T.jsxs(uh,{title:"SynthLab",icon:U2,color:"#4CAF50",children:[T.jsx("div",{style:{margin:"0 auto"},children:T.jsx(aS,{activePatternId:_,onSelectPattern:C=>i("melody",C),patterns:Object.values(a.melodicPatterns),onCreatePattern:()=>{const C=Object.keys(a.melodicPatterns).length,w=String.fromCharCode(65+C);n("melody",w)},color:"green"})}),T.jsx("div",{style:{position:"relative"}})]}),T.jsxs("div",{className:Ut.content,children:[T.jsxs("aside",{className:Ut.sidebar,children:[T.jsxs("div",{className:Ut.sidebarHeader,children:[T.jsx("span",{children:"Tracks"}),T.jsx("button",{onClick:v,className:Ut.addButton,title:"Add Synth",children:T.jsx(sE,{size:16})})]}),T.jsx("div",{className:Ut.trackList,children:S.map(C=>{const w=y===C.id,O=C.volume??.8,k=C.muted??!1,B=C.mixerChannelId||"insert-1",N=Number.parseInt(B.replace("insert-",""),10)||1,j=z=>{l(C.id,z/100)},D=z=>{z.stopPropagation(),u(C.id)},R=z=>{h(C.id,`insert-${z}`)};return T.jsxs("div",{className:Ut.trackRow,children:[T.jsxs("div",{className:`${Ut.trackHeader} ${w?Ut.selected:""}`,onClick:()=>g(w?null:C.id),role:"button",tabIndex:0,onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&g(w?null:C.id)},children:[T.jsxs("div",{className:Ut.left,children:[T.jsx("div",{className:`${Ut.icon} ${w?Ut.open:""}`,children:T.jsx(wb,{size:14})}),T.jsx("button",{className:Ut.muteBtn,onClick:D,title:k?"Unmute":"Mute",children:T.jsx(ih,{active:!k,color:"#4CAF50",size:8})}),T.jsx("span",{className:Ut.name,children:C.name||`Track ${C.id.slice(0,4)}`})]}),T.jsxs("div",{className:Ut.controls,onClick:z=>z.stopPropagation(),children:[T.jsx("div",{style:{transform:"scale(0.8)",transformOrigin:"center"},children:T.jsx(ks,{value:O*100,size:28,min:0,max:100,onChange:j,label:"Vol",hideLabel:!0})}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px"},children:[T.jsx("span",{style:{fontSize:"0.6rem",color:"#666"},children:"CI"}),T.jsx(iS,{value:N,min:1,max:10,onChange:R,label:"Out",hideLabel:!0})]})]})]}),T.jsx("div",{className:`${Ut.trackDrawer} ${w?Ut.open:""}`,children:w&&T.jsx(F3,{trackId:C.id})})]},C.id)})})]}),T.jsx("main",{className:Ut.mainArea,children:y?T.jsx(j3,{trackId:y,patternId:_,isPlaying:d,playingStep:f}):T.jsx("div",{className:Ut.emptyState,children:"Select or Create a Track"})})]})]})},$3=()=>T.jsx("div",{style:{height:"100%",width:"100%"},children:T.jsx(G3,{})}),Y3="_timelineContainer_1camu_1",X3="_timelineCursor_1camu_29",W3="_timelineClip_1camu_39",Q3="_drums_1camu_45",Z3="_melody_1camu_55",K3="_workspace_1camu_86",J3="_libraryColumn_1camu_92",e4="_libraryHeader_1camu_102",t4="_libraryGroup_1camu_114",n4="_groupHeader_1camu_117",s4="_groupName_1camu_128",i4="_libraryDrawer_1camu_133",a4="_libraryItem_1camu_137",r4="_patName_1camu_169",o4="_dragHandle_1camu_173",l4="_expandIcon_1camu_220",c4="_emptyMsg_1camu_283",u4="_gridWrapper_1camu_300",h4="_gridHelper_1camu_307",d4="_gridArea_1camu_316",f4="_ruler_1camu_320",p4="_rulerContainer_1camu_331",m4="_rulerLabel_1camu_335",g4="_trackLanes_1camu_344",y4="_trackLane_1camu_344",Ze={timelineContainer:Y3,timelineCursor:X3,timelineClip:W3,drums:Q3,melody:Z3,workspace:K3,libraryColumn:J3,libraryHeader:e4,libraryGroup:t4,groupHeader:n4,groupName:s4,libraryDrawer:i4,libraryItem:a4,patName:r4,dragHandle:o4,expandIcon:l4,emptyMsg:c4,gridWrapper:u4,gridHelper:h4,gridArea:d4,ruler:f4,rulerContainer:p4,rulerLabel:m4,trackLanes:g4,trackLane:y4},v4=({clip:a,zoom:e,onMouseDown:n,onDoubleClick:i})=>{const o=Ke(g=>g.project),l=o.drumPatterns[a.patternId]?.name||o.melodicPatterns[a.patternId]?.name||"Unknown",u=20*e,h=a.start*u,d=a.duration*u,y=!!o.drumPatterns[a.patternId]?Ze.drums:Ze.melody;return T.jsx("div",{className:`${Ze.timelineClip} ${y}`,style:{left:`${h}px`,width:`${d}px`},title:`${l} (Track: ${a.trackId})`,role:"button",tabIndex:0,onKeyDown:()=>{},onMouseDown:g=>n?.(g,a),onDoubleClick:g=>{g.stopPropagation(),i?.(g,a)},children:T.jsx("span",{className:Ze.clipLabel,children:l})})},_4=({zoom:a,playingStep:e=-1})=>{const n=20*a,o=Math.max(0,e)*n;return T.jsx("div",{"data-testid":"timeline-cursor",className:Ze.timelineCursor,style:{left:`${o}px`,display:e>=0?"block":"none"}})},b4=({zoom:a,length:e=128})=>{const n=20*a,i=16,o=i*n,l=Math.ceil(e/i),u=Array.from({length:l},(d,f)=>f+1),h=d=>{const f=d.currentTarget.getBoundingClientRect(),y=d.clientX-f.left,x=lt().bpm.value/15*n,v=y/x;pe.seekToTime(v)};return T.jsx("div",{className:Ze.rulerContainer,onClick:h,style:{cursor:"pointer"},children:u.map(d=>T.jsx("div",{className:Ze.rulerLabel,style:{left:`${(d-1)*o}px`},children:d},d))})},S4=({tracks:a=[],clips:e=[],zoom:n,playingStep:i=-1,onClipMove:o,onClipAdd:l,onClipRemove:u})=>{const[h,d]=A.useState(null),[f,y]=A.useState(0),[g,_]=A.useState(0),x=(z,q)=>{z.button===0&&(z.stopPropagation(),d(q.id),y(z.clientX),_(q.start))},v=(z,q)=>{if(!l)return;const I=z.currentTarget.getBoundingClientRect(),P=z.clientX-I.left,J=20*n,$=Math.floor(P/J);l(q,$)},S=z=>{z.preventDefault(),z.dataTransfer.dropEffect="copy"},C=(z,q)=>{z.preventDefault();const I=z.dataTransfer.getData("patternId");if(I&&l){const P=z.currentTarget.getBoundingClientRect(),J=z.clientX-P.left,$=20*n,se=Math.floor(J/$);l(q,se,I)}},w=z=>{if(!h||!o)return;const q=20*n,I=z.clientX-f,P=Math.round(I/q),J=Math.max(0,g+P);o(h,{start:J})},O=()=>{h&&d(null)};A.useEffect(()=>(h&&(globalThis.addEventListener("mousemove",w),globalThis.addEventListener("mouseup",O)),()=>{globalThis.removeEventListener("mousemove",w),globalThis.removeEventListener("mouseup",O)}),[h,f,g,o,n]);const k=e.reduce((z,q)=>Math.max(z,q.start+q.duration),64),B=20*n,j={minWidth:"100%",width:`${(k+32)*B}px`,position:"relative"},D=a.map(z=>R(z));function R(z){const q=e.filter(P=>P.trackId===z.id),I=4*B;return T.jsx("div",{className:Ze.trackLane,style:{backgroundSize:`${I}px 100%`,backgroundImage:"linear-gradient(90deg, #333 1px, transparent 1px)"},onDoubleClick:P=>v(P,z.id),onDragOver:S,onDrop:P=>C(P,z.id),"data-testid":"track-lane",children:q.map(P=>T.jsx(v4,{clip:P,zoom:n,onMouseDown:J=>x(J,P),onDoubleClick:()=>u?.(P.id)},P.id))},z.id)}return T.jsxs("div",{className:Ze.gridArea,style:j,children:[T.jsx("div",{className:Ze.ruler,children:T.jsx(b4,{zoom:n})}),T.jsx(_4,{zoom:n,playingStep:i}),T.jsx("div",{className:Ze.trackLanes,children:D})]})},x4=({groups:a,onDragStart:e})=>{const{t:n}=bp(),[i,o]=A.useState({"group-juicy":!0,"group-synth":!0}),{project:l}=Ke(),u=d=>{o(f=>({...f,[d]:!f[d]}))},h=d=>Object.values(d==="drums"?l.drumPatterns:l.melodicPatterns);return T.jsxs("div",{className:Ze.libraryColumn,children:[T.jsx("div",{className:Ze.libraryHeader,children:n("timeline.library")}),a.map(d=>{const f=i[d.id],y=h(d.type);return T.jsxs("div",{className:Ze.libraryGroup,children:[T.jsxs("div",{className:Ze.groupHeader,onClick:()=>u(d.id),role:"button",tabIndex:0,children:[T.jsx("span",{className:Ze.groupName,children:d.name}),T.jsx("span",{className:Ze.expandIcon,children:f?"":""})]}),f&&T.jsx("div",{className:Ze.libraryDrawer,children:y.length===0?T.jsx("div",{className:Ze.emptyMsg,children:"No patterns"}):y.map(g=>T.jsxs("div",{className:`${Ze.libraryItem} ${d.type==="drums"?Ze.drums:Ze.melody}`,draggable:!0,onDragStart:_=>e(_,g.id,d.type),children:[T.jsx("span",{className:Ze.patName,children:g.name}),T.jsx("span",{className:Ze.dragHandle,children:":::"})]},g.id))})]},d.id)})]})},T4=({tracks:a=[],groups:e=[],clips:n=[],zoom:i=1,playingStep:o=-1,onClipMove:l,onClipAdd:u,onClipRemove:h})=>{const d=(f,y,g)=>{f.dataTransfer.setData("patternId",y),f.dataTransfer.setData("type",g),f.dataTransfer.setData("source","library")};return T.jsxs("div",{className:Ze.timelineContainer,children:[T.jsx(uh,{title:"Skyline",icon:X2,color:"#bb86fc"}),T.jsxs("div",{className:Ze.workspace,children:[T.jsx(x4,{groups:e,onDragStart:d}),T.jsxs("div",{className:Ze.gridWrapper,children:[T.jsx("div",{className:Ze.gridHelper,children:"Double-click to create, drag to move."}),T.jsx(S4,{tracks:a,clips:n,zoom:i,playingStep:o,onClipMove:l,onClipAdd:u,onClipRemove:h})]})]})]})},C4=()=>{const{playMode:a,playingStep:e,isPlaying:n}=Us(),{activePatterns:i,project:o}=Ke(),[l,u]=A.useState(0);A.useEffect(()=>{const _=setInterval(()=>{u(pe.getCurrentTime())},100);return()=>clearInterval(_)},[]);const h=gt.useRef(null);A.useEffect(()=>{const _=h.current;if(!_)return;const x=_.getContext("2d");if(!x)return;_.width=300,_.height=200;const v=Math.floor(_.width/10),S=Array(v).fill(1),C="1234567890",O=setInterval(()=>{x.fillStyle="rgba(0, 0, 0, 0.1)",x.fillRect(0,0,_.width,_.height),x.fillStyle="#0F0",x.font="10px monospace";for(let k=0;k<S.length;k++){const B=C.charAt(Math.floor(Math.random()*C.length));x.fillText(B,k*10,S[k]*10),S[k]*10>_.height&&Math.random()>.975&&(S[k]=0),S[k]++}},50);return()=>clearInterval(O)},[]);const d=o.drumPatterns[i.drums||""]?.name||"None",f=o.melodicPatterns[i.melody||""]?.name||"None",y=()=>n?T.jsx("span",{style:{color:"#0f0"},children:" PLAYING"}):T.jsx("span",{style:{color:"#ff0",animation:"blink 1.5s infinite"},children:" READY"}),g=(_,x=10)=>{const v=Math.max(0,_),S=Math.floor(v%x),C=Math.max(0,Math.min(S,x));return"["+"#".repeat(C)+"-".repeat(x-C)+"]"};return T.jsxs("div",{style:{position:"absolute",bottom:20,right:20,width:"320px",backgroundColor:"rgba(0, 5, 0, 0.9)",color:"#0f0",fontFamily:"'Courier New', monospace",borderRadius:"4px",fontSize:"11px",pointerEvents:"none",zIndex:9999,border:"1px solid #0f0",boxShadow:"0 0 10px #0f0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[T.jsx("canvas",{ref:h,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.5,zIndex:0}}),T.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06))",backgroundSize:"100% 2px, 2px 100%",pointerEvents:"none",zIndex:1}}),T.jsxs("div",{style:{padding:"12px",zIndex:2,position:"relative",textShadow:"0 0 2px #0f0"},children:[T.jsxs("div",{style:{borderBottom:"1px solid #0f0",paddingBottom:"4px",marginBottom:"8px",fontWeight:"bold",display:"flex",justifyContent:"space-between"},children:[T.jsx("span",{children:"SYSTEM_MONITOR_V2.0"}),y()]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"8px"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{color:"#005500"},children:"STATUS"}),T.jsx("div",{children:n?">> RUNNING":"|| PAUSED"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{color:"#005500"},children:"MODE"}),T.jsxs("div",{style:{color:a==="SKYLINE"?"#aff":"#ff0"},children:["[",a,"]"]})]})]}),T.jsxs("div",{style:{marginBottom:"8px"},children:[T.jsxs("div",{children:["TIMER: ",l.toFixed(3),"s"]}),T.jsxs("div",{children:["STEP : ",e.toString().padStart(3,"0")," ",g(e,16)]}),T.jsxs("div",{children:["CPU  : ",g(Date.now()/100,10)]})]}),T.jsxs("div",{style:{borderTop:"1px dashed #005500",paddingTop:"4px",marginTop:"4px"},children:[T.jsx("div",{style:{color:"#005500"},children:"ACTIVE_TASKS:"}),T.jsxs("div",{children:["DRM: ",d]}),T.jsxs("div",{children:["SYN: ",f]})]})]}),T.jsx("style",{children:`
                    @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
                `})]})},w4=()=>{const{project:a,updateTimelineClip:e,addTimelineClip:n,removeTimelineClip:i,createPattern:o,activePatterns:l}=Ke(),{setPlayingStep:u,playingStep:h}=Us();ch(u);const d=[{id:"group-juicy",name:"JuicyBox",type:"drums"},{id:"group-synth",name:"SynthLab",type:"melody"}],f=Array.from({length:12},(v,S)=>({id:`lane-${S+1}`,name:`Track ${S+1}`})),y=a.timeline.clips,g=(v,S)=>{(S.start!==void 0||S.trackId!==void 0)&&e(v,S)},_=(v,S,C)=>{let w=C;if(w||(w=l.drums||void 0,w||(w=o("drums",`Pattern ${Math.floor(S/16)+1}`))),!w)return;const O={id:`clip-${Date.now()}`,patternId:w,trackId:v,start:S,duration:32};n(O)},x=v=>{i(v)};return T.jsxs("div",{style:{height:"100%",width:"100%",overflow:"hidden",position:"relative"},children:[T.jsx(T4,{tracks:f,groups:d,clips:y,onClipMove:g,onClipAdd:_,onClipRemove:x,playingStep:h}),T.jsx(C4,{})]})},E4="_mixerBoard_4sq21_1",A4="_masterSection_4sq21_9",N4="_channelsContainer_4sq21_19",O4="_inspectorSection_4sq21_37",M4="_collapsed_4sq21_43",Wo={mixerBoard:E4,masterSection:A4,channelsContainer:N4,inspectorSection:O4,collapsed:M4},k4="_channelStrip_ysyph_1",D4="_selected_ysyph_14",R4="_master_ysyph_18",j4="_header_ysyph_23",L4="_mainSection_ysyph_33",z4="_meterContainer_ysyph_42",V4="_controls_ysyph_48",q4="_buttonRow_ysyph_54",B4="_muteBtn_ysyph_59",U4="_soloBtn_ysyph_60",I4="_active_ysyph_78",P4="_panSection_ysyph_90",H4="_routing_ysyph_98",F4="_routingIcon_ysyph_110",tn={channelStrip:k4,selected:D4,master:R4,header:j4,mainSection:L4,meterContainer:z4,controls:V4,buttonRow:q4,muteBtn:B4,soloBtn:U4,active:I4,panSection:P4,routing:H4,routingIcon:F4},rS=({value:a=0,min:e=0,max:n=100,height:i="100%",label:o,onChange:l})=>{const u=A.useRef(null),[h,d]=A.useState(!1),f=Math.min(Math.max(a,e),n),y=(f-e)/(n-e),g=v=>{if(!u.current||!l)return;const S=u.current.getBoundingClientRect();let w=(S.bottom-v)/S.height;w=Math.min(Math.max(w,0),1);const O=e+w*(n-e);l(O)},_=v=>{v.preventDefault(),d(!0),g(v.clientY)},x=v=>{if(!l)return;const S=(n-e)/10;let C;if(v.key==="ArrowUp"||v.key==="ArrowRight")C=Math.min(f+S,n);else if(v.key==="ArrowDown"||v.key==="ArrowLeft")C=Math.max(f-S,e);else return;v.preventDefault(),l(C)};return A.useEffect(()=>{const v=C=>{h&&(C.preventDefault(),g(C.clientY))},S=()=>d(!1);return h&&(globalThis.addEventListener("mousemove",v),globalThis.addEventListener("mouseup",S)),()=>{globalThis.removeEventListener("mousemove",v),globalThis.removeEventListener("mouseup",S)}},[h,n,e,l]),T.jsxs("div",{className:`fader ${h?"fader--active":""}`,role:"slider","aria-label":o,"aria-orientation":"vertical","aria-valuenow":f,"aria-valuemin":e,"aria-valuemax":n,tabIndex:0,onKeyDown:x,children:[o&&T.jsx("div",{className:"fader__label",children:o}),T.jsx("div",{className:"fader__track",ref:u,style:{height:i},onMouseDown:_,children:T.jsx("div",{className:"fader__thumb",style:{bottom:`${y*100}%`}})})]})},_p=({trackId:a,width:e=6,stereo:n=!1,channel:i="mono"})=>{const o=A.useRef(null),l=A.useRef(null),u=400,h=f=>{let y=-100,g=-100;const _=pe.getStereoLevels(a);y=_.l,g=_.r,!n&&i==="mono"&&(y=Math.max(y,g),g=y),f.clearRect(0,0,e,u),f.fillStyle="#222",f.fillRect(0,0,e,u);const x=(v,S,C)=>{let w=(v+60)/60;w<0&&(w=0),w>1.2&&(w=1.2);const O=3,k=1,B=Math.floor(u/(O+k)),N=Math.floor(w*B);for(let j=0;j<B;j++){const D=u-j*(O+k)-O;let R="#333";if(j<N){const z=j/B;z<.7?R="#00ff00":z<.9?R="#ffff00":R="#ff0000"}f.fillStyle=R,f.fillRect(S,D,C,O)}};if(i==="left")x(y,0,e);else if(i==="right")x(g,0,e);else if(n){const v=(e-2)/2;x(y,0,v),x(g,v+2,v)}else x(y,0,e)},d=()=>{if(o.current){const f=o.current.getContext("2d");f&&h(f)}l.current=requestAnimationFrame(d)};return A.useEffect(()=>(l.current=requestAnimationFrame(d),()=>{l.current&&cancelAnimationFrame(l.current)}),[a,n,i]),T.jsx("canvas",{ref:o,width:e,height:u,style:{borderRadius:2,height:"100%",width:"100%",display:"block"}})},Z_=({trackId:a,label:e,isSelected:n,onSelect:i})=>{const o=Ke(v=>{const S=v.project.mixer;return a==="master"?S.master:S.groups[a]?S.groups[a]:S.inserts[a]?S.inserts[a]:null}),l=Ke(v=>v.updateMixerChannel);if(!o)return T.jsx("div",{className:tn.channelStrip,children:"Unknown"});const u=a==="master",h=a.startsWith("insert-"),d=v=>{l(a,{volume:v})},f=v=>{l(a,{pan:v})},y=()=>{l(a,{muted:!o.muted})},g=()=>{l(a,{solo:!o.solo})},_=()=>{if(u)return;let v="master";h&&(o.output==="master"?v="group-1":o.output==="group-1"?v="group-2":o.output==="group-2"?v="group-3":o.output==="group-3"&&(v="group-4")),l(a,{output:v})},x=v=>v==="master"?"MST":v.startsWith("group-")?`G${v.split("-")[1]}`:v;return T.jsxs("div",{className:`${tn.channelStrip} ${n?tn.selected:""} ${u?tn.master:""}`,onClick:i,role:"button",tabIndex:0,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&i()},children:[T.jsx("div",{className:tn.header,children:e}),T.jsx("div",{className:tn.panSection,children:T.jsx(ks,{value:o.pan,min:-1,max:1,size:u?40:32,onChange:f})}),T.jsxs("div",{className:tn.mainSection,style:{height:"100%",minHeight:0},children:[T.jsx("div",{style:{height:"100%",flex:1,display:"flex",justifyContent:"center"},children:T.jsx(rS,{value:o.volume,onChange:d,height:"100%",min:0,max:1})}),T.jsx("div",{className:tn.meterContainer,style:{height:"100%"},children:T.jsx(_p,{trackId:a,width:u?16:8,stereo:u})})]}),T.jsxs("div",{className:tn.controls,children:[T.jsxs("div",{className:tn.buttonRow,children:[T.jsx("button",{className:`${tn.muteBtn} ${o.muted?tn.active:""}`,onClick:v=>{v.stopPropagation(),y()},title:"Mute",children:"M"}),!u&&T.jsx("button",{className:`${tn.soloBtn} ${o.solo?tn.active:""}`,onClick:v=>{v.stopPropagation(),g()},title:"Solo",children:"S"})]}),!u&&T.jsxs("button",{className:tn.routing,onClick:v=>{v.stopPropagation(),_()},title:`Output: ${o.output}`,children:[T.jsx("div",{className:tn.routingIcon,children:""}),T.jsx("span",{style:{fontSize:"9px",color:"#666",marginLeft:4},children:x(o.output)})]})]})]})},G4="_fxInspector_afi3u_1",$4="_slotList_afi3u_27",Y4="_fxSlot_afi3u_32",X4="_glassy_afi3u_47",W4="_header_afi3u_52",Q4="_titleSection_afi3u_61",Z4="_typeSelectContainer_afi3u_68",K4="_actions_afi3u_94",J4="_chevron_afi3u_116",e5="_deleteBtn_afi3u_119",t5="_collapsed_afi3u_130",n5="_params_afi3u_133",s5="_paramRow_afi3u_147",i5="_paramLabel_afi3u_154",a5="_paramValue_afi3u_161",r5="_addBtn_afi3u_216",Wt={fxInspector:G4,slotList:$4,fxSlot:Y4,glassy:X4,header:W4,titleSection:Q4,typeSelectContainer:Z4,actions:K4,chevron:J4,deleteBtn:e5,collapsed:t5,params:n5,paramRow:s5,paramLabel:i5,paramValue:a5,addBtn:r5},eu={reverb:{color:"#8B5CF6",icon:Ob,label:"Space Reverb"},delay:{color:"#06B6D4",icon:Cb,label:"Echo Delay"},distortion:{color:"#F97316",icon:SE,label:"Hard Disto"},chorus:{color:"#3B82F6",icon:oE,label:"Stereo Chorus"},bitcrusher:{color:"#EF4444",icon:K2,label:"Bit Crusher"},autofilter:{color:"#10B981",icon:H2,label:"Auto Filter"}},o5=({channelId:a})=>{const[e,n]=A.useState(new Set),i=Ke(S=>{if(!a)return null;const C=S.project.mixer;return a==="master"?C.master:a.startsWith("group")?C.groups[a]:a.startsWith("insert")?C.inserts[a]:null}),o=Ke(S=>S.addChannelEffect),l=Ke(S=>S.removeChannelEffect),u=Ke(S=>S.updateChannelEffect),h=S=>{const C=new Set(e);C.has(S)?C.delete(S):C.add(S),n(C)},d=S=>{a&&o(a,{type:S})};if(!a||!i)return T.jsxs("div",{className:Wt.fxInspector,children:[T.jsx("h3",{children:"The Sauce"}),T.jsx("div",{style:{color:"#666",fontStyle:"italic",padding:"20px",textAlign:"center"},children:"Choisis une piste pour mettre la Sauce !"})]});const f=(S,C)=>{let w={};C==="reverb"?w={decay:1.5,preDelay:.01,mix:.5}:C==="delay"?w={time:.25,feedback:.5,mix:.5}:C==="distortion"?w={amount:.4,mix:.5}:C==="chorus"?w={frequency:4,delayTime:2.5,depth:.5,mix:.5}:C==="bitcrusher"?w={bits:4,mix:.5}:C==="autofilter"&&(w={frequency:1,depth:.5,baseFrequency:200,mix:.5}),u(a,S,{type:C,params:w})},y=(S,C,w)=>{const O=i.effects.find(B=>B.id===S);if(!O)return;const k={...O.params,[C]:w};u(a,S,{params:k})},g=(S,C)=>{C.stopPropagation();const w=i.effects.find(O=>O.id===S);w&&u(a,S,{enabled:!w.enabled})},_=S=>S==="amount"?1:S==="decay"?10:S==="preDelay"?.5:S==="frequency"?20:S==="time"?1:S==="delayTime"?10:S==="feedback"||S==="depth"?1:S==="bits"?8:S==="baseFrequency"?1e3:1,x=S=>S==="bits"?1:0,v=S=>{const C=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(S);return C?{r:Number.parseInt(C[1],16),g:Number.parseInt(C[2],16),b:Number.parseInt(C[3],16)}:null};return T.jsxs("div",{className:Wt.fxInspector,children:[T.jsxs("h3",{children:["THE SAUCE: ",T.jsx("span",{style:{color:"#fff"},children:i.name})]}),T.jsxs("div",{className:Wt.slotList,children:[i.effects.map(S=>{const C=eu[S.type]||eu.reverb,w=C.icon,O=S.params.mix??.5,k=e.has(S.id),B=v(C.color),N=.1,j=O*.4,D=B?`rgba(${B.r}, ${B.g}, ${B.b}, ${N+j})`:`rgba(30, 30, 30, ${1-O*.7})`,R={borderLeftColor:S.enabled?C.color:"#444",background:S.enabled?D:"#1a1a1a",filter:S.enabled?"none":"grayscale(100%) opacity(0.5)","--accent-color":C.color};return T.jsxs("div",{className:`${Wt.fxSlot} ${S.enabled?Wt.glassy:""} ${k?"":Wt.collapsed}`,style:R,children:[T.jsxs("div",{className:Wt.header,onClick:()=>h(S.id),children:[T.jsxs("div",{className:Wt.titleSection,children:[T.jsx(w,{size:16,color:C.color}),T.jsx("div",{className:Wt.typeSelectContainer,onClick:z=>z.stopPropagation(),children:T.jsx("select",{value:S.type,onChange:z=>f(S.id,z.target.value),children:Object.keys(eu).map(z=>T.jsx("option",{value:z,children:eu[z].label},z))})})]}),T.jsxs("div",{className:Wt.actions,children:[T.jsx("button",{onClick:z=>g(S.id,z),title:"Toggle On/Off",children:T.jsx(aE,{size:14,color:S.enabled?C.color:"#666"})}),T.jsx("button",{className:Wt.deleteBtn,onClick:z=>{z.stopPropagation(),l(a,S.id)},title:"Remove",children:T.jsx(gE,{size:14})}),T.jsx("button",{className:Wt.chevron,children:T.jsx(Op,{size:16,color:"#aaa"})})]})]}),k&&T.jsx("div",{className:Wt.params,children:Object.entries(S.params).map(([z,q])=>T.jsxs("div",{className:Wt.paramRow,children:[T.jsx("span",{className:Wt.paramLabel,children:z}),T.jsx(ks,{value:q,min:x(z),max:_(z),size:30,onChange:I=>y(S.id,z,I),style:{color:C.color}}),T.jsx("span",{className:Wt.paramValue,children:q.toFixed(2)})]},z))})]},S.id)}),T.jsx("button",{className:Wt.addBtn,onClick:()=>d("reverb"),title:"Add Effect",children:"+ Add Spice"})]})]})},l5=({width:a=60,height:e=40})=>{const n=A.useRef(null),i=A.useRef(null),o=A.useRef(null);return A.useEffect(()=>{const l=new Ml("fft",2048);i.current=l,pe.masterStrip?.muteGain?pe.masterStrip.muteGain.connect(l):pe.master?pe.master.connect(l):console.warn("[SpectrumAnalyzer] Could not find Master Output to connect to.");const u=()=>{if(!n.current||!i.current)return;const h=n.current.getContext("2d");if(!h)return;const d=i.current.getValue();h.clearRect(0,0,a,e);const f=d.length,y=20,g=22e3,x=nn().sampleRate/2;h.fillStyle="#9C27B0";for(let v=0;v<a;v++){const S=Math.log(y),C=Math.log(g),w=v/a*(C-S)+S,O=Math.exp(w),k=Math.floor(O/x*f);let N=(d[Math.min(k,f-1)]+100)/80;N<0&&(N=0),N>1&&(N=1);const j=N*e;h.fillRect(v,e-j,1,j)}o.current=requestAnimationFrame(u)};return u(),()=>{o.current&&cancelAnimationFrame(o.current),i.current?.dispose()}},[a,e]),T.jsx("canvas",{ref:n,width:a,height:e,style:{backgroundColor:"#111",borderRadius:4}})},c5=()=>{const[a,e]=A.useState(null);return T.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",gap:"10px"},children:[T.jsx(uh,{title:"The Sauce",icon:Nb,color:"#d32f2f"}),T.jsxs("div",{className:Wo.mixerBoard,style:{flex:1,overflow:"hidden"},children:[T.jsxs("div",{className:Wo.masterSection,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,padding:"4px 2px",minWidth:"220px",height:"100%"},children:[T.jsx(l5,{width:210,height:120}),T.jsxs("div",{style:{flex:1,minHeight:0,width:"100%",display:"flex",flexDirection:"row",gap:10,padding:"0 8px"},children:[T.jsx("div",{style:{width:12,height:"100%",border:"1px solid #333",background:"#000",padding:1,borderRadius:2},children:T.jsx(_p,{trackId:"master",channel:"left",width:10})}),T.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",height:"100%",gap:8,background:"#111",border:"1px solid #333",borderRadius:4,padding:"8px 4px"},children:[T.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#888",background:"#000",padding:"2px 6px",borderRadius:2},children:"MASTER"}),T.jsx(u5,{}),T.jsx("div",{style:{flex:1,width:"100%",display:"flex",justifyContent:"center"},children:T.jsx(h5,{})}),T.jsx(d5,{})]}),T.jsx("div",{style:{width:12,height:"100%",border:"1px solid #333",background:"#000",padding:1,borderRadius:2},children:T.jsx(_p,{trackId:"master",channel:"right",width:10})})]})]}),T.jsxs("div",{className:Wo.channelsContainer,children:[["group-1","group-2","group-3","group-4"].map((n,i)=>T.jsx(Z_,{trackId:n,label:`CG ${i+1}`,isSelected:a===n,onSelect:()=>e(n)},n)),T.jsx("div",{style:{width:1,backgroundColor:"#444",margin:"0 8px",height:"100%"}}),Array.from({length:10},(n,i)=>i+1).map(n=>{const i=`insert-${n}`;return T.jsx(Z_,{trackId:i,label:`CI ${n}`,isSelected:a===i,onSelect:()=>e(i)},i)})]}),T.jsx("div",{className:`${Wo.inspectorSection} ${a?"":Wo.collapsed}`,children:T.jsx(o5,{channelId:a})})]})]})},u5=()=>{const a=Ke(n=>n.project.mixer.master.pan),e=Ke(n=>n.updateMixerChannel);return T.jsx(ks,{value:a,min:-1,max:1,size:40,onChange:n=>e("master",{pan:n})})},h5=()=>{const a=Ke(n=>n.project.mixer.master.volume),e=Ke(n=>n.updateMixerChannel);return T.jsx(rS,{value:a,min:0,max:1,onChange:n=>e("master",{volume:n}),height:"100%"})},d5=()=>{const a=Ke(n=>n.project.mixer.master.muted),e=Ke(n=>n.updateMixerChannel);return T.jsx("button",{onClick:()=>e("master",{muted:!a}),style:{width:24,height:24,borderRadius:2,border:"1px solid #333",background:a?"#f00":"#222",color:a?"#fff":"#666",cursor:"pointer",fontSize:10,display:"flex",alignItems:"center",justifyContent:"center"},children:"M"})},f5=()=>T.jsx(c5,{}),p5=({onStart:a})=>{const{t:e,i18n:n}=bp(),[i,o]=A.useState(!1),l=()=>{o(!0),setTimeout(a,800)};return T.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"radial-gradient(circle at 50% 30%, #2a0033 0%, #09090a 80%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,color:"#e1e1e6",fontFamily:"system-ui, -apple-system, sans-serif",overflow:"hidden",transition:"all 0.8s cubic-bezier(0.6, 0, 0.2, 1)",opacity:i?0:1,transform:i?"scale(1.2)":"scale(1)",filter:i?"blur(20px)":"none",pointerEvents:i?"none":"auto"},children:[T.jsxs("button",{onClick:()=>n.changeLanguage(n.language==="fr"?"en":"fr"),style:{position:"absolute",top:"30px",right:"30px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"30px",color:"#e1e1e6",padding:"8px 16px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",zIndex:100,fontSize:"0.85rem",fontWeight:500,backdropFilter:"blur(10px)",transition:"all 0.3s ease"},onMouseOver:u=>{u.currentTarget.style.background="rgba(255, 255, 255, 0.15)",u.currentTarget.style.borderColor="#bb86fc"},onMouseOut:u=>{u.currentTarget.style.background="rgba(255, 255, 255, 0.05)",u.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},onFocus:u=>{u.currentTarget.style.borderColor="#bb86fc"},onBlur:u=>{u.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[T.jsx(Eb,{size:16}),T.jsx("span",{children:n.language.toUpperCase()})]}),T.jsx("style",{children:`
                    /* Floating Blobs Animation */
                    @keyframes float {
                        0% { transform: translate(0px, 0px) scale(1); }
                        33% { transform: translate(30px, -50px) scale(1.1); }
                        66% { transform: translate(-20px, 20px) scale(0.9); }
                        100% { transform: translate(0px, 0px) scale(1); }
                    }
                    @keyframes spin-slow {
                        0% { transform: translate(-50%, -50%) rotate(0deg); }
                        100% { transform: translate(-50%, -50%) rotate(360deg); }
                    }
                    .blob-orbit {
                        position: absolute; top: 50%; left: 50%;
                        width: 150vmax; height: 150vmax;
                        animation: spin-slow 60s linear infinite;
                        pointer-events: none;
                        z-index: 0;
                    }
                    .blob {
                        position: absolute; filter: blur(80px); opacity: 0.4; animation: float 10s infinite ease-in-out;
                        border-radius: 50%;
                    }

                    /* Audio Bars Animation */
                    .audio-visualizer {
                        display: flex;
                        gap: 6px;
                        align-items: flex-end;
                        height: 60px;
                        margin-bottom: 20px;
                        opacity: 0.8;
                    }
                    .bar {
                        width: 8px;
                        background: linear-gradient(to top, #646cff, #bb86fc);
                        border-radius: 4px;
                        animation: bounce 1.2s infinite ease-in-out;
                    }
                    @keyframes bounce {
                        0%, 100% { height: 10%; opacity: 0.5; }
                        50% { height: 100%; opacity: 1; box-shadow: 0 0 15px #bb86fc; }
                    }

                    /* Floating Studio Elements */
                    .studio-bg {
                        position: absolute; width: 100%; height: 100%;
                        background-image: radial-gradient(rgba(100, 108, 255, 0.05) 1px, transparent 1px);
                        background-size: 30px 30px;
                        opacity: 0.3;
                        pointer-events: none;
                    }

                    /* Main Button */
                    .start-btn {
                        background: transparent;
                        border: 1px solid rgba(187, 134, 252, 0.3);
                        color: #e1e1e6;
                        padding: 16px 48px;
                        font-family: system-ui;
                        font-size: 1.1rem;
                        font-weight: 600;
                        letter-spacing: 1px;
                        border-radius: 50px;
                        cursor: pointer;
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                        backdrop-filter: blur(10px);
                        display: flex;
                        align-items: center;
                        gap: 12px;
                        position: relative;
                        overflow: hidden;
                    }
                    .start-btn:hover {
                        border-color: #bb86fc;
                        background: rgba(187, 134, 252, 0.1);
                        box-shadow: 0 0 30px rgba(187, 134, 252, 0.2);
                        transform: translateY(-2px);
                        color: #fff;
                    }
                    .start-btn::before {
                        content: '';
                        position: absolute;
                        top: 0; left: -100%; width: 100%; height: 100%;
                        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
                        transition: 0.5s;
                    }
                    .start-btn:hover::before {
                        left: 100%;
                    }

                    /* Typography */
                    .title-glow {
                        font-size: 5rem;
                        font-weight: 800;
                        letter-spacing: -2px;
                        background: linear-gradient(180deg, #fff 0%, #a0a0a0 100%);
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                        filter: drop-shadow(0 0 20px rgba(187, 134, 252, 0.3));
                    }
                `}),T.jsxs("div",{className:"blob-orbit",children:[T.jsx("div",{className:"blob",style:{top:"20%",left:"20%",width:"40vw",height:"40vw",background:"#4e0eff",animationDelay:"0s"}}),T.jsx("div",{className:"blob",style:{bottom:"20%",right:"20%",width:"35vw",height:"35vw",background:"#bb86fc",animationDelay:"5s"}}),T.jsx("div",{className:"blob",style:{top:"60%",left:"60%",width:"25vw",height:"25vw",background:"#ff0055",opacity:.2,animationDelay:"2s"}})]}),T.jsx("div",{className:"studio-bg",style:{zIndex:1}}),T.jsx("div",{className:"audio-visualizer",style:{zIndex:2},children:[...Array(12)].map((u,h)=>T.jsx("div",{className:"bar",style:{animationDelay:`${Math.random()*.5}s`,height:`${20+Math.random()*80}%`,background:h%2===0?"#646cff":"#bb86fc"}},h))}),T.jsxs("div",{style:{zIndex:10,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[T.jsx("h1",{className:"title-glow",style:{margin:0},children:"BOUMBAPP"}),T.jsx("p",{style:{fontSize:"1.1rem",color:"#9ca3af",margin:"10px 0 50px 0",letterSpacing:"0.5px",fontWeight:300},children:e("hero.subtitle")}),T.jsxs("button",{className:"start-btn",onClick:l,children:[T.jsx("span",{style:{fontSize:"1.2rem"},children:""}),e("hero.enter")]})]}),T.jsxs("div",{style:{position:"absolute",bottom:"30px",display:"flex",gap:"30px",color:"#666",fontSize:"0.85rem",zIndex:10},children:[T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[" ",e("hero.features.sequencer")]}),T.jsx("span",{style:{width:"1px",background:"#333"}}),T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[" ",e("hero.features.mixer")]}),T.jsx("span",{style:{width:"1px",background:"#333"}}),T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[" ",e("hero.features.cloud")]})]})]})};function m5(){const[a,e]=A.useState(!1);ch(),A.useEffect(()=>{Us.getState()._initAudio()},[]);const n=async()=>{await pe.initialize(),e(!0)};return T.jsx(s2,{basename:"/BoumbApp/",children:T.jsxs(jw,{children:[T.jsx(Fi,{path:"/",element:a?T.jsx(jf,{to:"/juicy",replace:!0}):T.jsx(p5,{onStart:n})}),T.jsxs(Fi,{element:a?T.jsx(Zj,{}):T.jsx(jf,{to:"/",replace:!0}),children:[T.jsx(Fi,{path:"juicy",element:T.jsx(g3,{})}),T.jsx(Fi,{path:"synth",element:T.jsx($3,{})}),T.jsx(Fi,{path:"mixer",element:T.jsx(f5,{})}),T.jsx(Fi,{path:"song",element:T.jsx(w4,{})})]}),T.jsx(Fi,{path:"*",element:T.jsx(jf,{to:"/",replace:!0})})]})})}AT.createRoot(document.getElementById("root")).render(T.jsx(A.StrictMode,{children:T.jsx(m5,{})}));
